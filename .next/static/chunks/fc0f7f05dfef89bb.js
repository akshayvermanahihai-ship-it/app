(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";e.s(["Eye",()=>s],86536);let s=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},32312,e=>{"use strict";e.s(["default",()=>m]);var s=e.i(43476),t=e.i(71645),r=e.i(78583),a=e.i(3116),l=e.i(69638),d=e.i(20286),i=e.i(79002),c=e.i(25652),n=e.i(87316),o=e.i(86536),x=e.i(63209);function m(){let[e,m]=(0,t.useState)({todayPatients:0,pendingReports:0,completedReports:0,totalReports:0,weeklyPatients:0,monthlyPatients:0,completionRate:0,avgReportsPerDay:0}),[h,g]=(0,t.useState)([]),[p,j]=(0,t.useState)(!0);(0,t.useEffect)(()=>{b()},[]);let b=async()=>{try{let[e,s,t]=await Promise.all([fetch("/api/doctor/stats"),fetch("/api/doctor/pending-patients"),fetch("/api/doctor/completed-reports")]);if(e.ok){let s=await e.json();m(e=>({...e,...s}))}if(s.ok&&t.ok){let[e,r]=await Promise.all([s.json(),t.json()]),a=e.data||[],l=(r.data||[]).slice(0,10);g(l);let d=a.length+l.length,i=d>0?Math.round(l.length/d*100):0;m(e=>({...e,pendingReports:a.length,completedReports:l.length,totalReports:d,completionRate:i,avgReportsPerDay:Math.round(l.length/7)}))}}catch(e){console.error("Error fetching dashboard data")}finally{j(!1)}};return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white p-6 rounded-xl shadow-lg",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Doctor Dashboard"}),(0,s.jsx)("p",{className:"text-emerald-100 text-lg",children:"Patient Reports & Medical Review"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reports"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:p?"...":e.pendingReports}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting Review"})]}),(0,s.jsx)("div",{className:"p-3 bg-orange-100 rounded-full",children:(0,s.jsx)(a.Clock,{className:"h-8 w-8 text-orange-600"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed Today"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-600",children:p?"...":e.completedReports}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Reports Reviewed"})]}),(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,s.jsx)(l.CheckCircle,{className:"h-8 w-8 text-green-600"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:[p?"...":e.completionRate,"%"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Overall Progress"})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,s.jsx)(c.TrendingUp,{className:"h-8 w-8 text-blue-600"})})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Daily Average"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:p?"...":e.avgReportsPerDay}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Reports/Day"})]}),(0,s.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,s.jsx)(n.Calendar,{className:"h-8 w-8 text-purple-600"})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(o.Eye,{className:"h-5 w-5 mr-2"}),"Recent Activity"]}),(0,s.jsx)("div",{className:"space-y-3",children:p?(0,s.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Loading recent activity..."}):h.length>0?h.slice(0,5).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.patient_name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.cro," â€¢ ",e.scan_name||"Scan"]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(1===e.c_status?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:1===e.c_status?"Completed":"Pending"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.date})]})]},e.patient_id)):(0,s.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No recent activity"})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(x.AlertCircle,{className:"h-5 w-5 mr-2"}),"Priority Actions"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-red-900",children:"Urgent Reports"}),(0,s.jsxs)("p",{className:"text-sm text-red-700",children:[e.pendingReports," reports need immediate attention"]})]}),(0,s.jsx)("a",{href:"/doctor/report-pending-list",className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Review"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-blue-900",children:"CT Scan Queue"}),(0,s.jsx)("p",{className:"text-sm text-blue-700",children:"Check patient queue for CT scans"})]}),(0,s.jsx)("a",{href:"/doctor/ct-scan-doctor-list",className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"View"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-green-900",children:"Completed Reports"}),(0,s.jsx)("p",{className:"text-sm text-green-700",children:"Review all completed reports"})]}),(0,s.jsx)("a",{href:"/doctor/view-report",className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"View All"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("a",{href:"/doctor/report-pending-list",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-orange-300 hover:bg-orange-50 transition-colors",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-orange-500",children:(0,s.jsx)(a.Clock,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Pending Reports"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[e.pendingReports," waiting"]})]})]}),(0,s.jsxs)("a",{href:"/doctor/view-report",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-colors",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-green-500",children:(0,s.jsx)(r.FileText,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"View Reports"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[e.completedReports," completed"]})]})]}),(0,s.jsxs)("a",{href:"/doctor/ct-scan-doctor-list",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-blue-500",children:(0,s.jsx)(d.Stethoscope,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Patient Queue"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"CT Scan List"})]})]}),(0,s.jsxs)("a",{href:"/doctor/ct-scan-doctors",className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-purple-500",children:(0,s.jsx)(i.UserPlus,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Manage Doctors"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Add/Edit"})]})]})]})]})]})}}]);