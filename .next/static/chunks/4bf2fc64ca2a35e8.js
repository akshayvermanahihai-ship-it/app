(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33651,t=>{"use strict";t.s(["Download",()=>e],33651);let e=(0,t.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},44112,t=>{"use strict";t.s(["default",()=>n]);var e=t.i(43476),a=t.i(71645),s=t.i(84614),r=t.i(63059);function n(){let[t,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{let t=await fetch("https://varahasdc.co.in/api/reception/patients/last-enrolled");if(t.ok){let e=await t.json();n(e.data)}}catch(t){console.error("Error fetching last patient:",t)}};return t?(0,e.jsx)("div",{className:"bg-blue-600 bg-opacity-20 rounded-lg p-4 border border-blue-200",children:(0,e.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,e.jsx)(s.User,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"text-sm font-medium text-white",children:"Last Enrolled Patient"}),(0,e.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,e.jsx)("span",{className:"text-sm font-bold text-white",children:t.cro}),(0,e.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,e.jsx)("span",{className:"text-sm font-medium text-white",children:t.patient_name})]})}):null}},34619,t=>{"use strict";t.s(["default",()=>d]);var e=t.i(43476),a=t.i(71645),s=t.i(87316),r=t.i(78583),n=t.i(33651),c=t.i(55436),l=t.i(8776),o=t.i(44112);function d(){let t=(0,l.useToastContext)(),[d,i]=(0,a.useState)(""),[x,m]=(0,a.useState)([]),[h,p]=(0,a.useState)(null),[u,g]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[b,w]=(0,a.useState)(1),[j]=(0,a.useState)(10);(0,a.useEffect)(()=>{let t=(()=>{let t=new Date,e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();return"".concat(e,"-").concat(a,"-").concat(s)})();i(t),N(t)},[]);let N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;if(!e)return void t.error("Please select a date");g(!0);try{let a=await fetch("https://varahasdc.co.in/api/reception/reports/daily?date=".concat(e));if(a.ok){let e=await a.json();e.success?(m(e.data||[]),p(e.summary),f(!0),0===e.data.length&&t.info("No data found for the selected date")):(t.error("Failed to generate report"),m([]),p(null),f(!1))}else t.error("Failed to generate report"),m([]),p(null),f(!1)}catch(e){console.error("Error generating report:",e),t.error("Error generating report"),m([]),p(null),f(!1)}finally{g(!1)}},v=async t=>{t.preventDefault(),N()};return(0,e.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:(0,e.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,e.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg mb-6",children:(0,e.jsxs)("div",{className:"flex justify-between items-start",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Daily Report"}),(0,e.jsx)("p",{className:"text-blue-100 text-lg",children:"Generate comprehensive daily patient and financial reports"})]}),(0,e.jsx)("div",{className:"ml-6",children:(0,e.jsx)(o.default,{})})]})}),(0,e.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 mb-6",children:[(0,e.jsx)("div",{className:"bg-gradient-to-r from-sky-500 to-sky-600 text-white p-4 rounded-lg mb-6",children:(0,e.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,e.jsx)(s.Calendar,{className:"h-5 w-5 mr-2"}),"Report By Day"]})}),(0,e.jsx)("form",{onSubmit:v,className:"space-y-6",children:(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Date ",(0,e.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,e.jsx)("input",{type:"date",value:d.split("-").reverse().join("-"),onChange:t=>{let e=t.target.value.split("-");i("".concat(e[2],"-").concat(e[1],"-").concat(e[0]))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,e.jsx)("div",{children:(0,e.jsxs)("button",{type:"submit",disabled:u,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium",children:[(0,e.jsx)(c.Search,{className:"h-4 w-4"}),(0,e.jsx)("span",{children:u?"Generating...":"Generate Report"})]})})]})})]}),y&&(0,e.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100",children:[(0,e.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"VARAHA SDC"}),(0,e.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mt-1",children:["DAILY REPORT - ",d]})]}),(0,e.jsxs)("button",{onClick:()=>{if(!d||0===x.length)return void t.error("No data to export");let e='\n      <html>\n        <head>\n          <meta charset="UTF-8">\n          <style>\n            table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }\n            th, td { border: 1px solid black; padding: 8px; text-align: left; }\n            th { background-color: #f0f0f0; font-weight: bold; text-align: center; }\n            .header { text-align: center; font-weight: bold; font-size: 16px; }\n            .center { text-align: center; }\n            .amount { text-align: right; }\n          </style>\n        </head>\n        <body>\n          <table>\n            <tr><th colspan="14" class="header">VARAHA SDC</th></tr>\n            <tr><th colspan="14" class="header">DAILY REPORT Date: '.concat(d,"</th></tr>\n            <tr>\n              <th>S.No</th>\n              <th>CRO</th>\n              <th>Name</th>\n              <th>Age</th>\n              <th>Gender</th>\n              <th>Category</th>\n              <th>Doctor</th>\n              <th>Hospital</th>\n              <th>Scan Type</th>\n              <th>Total Scan</th>\n              <th>Total Amount</th>\n              <th>Received Amount</th>\n              <th>Due Amount</th>\n              <th>Contact Number</th>\n            </tr>\n    ");x.forEach((t,a)=>{e+='\n        <tr>\n          <td class="center">'.concat(a+1,"</td>\n          <td>").concat(t.cro,"</td>\n          <td>").concat(t.patientName,'</td>\n          <td class="center">').concat(t.age,'</td>\n          <td class="center">').concat(t.gender,"</td>\n          <td>").concat(t.category,"</td>\n          <td>").concat(t.doctorName,"</td>\n          <td>").concat(t.hospitalName,"</td>\n          <td>").concat(t.scanType,'</td>\n          <td class="center">').concat(t.totalScan,'</td>\n          <td class="amount">₹').concat(t.totalAmount.toLocaleString(),'</td>\n          <td class="amount">₹').concat(t.receivedAmount.toLocaleString(),'</td>\n          <td class="amount">₹').concat(t.dueAmount.toLocaleString(),"</td>\n          <td>").concat(t.contactNumber,"</td>\n        </tr>\n      ")});let a=x.reduce((t,e)=>t+(e.totalAmount||0),0),s=x.reduce((t,e)=>t+(e.receivedAmount||0),0),r=x.reduce((t,e)=>t+(e.dueAmount||0),0),n=x.reduce((t,e)=>t+(e.totalScan||0),0),c=new Blob([e+='\n            <tr><td colspan="14"></td></tr>\n            <tr style="font-weight: bold; background-color: #f0f0f0;">\n              <td class="center">-</td>\n              <td class="center">-</td>\n              <td class="center">TOTAL</td>\n              <td class="center">-</td>\n              <td class="center">-</td>\n              <td class="center">-</td>\n              <td class="center">-</td>\n              <td class="center">-</td>\n              <td class="center">-</td>\n              <td class="center">'.concat(n,'</td>\n              <td class="amount">₹').concat(a.toLocaleString(),'</td>\n              <td class="amount">₹').concat(s.toLocaleString(),'</td>\n              <td class="amount">₹').concat(r.toLocaleString(),'</td>\n              <td class="center">').concat(x.length,"</td>\n            </tr>\n          </table>\n        </body>\n      </html>\n    ")],{type:"application/vnd.ms-excel;charset=utf-8"}),l=window.URL.createObjectURL(c),o=document.createElement("a");o.href=l,o.download="DAILY REPORT-".concat(d,".xls"),o.click(),window.URL.revokeObjectURL(l)},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 shadow-md font-medium",children:[(0,e.jsx)(n.Download,{className:"h-4 w-4"}),(0,e.jsx)("span",{children:"Export to Excel"})]})]})}),(0,e.jsx)("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:(0,e.jsxs)("table",{className:"w-full",children:[(0,e.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.No"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CRO"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doctor"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hospital"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scan Type"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Scan"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receive Amount"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Amount"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Number"})]})}),(0,e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{x.length;let t=(b-1)*j;return x.slice(t,t+j).map((a,s)=>(0,e.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black font-medium",children:t+s+1}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,e.jsx)("div",{className:"text-sm font-medium text-blue-600",children:a.cro})}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,e.jsx)("div",{className:"text-sm font-medium text-black",children:a.patientName})}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.age}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.gender}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.category}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.doctorName}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.hospitalName}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.scanType}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.totalScan}),(0,e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:["₹",a.totalAmount.toLocaleString()]}),(0,e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:["₹",a.receivedAmount.toLocaleString()]}),(0,e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:["₹",a.dueAmount.toLocaleString()]}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:a.contactNumber})]},s))})()})]})}),(()=>{let t=Math.ceil(x.length/j);return t>1&&(0,e.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",b," of ",t," | Total: ",x.length," records"]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[b>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{onClick:()=>w(1),className:"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md",children:"First"}),(0,e.jsx)("button",{onClick:()=>w(b-1),className:"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md",children:"Previous"})]}),(0,e.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,t)},(a,s)=>{let r=Math.max(1,b-2)+s;return r>t?null:(0,e.jsx)("button",{onClick:()=>w(r),className:"px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 shadow-md ".concat(b===r?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white":"bg-gradient-to-r from-gray-400 to-gray-500 text-white hover:from-gray-500 hover:to-gray-600"),children:r},r)})}),b<t&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{onClick:()=>w(b+1),className:"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md",children:"Next"}),(0,e.jsx)("button",{onClick:()=>w(t),className:"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md",children:"Last"})]})]})]})})})(),0===x.length&&(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)(r.FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Found"}),(0,e.jsx)("p",{className:"text-gray-500",children:"No patient records found for the selected date."})]})]}),!y&&!u&&(0,e.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-12",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(r.FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Generate Daily Report"}),(0,e.jsx)("p",{className:"text-gray-500",children:'Select a date above and click "Generate Report" to view daily patient and financial data.'})]})})]})})}}]);