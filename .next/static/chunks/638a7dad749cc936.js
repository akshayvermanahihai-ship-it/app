(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29562,e=>{"use strict";e.s(["Button",()=>o,"Card",()=>a,"Pagination",()=>x,"Table",()=>i,"TableBody",()=>l,"TableCell",()=>c,"TableHeader",()=>r,"TableHeaderCell",()=>n,"TableRow",()=>d,"default",()=>s]);var t=e.i(43476);function s(e){let{children:s,title:a,subtitle:i,actions:r}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:a}),i&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:i})]}),r&&(0,t.jsx)("div",{className:"flex space-x-3",children:r})]})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s})]})}function a(e){let{children:s,className:a=""}=e;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(a),children:s})}function i(e){let{children:s}=e;return(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:s})})})}function r(e){let{children:s}=e;return(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsx)("tr",{children:s})})}function n(e){let{children:s,className:a=""}=e;return(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(a),children:s})}function l(e){let{children:s}=e;return(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s})}function d(e){let{children:s,className:a=""}=e;return(0,t.jsx)("tr",{className:"hover:bg-gray-50 ".concat(a),children:s})}function c(e){let{children:s,className:a="",...i}=e;return(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ".concat(a),...i,children:s})}function o(e){let{children:s,variant:a="primary",size:i="md",className:r="",...n}=e;return(0,t.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[a]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[i]," ").concat(r),...n,children:s})}function x(e){let{currentPage:s,totalPages:a,onPageChange:i,totalItems:r,itemsPerPage:n}=e,l=Math.min(s*n,r);return(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)(o,{variant:"secondary",size:"sm",onClick:()=>i(s-1),disabled:1===s,children:"Previous"}),(0,t.jsx)(o,{variant:"secondary",size:"sm",onClick:()=>i(s+1),disabled:s===a,children:"Next"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,t.jsx)("span",{className:"font-medium",children:(s-1)*n+1})," to"," ",(0,t.jsx)("span",{className:"font-medium",children:l})," of"," ",(0,t.jsx)("span",{className:"font-medium",children:r})," results"]})}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)(o,{variant:"secondary",size:"sm",onClick:()=>i(s-1),disabled:1===s,children:"Previous"}),Array.from({length:Math.min(5,a)},(e,r)=>{let n=Math.max(1,s-2)+r;return n<=a?(0,t.jsx)(o,{variant:s===n?"primary":"secondary",size:"sm",onClick:()=>i(n),children:n},n):null}),(0,t.jsx)(o,{variant:"secondary",size:"sm",onClick:()=>i(s+1),disabled:s===a,children:"Next"})]})]})]})}},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},61269,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),s=e.i(71645);function a(e){let{onDateChange:a,className:i=""}=e,[r,n]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),c=new Date,o=c.toISOString().split("T")[0],x=new Date(c.getTime()-7776e6).toISOString().split("T")[0];return(0,s.useEffect)(()=>{n(o),d(o),a(o,o)},[o]),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end space-y-4 sm:space-y-0 sm:space-x-4 ".concat(i),children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,t.jsx)("input",{type:"date",value:r,min:x,max:o,onChange:e=>{var t;n(t=e.target.value),a(t,l)},className:"px-3 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"})]}),(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,t.jsx)("input",{type:"date",value:l,min:x,max:o,onChange:e=>{var t;d(t=e.target.value),a(r,t)},className:"px-3 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"})]})]})}},14764,e=>{"use strict";e.s(["Send",()=>t],14764);let t=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},75523,e=>{"use strict";e.s(["default",()=>h]);var t=e.i(43476),s=e.i(71645),a=e.i(55436),i=e.i(88511),r=e.i(86536),n=e.i(78583),l=e.i(14764),d=e.i(84614),c=e.i(37727),o=e.i(16715),x=e.i(29562),m=e.i(61269);function h(){let[e,h]=(0,s.useState)([]),[u,p]=(0,s.useState)(!0),[g,f]=(0,s.useState)(""),[y,b]=(0,s.useState)(1),[j]=(0,s.useState)(10),[N,w]=(0,s.useState)(!1),[v,k]=(0,s.useState)(null),[C,S]=(0,s.useState)({destination:"Nursing",cro:""}),[P,T]=(0,s.useState)(null);(0,s.useEffect)(()=>{P&&_()},[P]);let _=(0,s.useCallback)(async()=>{if(P)try{let e=new URLSearchParams({from_date:P.from_date,to_date:P.to_date}),t=await fetch("https://varahasdc.co.in/api/admin/patient-list?".concat(e));if(t.ok){let e=await t.json();h(e.data||[])}else alert("Failed to fetch patients")}catch(e){console.error("Error fetching patients:",e),alert("Error fetching patients")}finally{p(!1)}},[P]),E=async()=>{try{(await fetch("/api/admin/patients/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).ok&&(alert("Patient sent to ".concat(C.destination," successfully!")),w(!1),_())}catch(e){alert("Error sending patient")}},M=e.filter(e=>{var t,s;return(null==(t=e.cro)?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null==(s=e.patient_name)?void 0:s.toLowerCase().includes(g.toLowerCase()))}),R=Math.ceil(M.length/j),D=(y-1)*j,L=M.slice(D,D+j);return(0,t.jsx)(x.default,{title:"Edit Patient Registration",subtitle:"Manage and edit registered patient information",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,t.jsx)(m.default,{onDateChange:(e,t)=>T({from_date:e,to_date:t})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Search Patient to Edit"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by CRO or patient name...",value:g,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,t.jsxs)("button",{onClick:_,disabled:u||!P,title:"Refresh patient list",className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 disabled:opacity-50 shadow-md",children:[(0,t.jsx)(o.RefreshCw,{className:"h-5 w-5 ".concat(u?"animate-spin":"")}),(0,t.jsx)("span",{children:u?"Loading...":"Refresh"})]})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S. No."}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CRO No."}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doctor Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hospital Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:D+s+1}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-red-600",children:e.cro})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.patient_name})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:0===e.amount_due?(0,t.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"No Due"}):(0,t.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Due"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.dname||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.h_name||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(e=>{let s=e.amount_due>0,a=e.scan_status,i="",r=s;switch(a){case 0:i="Awaiting For Process";break;case 2:i="Stand In Corridor Queue",r=!0;break;case 3:i="Recall";break;case 4:i="Pending";break;default:i="Unknown Status"}return 2===a&&(r=!0),(0,t.jsx)("button",{onClick:()=>!r&&void(k(e),S({destination:"Nursing",cro:e.cro}),w(!0)),disabled:r,title:i,className:"px-3 py-1 rounded-lg text-sm font-medium transition-all duration-200 ".concat(r?"bg-gray-400 text-white cursor-not-allowed opacity-60":"bg-red-600 text-white hover:bg-red-700 shadow-md"),children:i})})(e),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("a",{href:"/reception/patient-registration/new?edit=".concat(e.patient_id),title:"Edit Patient Details",children:(0,t.jsx)("button",{className:"px-2 py-1 bg-red-600 text-white text-xs rounded-lg hover:bg-red-700 font-medium transition-all duration-200 shadow-md group",title:"Edit Patient Details",children:(0,t.jsx)(i.Edit,{className:"h-4 w-4 group-hover:scale-110 transition-transform"})})}),(0,t.jsx)("a",{href:"/reception/patient-registration/payment/".concat(e.patient_id),title:"View Payment Details",children:(0,t.jsx)("button",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 font-medium transition-all duration-200 shadow-md group",title:"View Payment Details",children:(0,t.jsx)(n.FileText,{className:"h-4 w-4 group-hover:scale-110 transition-transform"})})}),(0,t.jsx)("button",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-lg hover:bg-green-700 font-medium transition-all duration-200 shadow-md group",title:"View Invoice",children:(0,t.jsx)(r.Eye,{className:"h-4 w-4 group-hover:scale-110 transition-transform"})})]})]})})]},e.patient_id))})]})}),R>1&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",y," of ",R," | Total: ",M.length," records"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[y>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>b(1),title:"Go to first page",className:"px-3 py-2 text-sm font-medium bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200 shadow-md",children:"First"}),(0,t.jsx)("button",{onClick:()=>b(y-1),title:"Go to previous page",className:"px-3 py-2 text-sm font-medium bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200 shadow-md",children:"Previous"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,R)},(e,s)=>{let a=Math.max(1,y-2)+s;return a>R?null:(0,t.jsx)("button",{onClick:()=>b(a),title:"Go to page ".concat(a),className:"px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 shadow-md ".concat(y===a?"bg-red-600 text-white":"bg-gray-400 text-white hover:bg-gray-500"),children:a},a)})}),y<R&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>b(y+1),title:"Go to next page",className:"px-3 py-2 text-sm font-medium bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200 shadow-md",children:"Next"}),(0,t.jsx)("button",{onClick:()=>b(R),title:"Go to last page",className:"px-3 py-2 text-sm font-medium bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200 shadow-md",children:"Last"})]})]})]})}),0===M.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.User,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Patients Found"}),(0,t.jsx)("p",{className:"text-gray-500",children:u?"Loading patients...":"No registered patients found for today."})]})]}),N&&(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md",children:[(0,t.jsx)("div",{className:"bg-red-600 text-white p-4 rounded-t-lg",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Send To"}),(0,t.jsx)("button",{onClick:()=>w(!1),title:"Close modal",className:"text-white hover:text-gray-200 transition-colors duration-200",children:(0,t.jsx)(c.X,{className:"h-5 w-5"})})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["Send patient ",(0,t.jsx)("strong",{children:null==v?void 0:v.cro})," to:"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",name:"destination",value:"Nursing",checked:"Nursing"===C.destination,onChange:e=>S(t=>({...t,destination:e.target.value})),className:"mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Nursing"})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",name:"destination",value:"Console",checked:"Console"===C.destination,onChange:e=>S(t=>({...t,destination:e.target.value})),className:"mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Console"})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)("button",{onClick:E,title:"Send patient to selected destination",className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 flex items-center justify-center space-x-2 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(l.Send,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Submit"})]}),(0,t.jsx)("button",{onClick:()=>w(!1),title:"Cancel and close modal",className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-all duration-200 shadow-md font-medium",children:"Cancel"})]})]})]})})]})})}}]);