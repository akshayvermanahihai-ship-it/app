(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},86536,e=>{"use strict";e.s(["Eye",()=>s],86536);let s=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},85665,e=>{"use strict";e.s(["default",()=>l]);var s=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(40127),n=e.i(3374);function l(e){let{children:l}=e,i=(0,a.useRouter)(),[d,c]=(0,t.useState)(null),[o,x]=(0,t.useState)(!0),[m,u]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{let e=localStorage.getItem("user");if(!e)return void i.push("/login");try{let s=JSON.parse(e);console.log("Layout - User data:",s),console.log("Layout - User role:",s.role||s.admin_type),c(s)}catch(e){console.error("Layout - Error parsing user data:",e),i.push("/login")}finally{x(!1)}},[i]),(0,t.useEffect)(()=>{let e=()=>{window.innerWidth>=1024&&u(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),o)?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-indigo-50 to-cyan-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative mb-8",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full blur opacity-75"}),(0,s.jsx)("div",{className:"relative w-32 h-32 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto",children:(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),(0,s.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Loading..."})]})}):d?(0,s.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-30 lg:hidden",onClick:()=>u(!1)}),(0,s.jsx)("div",{className:"\n        fixed lg:static inset-y-0 left-0 z-40 lg:z-auto\n        transform ".concat(m?"translate-x-0":"-translate-x-full"," lg:translate-x-0\n        transition-transform duration-300 ease-in-out lg:transition-none\n      "),children:(0,s.jsx)(r.default,{userRole:d.role||d.admin_type,onClose:()=>u(!1)})}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden lg:ml-0",children:[(0,s.jsx)(n.default,{user:d,onMenuClick:()=>u(!0)}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto p-2 sm:p-4 lg:p-6",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto w-full",children:l})})]})]}):null}},60539,e=>{"use strict";e.s(["FormButton",()=>n,"FormInput",()=>t,"FormSelect",()=>a,"FormTextarea",()=>r]);var s=e.i(43476);let t=e=>{let{label:t,error:a,className:r="",...n}=e;return(0,s.jsxs)("div",{className:"space-y-1.5",children:[t&&(0,s.jsx)("label",{className:"block font-medium text-gray-600",style:{fontSize:"12px",fontFamily:"sans-serif"},children:t}),(0,s.jsx)("input",{...n,className:"w-full px-3 py-2.5 sm:px-4 sm:py-3 border border-gray-300 rounded-lg sm:rounded-xl text-gray-700 font-normal focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-all duration-200 mobile-px-3 ".concat(r),style:{fontSize:"14px",fontFamily:"sans-serif"}}),a&&(0,s.jsx)("p",{className:"text-red-600",style:{fontSize:"12px",fontFamily:"sans-serif"},children:a})]})},a=e=>{let{label:t,error:a,options:r,className:n="",...l}=e;return(0,s.jsxs)("div",{className:"space-y-1.5",children:[t&&(0,s.jsx)("label",{className:"block font-medium text-gray-600",style:{fontSize:"12px",fontFamily:"sans-serif"},children:t}),(0,s.jsx)("select",{...l,className:"w-full px-3 py-2.5 sm:px-4 sm:py-3 border border-gray-300 rounded-lg sm:rounded-xl text-gray-700 font-normal focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-all duration-200 mobile-px-3 ".concat(n),style:{fontSize:"14px",fontFamily:"sans-serif"},children:r.map(e=>(0,s.jsx)("option",{value:e.value,className:"text-gray-700",children:e.label},e.value))}),a&&(0,s.jsx)("p",{className:"text-red-600",style:{fontSize:"12px",fontFamily:"sans-serif"},children:a})]})},r=e=>{let{label:t,error:a,className:r="",...n}=e;return(0,s.jsxs)("div",{className:"space-y-1.5",children:[t&&(0,s.jsx)("label",{className:"block font-medium text-gray-600",style:{fontSize:"12px",fontFamily:"sans-serif"},children:t}),(0,s.jsx)("textarea",{...n,className:"w-full px-3 py-2.5 sm:px-4 sm:py-3 border border-gray-300 rounded-lg sm:rounded-xl text-gray-700 font-normal focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-all duration-200 resize-vertical mobile-px-3 ".concat(r),style:{fontSize:"14px",fontFamily:"sans-serif"}}),a&&(0,s.jsx)("p",{className:"text-red-600",style:{fontSize:"12px",fontFamily:"sans-serif"},children:a})]})},n=e=>{let{children:t,variant:a="primary",className:r="",...n}=e;return(0,s.jsx)("button",{...n,className:"".concat("px-4 py-2.5 sm:px-6 sm:py-3 rounded-lg sm:rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2 mobile-px-3 mobile-p-2"," ").concat("primary"===a?"bg-sky-500 text-white hover:bg-sky-600 focus:ring-2 focus:ring-sky-400 focus:ring-offset-2":"bg-gray-200 text-gray-700 hover:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"," ").concat(r),style:{fontSize:"14px",fontFamily:"sans-serif"},children:t})}},3281,e=>{"use strict";e.s(["Printer",()=>s],3281);let s=(0,e.i(75254).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},16015,(e,s,t)=>{},98547,(e,s,t)=>{var a=e.i(47167);e.r(16015);var r=e.r(71645),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),l=void 0!==a.default&&a.default.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},d=function(){function e(e){var s=void 0===e?{}:e,t=s.name,a=void 0===t?"stylesheet":t,r=s.optimizeForSpeed,n=void 0===r?l:r;c(i(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",c("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var d="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=d?d.getAttribute("content"):null}var s,t=e.prototype;return t.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(l||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(s,t){return"number"==typeof t?e._serverSheet.cssRules[t]={cssText:s}:e._serverSheet.cssRules.push({cssText:s}),t},deleteRule:function(s){e._serverSheet.cssRules[s]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,s){if(c(i(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof s&&(s=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,s),this._rulesCount++;if(this._optimizeForSpeed){var t=this.getSheet();"number"!=typeof s&&(s=t.cssRules.length);try{t.insertRule(e,s)}catch(s){return l||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[s];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},t.replaceRule=function(e,s){if(this._optimizeForSpeed||"undefined"==typeof window){var t="undefined"!=typeof window?this.getSheet():this._serverSheet;if(s.trim()||(s=this._deletedRulePlaceholder),!t.cssRules[e])return e;t.deleteRule(e);try{t.insertRule(s,e)}catch(a){l||console.warn("StyleSheet: illegal rule: \n\n"+s+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),t.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];c(a,"old rule at index `"+e+"` not found"),a.textContent=s}return e},t.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var s=this._tags[e];c(s,"rule at index `"+e+"` not found"),s.parentNode.removeChild(s),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},t.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(s,t){return t?s=s.concat(Array.prototype.map.call(e.getSheetForTag(t).cssRules,function(s){return s.cssText===e._deletedRulePlaceholder?null:s})):s.push(null),s},[])},t.makeStyleTag=function(e,s,t){s&&c(i(s),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),s&&a.appendChild(document.createTextNode(s));var r=document.head||document.getElementsByTagName("head")[0];return t?r.insertBefore(a,t):r.appendChild(a),a},s=[{key:"length",get:function(){return this._rulesCount}}],function(e,s){for(var t=0;t<s.length;t++){var a=s[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,s),e}();function c(e,s){if(!e)throw Error("StyleSheet: "+s+".")}var o=function(e){for(var s=5381,t=e.length;t;)s=33*s^e.charCodeAt(--t);return s>>>0},x={};function m(e,s){if(!s)return"jsx-"+e;var t=String(s),a=e+t;return x[a]||(x[a]="jsx-"+o(e+"-"+t)),x[a]}function u(e,s){"undefined"==typeof window&&(s=s.replace(/\/style/gi,"\\/style"));var t=e+s;return x[t]||(x[t]=s.replace(/__jsx-style-dynamic-selector/g,e)),x[t]}var f=function(){function e(e){var s=void 0===e?{}:e,t=s.styleSheet,a=void 0===t?null:t,r=s.optimizeForSpeed,n=void 0!==r&&r;this._sheet=a||new d({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),a&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var s=e.prototype;return s.add=function(e){var s=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,s){return e[s]=0,e},{}));var t=this.getIdAndRules(e),a=t.styleId,r=t.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var n=r.map(function(e){return s._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=n,this._instancesCounts[a]=1},s.remove=function(e){var s=this,t=this.getIdAndRules(e).styleId;if(function(e,s){if(!e)throw Error("StyleSheetRegistry: "+s+".")}(t in this._instancesCounts,"styleId: `"+t+"` not found"),this._instancesCounts[t]-=1,this._instancesCounts[t]<1){var a=this._fromServer&&this._fromServer[t];a?(a.parentNode.removeChild(a),delete this._fromServer[t]):(this._indices[t].forEach(function(e){return s._sheet.deleteRule(e)}),delete this._indices[t]),delete this._instancesCounts[t]}},s.update=function(e,s){this.add(s),this.remove(e)},s.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},s.cssRules=function(){var e=this,s=this._fromServer?Object.keys(this._fromServer).map(function(s){return[s,e._fromServer[s]]}):[],t=this._sheet.cssRules();return s.concat(Object.keys(this._indices).map(function(s){return[s,e._indices[s].map(function(e){return t[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},s.styles=function(e){var s,t;return s=this.cssRules(),void 0===(t=e)&&(t={}),s.map(function(e){var s=e[0],a=e[1];return n.default.createElement("style",{id:"__"+s,key:"__"+s,nonce:t.nonce?t.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},s.getIdAndRules=function(e){var s=e.children,t=e.dynamic,a=e.id;if(t){var r=m(a,t);return{styleId:r,rules:Array.isArray(s)?s.map(function(e){return u(r,e)}):[u(r,s)]}}return{styleId:m(a),rules:Array.isArray(s)?s:[s]}},s.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,s){return e[s.id.slice(2)]=s,e},{})},e}(),h=r.createContext(null);function j(){return new f}function p(){return r.useContext(h)}h.displayName="StyleSheetContext";var g=n.default.useInsertionEffect||n.default.useLayoutEffect,y="undefined"!=typeof window?j():void 0;function b(e){var s=y||p();return s&&("undefined"==typeof window?s.add(e):g(function(){return s.add(e),function(){s.remove(e)}},[e.id,String(e.dynamic)])),null}b.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},t.StyleRegistry=function(e){var s=e.registry,t=e.children,a=r.useContext(h),l=r.useState(function(){return a||s||j()})[0];return n.default.createElement(h.Provider,{value:l},t)},t.createStyleRegistry=j,t.style=b,t.useStyleRegistry=p},37902,(e,s,t)=>{s.exports=e.r(98547).style},72250,e=>{"use strict";e.s(["default",()=>n]);var s=e.i(43476),t=e.i(37902),a=e.i(37727),r=e.i(3281);function n(e){let{isOpen:n,onClose:l,patientData:i}=e;if(!n)return null;let d=e=>{let s=["","one","two","three","four","five","six","seven","eight","nine"];if(0===e)return"zero";let t="";return e>=1e3&&(t+=s[Math.floor(e/1e3)]+" thousand ",e%=1e3),e>=100&&(t+=s[Math.floor(e/100)]+" hundred ",e%=100),e>=20?(t+=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"][Math.floor(e/10)]+" ",e%=10):e>=10&&(t+=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"][e-10]+" ",e=0),e>0&&(t+=s[e]+" "),t.trim().toUpperCase()+" RUPEES ONLY"};return(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 flex justify-between items-center p-4 border-b no-print",children:[(0,s.jsx)("h2",{className:"jsx-5afa080497efa182 text-xl font-bold text-gray-900",children:"Receipt Print"}),(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 flex space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>{window.print()},className:"jsx-5afa080497efa182 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors flex items-center space-x-2",children:[(0,s.jsx)(r.Printer,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"jsx-5afa080497efa182",children:"Print"})]}),(0,s.jsx)("button",{onClick:l,className:"jsx-5afa080497efa182 p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,s.jsx)(a.X,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 p-6",children:[(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 receipt-form border border-gray-400 mb-8 p-4",children:[(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-center text-xs",children:(0,s.jsxs)("thead",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"Dr. S.N. MEDICAL COLLEGE AND ATTACHED GROUP OF HOSPITAL, JODHPUR"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"Rajasthan Medical Relief Society, M.D.M. Hospital, Jodhpur"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"IMAGING CENTRE UNDER P.P.P.MODE : VARAHA SDC"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"256 SLICE DUAL ENERGY CT SCAN, M.D.M HOSPITAL Jodhpur(Raj.) - 342003"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"Tel. : +91-291-2648120 , 0291-2648121 , 0291-2648122"})})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-4",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Reg.No :"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-48 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.cro)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 text-center",children:(0,s.jsx)("span",{className:"jsx-5afa080497efa182 border border-sky-500 rounded-lg px-3 py-1",children:"Cash Receipt"})}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-12",children:"Date"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.date)||new Date().toLocaleDateString()})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Ref. By :"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-96 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.doctor)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-44",children:"Date and Time of Appointment :"}),(0,s.jsxs)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:[(null==i?void 0:i.appointmentDate)||"N/A"," At ",(null==i?void 0:i.appointmentTime)||"N/A"]})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24",children:"Patient Name:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-96 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.name)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Category"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.category)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-12",children:"Age :"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.age)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Gender"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.gender)||"N/A"})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Address"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.address)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Phone:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-64 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.phone)||"N/A"})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24",children:"Investigations:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.investigations)||"N/A"})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32",children:"For Sum Of Rupees:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:d((null==i?void 0:i.totalAmount)||0)}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 text-center",children:(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 border border-sky-500 p-1",children:[(0,s.jsx)("div",{className:"jsx-5afa080497efa182",children:"Scan Amount"}),(0,s.jsxs)("div",{className:"jsx-5afa080497efa182",children:["₹ ",(null==i?void 0:i.scanAmount)||0]})]})}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 text-center",children:(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 border border-sky-500 p-1",children:[(0,s.jsx)("div",{className:"jsx-5afa080497efa182",children:"Received Amount"}),(0,s.jsxs)("div",{className:"jsx-5afa080497efa182",children:["₹ ",(null==i?void 0:i.receivedAmount)||0]})]})})]})}),(null==i?void 0:i.discount)&&(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182",children:"Discount"}),(0,s.jsxs)("td",{className:"jsx-5afa080497efa182 border border-sky-500 p-1",children:["₹ ",i.discount]})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-4",children:(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsxs)("td",{colSpan:6,className:"jsx-5afa080497efa182 text-right",children:["For Varaha SDC",(0,s.jsx)("br",{className:"jsx-5afa080497efa182"}),(0,s.jsx)("span",{className:"jsx-5afa080497efa182 mr-12",children:"Jodhpur"})]})})})]}),(0,s.jsx)("hr",{className:"jsx-5afa080497efa182 my-4"}),(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 receipt-form border border-gray-400 p-4",children:[(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-center text-xs",children:(0,s.jsxs)("thead",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"Dr. S.N. MEDICAL COLLEGE AND ATTACHED GROUP OF HOSPITAL, JODHPUR"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"Rajasthan Medical Relief Society, M.D.M. Hospital, Jodhpur"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"IMAGING CENTRE UNDER P.P.P.MODE : VARAHA SDC"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"256 SLICE DUAL ENERGY CT SCAN, M.D.M HOSPITAL Jodhpur(Raj.) - 342003"})}),(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsx)("td",{colSpan:6,className:"jsx-5afa080497efa182 font-bold text-sm py-1",children:"Tel. : +91-291-2648120 , 0291-2648121 , 0291-2648122"})})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-4",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Reg.No :"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-48 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.cro)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 text-center",children:(0,s.jsx)("span",{className:"jsx-5afa080497efa182 border border-sky-500 rounded-lg px-3 py-1",children:"Cash Receipt"})}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-12",children:"Date"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.date)||new Date().toLocaleDateString()})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Ref. By :"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-96 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.doctor)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-44",children:"Date and Time of Appointment :"}),(0,s.jsxs)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:[(null==i?void 0:i.appointmentDate)||"N/A"," At ",(null==i?void 0:i.appointmentTime)||"N/A"]})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24",children:"Patient Name:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-96 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.name)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Category"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.category)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-12",children:"Age :"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.age)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Gender"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.gender)||"N/A"})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Address"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.address)||"N/A"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-16",children:"Phone:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-64 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.phone)||"N/A"})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-24",children:"Investigations:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:(null==i?void 0:i.investigations)||"N/A"})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32",children:"For Sum Of Rupees:"}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 border-b border-dotted border-gray-400 px-2",children:d((null==i?void 0:i.totalAmount)||0)}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 text-center",children:(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 border border-sky-500 p-1",children:[(0,s.jsx)("div",{className:"jsx-5afa080497efa182",children:"Scan Amount"}),(0,s.jsxs)("div",{className:"jsx-5afa080497efa182",children:["₹ ",(null==i?void 0:i.scanAmount)||0]})]})}),(0,s.jsx)("td",{className:"jsx-5afa080497efa182 w-32 text-center",children:(0,s.jsxs)("div",{className:"jsx-5afa080497efa182 border border-sky-500 p-1",children:[(0,s.jsx)("div",{className:"jsx-5afa080497efa182",children:"Received Amount"}),(0,s.jsxs)("div",{className:"jsx-5afa080497efa182",children:["₹ ",(null==i?void 0:i.receivedAmount)||0]})]})})]})}),(null==i?void 0:i.discount)&&(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-2",children:(0,s.jsxs)("tr",{className:"jsx-5afa080497efa182",children:[(0,s.jsx)("td",{className:"jsx-5afa080497efa182",children:"Discount"}),(0,s.jsxs)("td",{className:"jsx-5afa080497efa182 border border-sky-500 p-1",children:["₹ ",i.discount]})]})}),(0,s.jsx)("table",{className:"jsx-5afa080497efa182 w-full text-xs mt-4",children:(0,s.jsx)("tr",{className:"jsx-5afa080497efa182",children:(0,s.jsxs)("td",{colSpan:6,className:"jsx-5afa080497efa182 text-right",children:["For Varaha SDC",(0,s.jsx)("br",{className:"jsx-5afa080497efa182"}),(0,s.jsx)("span",{className:"jsx-5afa080497efa182 mr-12",children:"Jodhpur"})]})})})]})]})]}),(0,s.jsx)(t.default,{id:"5afa080497efa182",children:"@media print{.no-print.jsx-5afa080497efa182{display:none!important}.receipt-form.jsx-5afa080497efa182{page-break-after:always}.receipt-form.jsx-5afa080497efa182:last-child{page-break-after:auto}}"})]})}},50185,e=>{"use strict";e.s(["default",()=>g],50185);var s=e.i(43476),t=e.i(85665),a=e.i(71645),r=e.i(37727),n=e.i(60539),l=e.i(72250);function i(e){let{isOpen:t,onClose:i,onSubmit:d}=e,[c,o]=(0,a.useState)(1),[x,m]=(0,a.useState)(!1),[u,f]=(0,a.useState)(null),[h,j]=(0,a.useState)({prefix:"Mr.",patientName:"",age:"",ageType:"Year",gender:"Male",category:"GEN / Paid",address:"",city:"",contactNumber:"",hospitalId:"",doctorId:"",selectedScans:[],appointmentDate:new Date().toISOString().split("T")[0],timeSlot:"",scanAmount:0,totalAmount:0,discount:0,receivedAmount:0,dueAmount:0}),[p]=(0,a.useState)([{id:1,name:"M.D.M Hospital",short:"MDM"},{id:2,name:"S.N. Medical College",short:"SNMC"},{id:3,name:"AIIMS Jodhpur",short:"AIIMS"}]),[g]=(0,a.useState)([{id:1,name:"Dr. Rajesh Kumar",specialization:"Radiology"},{id:2,name:"Dr. Priya Sharma",specialization:"Internal Medicine"},{id:3,name:"Dr. Amit Singh",specialization:"Orthopedics"}]),[y]=(0,a.useState)([{id:1,name:"CT Scan Head",charges:2500,estimatedTime:30},{id:2,name:"CT Scan Chest",charges:3e3,estimatedTime:45},{id:3,name:"CT Scan Abdomen",charges:3500,estimatedTime:60},{id:4,name:"CT Angiography",charges:5e3,estimatedTime:90},{id:5,name:"CT Whole Body",charges:8e3,estimatedTime:120}]),[b]=(0,a.useState)(["09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM"]),N=["IPD FREE","OPD FREE","RTA","RGHS","Chiranjeevi","Destitute","PRISONER","Sn. CITIZEN","Aayushmaan"];(0,a.useEffect)(()=>{v()},[h.selectedScans,h.discount,h.receivedAmount,h.category,y,N]);let v=()=>{let e=h.selectedScans.reduce((e,s)=>{let t=y.find(e=>e.id===s);return e+(t?t.charges:0)},0),s=N.includes(h.category)?0:e,t=s-h.discount-h.receivedAmount;j(a=>({...a,scanAmount:e,totalAmount:s,dueAmount:Math.max(0,t)}))},S=function(){var e,s;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=(()=>{let e=new Date().toLocaleDateString("en-GB").replace(/\//g,"-"),s=Math.floor(1e3*Math.random())+1;return"VDC/".concat(e,"/").concat(s)})(),r=h.selectedScans.map(e=>{let s=y.find(s=>s.id===e);return s?s.name:""}).join(", "),n=(null==(e=p.find(e=>e.id===parseInt(h.hospitalId)))?void 0:e.name)||"",l=(null==(s=g.find(e=>e.id===parseInt(h.doctorId)))?void 0:s.name)||"",c={...h,cro:a,hospitalName:n,doctorName:l,investigations:r,date:new Date().toLocaleDateString("en-GB")};t&&(f({cro:a,name:"".concat(h.prefix," ").concat(h.patientName),age:"".concat(h.age," ").concat(h.ageType),gender:h.gender,address:"".concat(h.address,", ").concat(h.city),phone:h.contactNumber,doctor:l,category:h.category,investigations:r,appointmentDate:h.appointmentDate,appointmentTime:h.timeSlot,scanAmount:h.scanAmount,totalAmount:h.totalAmount,receivedAmount:h.receivedAmount,discount:h.discount>0?h.discount:null,date:new Date().toLocaleDateString("en-GB")}),m(!0)),d(c),t||i()};return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Patient Registration"}),(0,s.jsx)("button",{onClick:i,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,s.jsx)(r.X,{className:"h-6 w-6"})})]}),(0,s.jsx)("div",{className:"flex justify-center p-4 border-b",children:(0,s.jsx)("div",{className:"flex space-x-8",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2 ".concat(c>=e?"text-sky-500":"text-gray-400"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(c>=e?"bg-sky-500 text-white":"bg-gray-200 text-gray-600"),children:e}),(0,s.jsxs)("span",{className:"font-medium",children:[1===e&&"Patient Details",2===e&&"Scan Selection",3===e&&"Payment Details"]})]},e))})}),(0,s.jsxs)("div",{className:"p-6",children:[1===c&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hospital"}),(0,s.jsxs)("select",{value:h.hospitalId,onChange:e=>j({...h,hospitalId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Hospital"}),p.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor"}),(0,s.jsxs)("select",{value:h.doctorId,onChange:e=>j({...h,doctorId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Doctor"}),g.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,s.jsx)("input",{type:"date",value:h.appointmentDate,onChange:e=>j({...h,appointmentDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prefix"}),(0,s.jsxs)("select",{value:h.prefix,onChange:e=>j({...h,prefix:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,s.jsx)("option",{value:"Mr.",children:"Mr."}),(0,s.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,s.jsx)("option",{value:"Master",children:"Master"}),(0,s.jsx)("option",{value:"Miss",children:"Miss"}),(0,s.jsx)("option",{value:"Baby",children:"Baby"})]})]}),(0,s.jsx)("div",{className:"md:col-span-3",children:(0,s.jsx)(n.FormInput,{label:"Patient Name",type:"text",value:h.patientName,onChange:e=>j({...h,patientName:e.target.value}),required:!0})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(n.FormInput,{label:"Age",type:"number",value:h.age,onChange:e=>j({...h,age:e.target.value}),required:!0})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Type"}),(0,s.jsxs)("select",{value:h.ageType,onChange:e=>j({...h,ageType:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,s.jsx)("option",{value:"Year",children:"Year"}),(0,s.jsx)("option",{value:"Month",children:"Month"}),(0,s.jsx)("option",{value:"Days",children:"Days"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,s.jsxs)("select",{value:h.gender,onChange:e=>j({...h,gender:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,s.jsx)("option",{value:"Male",children:"Male"}),(0,s.jsx)("option",{value:"Female",children:"Female"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,s.jsxs)("select",{value:h.category,onChange:e=>j({...h,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,s.jsx)("option",{value:"GEN / Paid",children:"GEN / Paid"}),(0,s.jsx)("option",{value:"IPD FREE",children:"IPD Free"}),(0,s.jsx)("option",{value:"OPD FREE",children:"OPD Free"}),(0,s.jsx)("option",{value:"RTA",children:"RTA"}),(0,s.jsx)("option",{value:"RGHS",children:"RGHS"}),(0,s.jsx)("option",{value:"Chiranjeevi",children:"Chiranjeevi"}),(0,s.jsx)("option",{value:"Destitute",children:"Destitute"}),(0,s.jsx)("option",{value:"PRISONER",children:"PRISONER"}),(0,s.jsx)("option",{value:"Sn. CITIZEN",children:"Sn. CITIZEN"}),(0,s.jsx)("option",{value:"Aayushmaan",children:"Aayushmaan"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsx)(n.FormInput,{label:"Address",type:"text",value:h.address,onChange:e=>j({...h,address:e.target.value}),required:!0})}),(0,s.jsx)("div",{children:(0,s.jsx)(n.FormInput,{label:"City",type:"text",value:h.city,onChange:e=>j({...h,city:e.target.value}),required:!0})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(n.FormInput,{label:"Contact Number",type:"tel",value:h.contactNumber,onChange:e=>j({...h,contactNumber:e.target.value}),required:!0})})]}),2===c&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Time"}),(0,s.jsxs)("select",{value:h.timeSlot,onChange:e=>j({...h,timeSlot:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Time Slot"}),b.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Scan Types"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(e=>(0,s.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors ".concat(h.selectedScans.includes(e.id)?"border-sky-500 bg-sky-50":"border-gray-300 hover:border-sky-300"),onClick:()=>{var s;return s=e.id,void j(e=>({...e,selectedScans:e.selectedScans.includes(s)?e.selectedScans.filter(e=>e!==s):[...e.selectedScans,s]}))},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["₹",e.charges," • ",e.estimatedTime," min"]})]}),(0,s.jsx)("div",{className:"w-5 h-5 rounded border-2 flex items-center justify-center ".concat(h.selectedScans.includes(e.id)?"border-sky-500 bg-sky-500":"border-gray-300"),children:h.selectedScans.includes(e.id)&&(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},e.id))})]}),h.selectedScans.length>0&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Scans Summary"}),(0,s.jsxs)("div",{className:"space-y-2",children:[h.selectedScans.map(e=>{let t=y.find(s=>s.id===e);return t?(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:t.name}),(0,s.jsxs)("span",{children:["₹",t.charges]})]},e):null}),(0,s.jsxs)("div",{className:"border-t pt-2 flex justify-between font-medium",children:[(0,s.jsx)("span",{children:"Total Amount"}),(0,s.jsxs)("span",{children:["₹",h.scanAmount]})]})]})]})]}),3===c&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-sky-50 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Scan Amount:"}),(0,s.jsxs)("span",{className:"font-medium",children:["₹",h.scanAmount]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(n.FormInput,{label:"Discount Amount",type:"number",value:h.discount,onChange:e=>j({...h,discount:parseFloat(e.target.value)||0})})}),(0,s.jsx)("div",{children:(0,s.jsx)(n.FormInput,{label:"Received Amount",type:"number",value:h.receivedAmount,onChange:e=>j({...h,receivedAmount:parseFloat(e.target.value)||0})})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,s.jsx)("span",{children:"Total Amount:"}),(0,s.jsxs)("span",{children:["₹",h.totalAmount]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-semibold text-red-600",children:[(0,s.jsx)("span",{children:"Due Amount:"}),(0,s.jsxs)("span",{children:["₹",h.dueAmount]})]}),N.includes(h.category)&&(0,s.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-3 py-2 rounded",children:(0,s.jsx)("p",{className:"text-sm",children:"This category is eligible for free treatment. No payment required."})})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Patient Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Name:"})," ",h.prefix," ",h.patientName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Age:"})," ",h.age," ",h.ageType]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Gender:"})," ",h.gender]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Category:"})," ",h.category]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Contact:"})," ",h.contactNumber]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Address:"})," ",h.address,", ",h.city]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Appointment:"})," ",h.appointmentDate," at ",h.timeSlot]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[(0,s.jsx)("div",{children:c>1&&(0,s.jsx)("button",{onClick:()=>{c>1&&o(c-1)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Previous"})}),(0,s.jsx)("div",{className:"flex space-x-3",children:c<3?(0,s.jsx)("button",{onClick:()=>{c<3&&o(c+1)},className:"px-6 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:"Next"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-2 border border-sky-500 text-sky-500 rounded-lg hover:bg-sky-50 transition-colors",children:"Save"}),(0,s.jsx)("button",{onClick:()=>S(!0),className:"px-6 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",disabled:h.dueAmount>0&&!N.includes(h.category),children:"Save & Print"})]})})]})]})]})}),x&&(0,s.jsx)(l.default,{isOpen:x,onClose:()=>{m(!1),i()},patientData:u})]}):null}var d=e.i(88840),c=e.i(55436),o=e.i(7233),x=e.i(79002),m=e.i(87316),u=e.i(3116),f=e.i(78583),h=e.i(3281),j=e.i(86536),p=e.i(18566);function g(){let e=(0,p.useParams)().role,[r,n]=(0,a.useState)([]),[l,g]=(0,a.useState)(!0),[y,b]=(0,a.useState)(""),[N,v]=(0,a.useState)(1),[S,w]=(0,a.useState)(!1),{toast:A,showToast:_,hideToast:C}=(0,d.useToast)();(0,a.useEffect)(()=>{R()},[]);let R=async()=>{try{let e=await fetch("/api/patients"),s=await e.json();n(Array.isArray(s)?s:[])}catch(e){console.error("Error fetching patients:",e),n([])}finally{g(!1)}},k=r.filter(e=>{var s,t;return(null==(s=e.patient_name)?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null==(t=e.cro)?void 0:t.toLowerCase().includes(y.toLowerCase()))}),P=Math.ceil(k.length/10),D=(N-1)*10,T=k.slice(D,D+10),F={totalRegistered:r.length,todayRegistered:r.filter(e=>{let s=new Date().toISOString().split("T")[0];return e.date===s}).length,pendingScans:r.filter(e=>"Pending"===e.scan_status).length,completedScans:r.filter(e=>"Complete"===e.scan_status).length};return(0,s.jsx)(t.default,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["New Patient Registration - ",e]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Today:"})," ",new Date().toLocaleDateString("en-GB")]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Registered"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F.totalRegistered})]}),(0,s.jsx)("div",{className:"p-3 bg-sky-100 rounded-full",children:(0,s.jsx)(x.UserPlus,{className:"h-6 w-6 text-sky-500"})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Today Registered"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F.todayRegistered})]}),(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,s.jsx)(m.Calendar,{className:"h-6 w-6 text-green-500"})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Scans"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F.pendingScans})]}),(0,s.jsx)("div",{className:"p-3 bg-yellow-100 rounded-full",children:(0,s.jsx)(u.Clock,{className:"h-6 w-6 text-yellow-500"})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Completed Scans"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F.completedScans})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,s.jsx)(f.FileText,{className:"h-6 w-6 text-blue-500"})})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Show"}),(0,s.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700",children:[(0,s.jsx)("option",{children:"10"}),(0,s.jsx)("option",{children:"25"}),(0,s.jsx)("option",{children:"50"})]}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"entries"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search:",value:y,onChange:e=>b(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,s.jsxs)("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors flex items-center space-x-2",children:[(0,s.jsx)(o.Plus,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Register New Patient"})]})]})]}),l?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading patients..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"S.No."}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"CRO"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Patient Name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Age"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Gender"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Category"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Contact"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Status"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 border-b",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:T.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 border-b",children:D+t+1}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 border-b font-medium",children:e.cro||"N/A"}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 border-b font-medium",children:e.patientName||e.patient_name||"N/A"}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 border-b",children:e.age||"N/A"}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 border-b",children:e.gender||"N/A"}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 border-b",children:e.category||"N/A"}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 border-b",children:e.contactNumber||e.contact_number||"N/A"}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm border-b",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Complete"===e.scan_status?"bg-green-100 text-green-800":"Pending"===e.scan_status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.scan_status||"Registered"})}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm border-b",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>_("Patient details viewed","success"),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"View Details",children:(0,s.jsx)(j.Eye,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>_("Receipt reprinted successfully","success"),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Reprint Receipt",children:(0,s.jsx)(h.Printer,{className:"h-4 w-4"})})]})})]},e.patient_id||"patient-".concat(t)))})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",D+1,"-",Math.min(D+10,k.length)," of ",k.length]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>v(Math.max(1,N-1)),disabled:1===N,className:"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,P)},(e,t)=>{let a=t+1;return(0,s.jsx)("button",{onClick:()=>v(a),className:"px-3 py-1 border rounded text-sm ".concat(N===a?"bg-sky-500 text-white border-sky-500":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:a},a)}),P>5&&(0,s.jsx)("span",{className:"px-2 text-gray-500",children:"..."}),(0,s.jsx)("button",{onClick:()=>v(Math.min(P,N+1)),disabled:N===P,className:"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]}),!l&&0===k.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"No patients registered yet"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:'Click "Register New Patient" to start patient registration'})]})]}),(0,s.jsx)(i,{isOpen:S,onClose:()=>w(!1),onSubmit:e=>{n(s=>Array.isArray(s)?[e,...s]:[e]),_("Patient registered successfully with receipt printed!","success")}}),(0,s.jsx)(d.Toast,{message:A.message,type:A.type,isVisible:A.isVisible,onClose:C})]})})}}]);