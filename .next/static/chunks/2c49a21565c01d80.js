(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},72520,e=>{"use strict";e.s(["ArrowRight",()=>t],72520);let t=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},43531,e=>{"use strict";e.s(["Check",()=>t],43531);let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8114,e=>{"use strict";e.s(["default",()=>c]);var t=e.i(43476),s=e.i(71645),r=e.i(84614),a=e.i(78583),n=e.i(71689),l=e.i(72520),o=e.i(43531),d=e.i(64659),i=e.i(8776);function c(){let e=(0,i.useToastContext)(),[c,m]=(0,s.useState)(1),[u,x]=(0,s.useState)([]),[p,h]=(0,s.useState)([]),[g,b]=(0,s.useState)([]),[y,f]=(0,s.useState)([]),[j,N]=(0,s.useState)(!1),[_,v]=(0,s.useState)(""),[w,C]=(0,s.useState)(""),[k,S]=(0,s.useState)(""),[D,E]=(0,s.useState)(!1),[O,P]=(0,s.useState)(!1),[M,A]=(0,s.useState)({}),[L,T]=(0,s.useState)(null),[B,F]=(0,s.useState)({date:new Date().toLocaleDateString("en-GB").split("/").reverse().join("-"),scan_date:new Date().toLocaleDateString("en-GB").split("/").reverse().join("-"),cro:"",hospital_name:"",doctor_name:"",pre:"Mr.",firstname:"",age:"",age_type:"Year",gender:"Male",petient_type:"GEN",p_uni_submit:"N",p_uni_id_name:"",address:"",city:"",contact_number:"",type_of_scan:[],amount:"0",est_time:"0",total_amount:"0",rec_amount:"0",dis_amount:"0",due_amount:"0"});(0,s.useEffect)(()=>{R(),I(),q(),G(),Y();let e=e=>{e.target.closest(".relative")||(E(!1),P(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let R=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/hospitals");if(e.ok){let t=await e.json();x(t||[])}}catch(e){console.error("Error fetching hospitals:",e)}},I=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/doctors");if(e.ok){let t=await e.json();h(t||[])}}catch(e){console.error("Error fetching doctors:",e)}},q=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/scans");if(e.ok){let t=await e.json();b(t||[])}}catch(e){console.error("Error fetching scans:",e)}},G=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/patients/last-enrolled");if(e.ok){let t=await e.json();T(t.data)}}catch(e){console.error("Error fetching last patient:",e)}},Y=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/patients/generate-cro",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:B.date})});if(e.ok){let t=await e.json();F(e=>({...e,cro:t.cro}))}}catch(s){console.error("Error generating CRO:",s);let e=Math.floor(100*Math.random())+1,t="VDC/".concat(B.date,"/").concat(e);F(e=>({...e,cro:t}))}},z=e=>{let{name:t,value:s}=e.target;F(e=>({...e,[t]:s})),M[t]&&A(e=>({...e,[t]:""})),"date"===t&&setTimeout(()=>Y(),100),"petient_type"===t&&N(["BPL/POOR","Sn. CITIZEN"].includes(s))},U=()=>{let e=parseFloat(B.total_amount)||0,t=e-(parseFloat(B.rec_amount)||0)-(parseFloat(B.dis_amount)||0);F(e=>({...e,due_amount:t.toString()}))},H=async t=>{try{let t={date:B.date,scan_date:B.scan_date,hospital_name:B.hospital_name,DoctorName:B.doctor_name,pre:B.pre,firstname:B.firstname,age:B.age,age_type:B.age_type,gender:B.gender,petient_type:B.petient_type,p_uni_submit:B.p_uni_submit||"N",p_uni_id_name:B.p_uni_id_name||"",address:B.address,city:B.city,contact_number:B.contact_number,type_of_scan:B.type_of_scan,amount:B.amount,est_time:B.est_time,total_amount:B.total_amount,dis_amount:B.dis_amount,rec_amount:B.rec_amount,due_amount:B.due_amount,admin_id:1},s=await fetch("https://varahasdc.co.in/api/reception/patients/back-entry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(s.ok){let t=await s.json();e.success("Back-entry patient registered successfully! CRO: ".concat(t.data.cro)),F({date:new Date().toLocaleDateString("en-GB").split("/").reverse().join("-"),scan_date:new Date().toLocaleDateString("en-GB").split("/").reverse().join("-"),cro:"",hospital_name:"",doctor_name:"",pre:"Mr.",firstname:"",age:"",age_type:"Year",gender:"Male",petient_type:"GEN",p_uni_submit:"N",p_uni_id_name:"",address:"",city:"",contact_number:"",type_of_scan:[],amount:"0",est_time:"0",total_amount:"0",rec_amount:"0",dis_amount:"0",due_amount:"0"}),C(""),S(""),v(""),f([]),Y(),m(1),G()}else{let t=await s.json();e.error("Error: ".concat(t.error||"Failed to register back-entry patient"))}}catch(t){console.error("Error saving back-entry patient:",t),e.error("Error saving back-entry patient")}};return(0,t.jsxs)("div",{className:"p-3 sm:p-6 space-y-4 sm:space-y-6 min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 sm:p-6 rounded-xl shadow-2xl",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-4 sm:space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl sm:text-3xl font-bold mb-2",children:"Back Entry Patient Registration"}),(0,t.jsx)("p",{className:"text-blue-100 text-sm sm:text-lg",children:"Complete patient enrollment with back-entry functionality"})]}),L&&(0,t.jsxs)("div",{className:"bg-blue-600 bg-opacity-50 rounded-lg p-4 sm:p-6 text-center",children:[(0,t.jsx)("p",{className:"text-blue-200 text-sm sm:text-base mb-3",children:"Last Enrolled Patient"}),(0,t.jsx)("p",{className:"text-white font-bold text-lg sm:text-xl mb-2",children:L.cro}),(0,t.jsx)("p",{className:"text-blue-100 text-base sm:text-lg font-medium",children:L.patient_name})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-100",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex flex-col sm:flex-row",children:[(0,t.jsxs)("button",{className:"flex-1 py-3 sm:py-4 px-3 sm:px-6 text-center border-b-2 font-medium text-xs sm:text-sm ".concat(1===c?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>m(1),children:[(0,t.jsx)("span",{className:"sm:hidden",children:"1. Enrollment"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"1. Enrollment Detail"})]}),(0,t.jsxs)("button",{className:"flex-1 py-3 sm:py-4 px-3 sm:px-6 text-center border-b-2 font-medium text-xs sm:text-sm ".concat(2===c?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>m(2),children:[(0,t.jsx)("span",{className:"sm:hidden",children:"2. Scans"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"2. Scan Options"})]}),(0,t.jsxs)("button",{className:"flex-1 py-3 sm:py-4 px-3 sm:px-6 text-center border-b-2 font-medium text-xs sm:text-sm ".concat(3===c?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>m(3),children:[(0,t.jsx)("span",{className:"sm:hidden",children:"3. Payment"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"3. Payment Details"})]})]})}),(0,t.jsxs)("form",{className:"p-3 sm:p-6",children:[1===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CRO No."}),(0,t.jsx)("input",{type:"text",name:"cro",value:B.cro,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,t.jsx)("input",{type:"date",name:"date",value:B.date,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scan Date"}),(0,t.jsx)("input",{type:"date",name:"scan_date",value:B.scan_date,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hospital Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:w,onChange:e=>{C(e.target.value),E(!0)},onFocus:()=>E(!0),className:"w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 ".concat(M.hospital_name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"Search and select hospital",required:!0}),(0,t.jsx)(d.ChevronDown,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),D&&(0,t.jsx)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-60 overflow-y-auto shadow-lg",children:u.filter(e=>e.h_name.toLowerCase().includes(w.toLowerCase())).map(e=>(0,t.jsx)("div",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer",onClick:()=>{F(t=>({...t,hospital_name:e.h_id.toString()})),C(e.h_name),E(!1),M.hospital_name&&A(e=>({...e,hospital_name:""}))},children:e.h_name},e.h_id))}),M.hospital_name&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.hospital_name})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Doctor Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:k,onChange:e=>{S(e.target.value),P(!0)},onFocus:()=>P(!0),className:"w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 ".concat(M.doctor_name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"Search and select doctor",required:!0}),(0,t.jsx)(d.ChevronDown,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),O&&(0,t.jsx)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-60 overflow-y-auto shadow-lg",children:p.filter(e=>e.dname.toLowerCase().includes(k.toLowerCase())).map(e=>(0,t.jsx)("div",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer",onClick:()=>{F(t=>({...t,doctor_name:e.d_id.toString()})),S(e.dname),P(!1),M.doctor_name&&A(e=>({...e,doctor_name:""}))},children:e.dname},e.d_id))}),M.doctor_name&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.doctor_name})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Patient Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{name:"pre",value:B.pre,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Mr.",children:"Mr."}),(0,t.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,t.jsx)("option",{value:"Master",children:"Master"}),(0,t.jsx)("option",{value:"Miss",children:"Miss"}),(0,t.jsx)("option",{value:"Baby",children:"Baby"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),(0,t.jsx)("input",{type:"text",name:"firstname",value:B.firstname,onChange:z,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ".concat(M.firstname?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"Please enter your First name",required:!0}),M.firstname&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.firstname})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Age ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"age",value:B.age,onChange:z,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ".concat(M.age?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"Age"}),M.age&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.age})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"In (Year/Month/Days)"}),(0,t.jsxs)("select",{name:"age_type",value:B.age_type,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Year",children:"Year"}),(0,t.jsx)("option",{value:"Month",children:"Month"}),(0,t.jsx)("option",{value:"Days",children:"Days"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,t.jsxs)("select",{name:"gender",value:B.gender,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Male",children:"Male"}),(0,t.jsx)("option",{value:"Female",children:"Female"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,t.jsxs)("select",{name:"petient_type",value:B.petient_type,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"GEN",children:"GEN"}),(0,t.jsx)("option",{value:"BPL/POOR",children:"BPL/POOR"}),(0,t.jsx)("option",{value:"Sn. CITIZEN",children:"Sn. CITIZEN"})]})]})]}),j&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),(0,t.jsx)("input",{type:"text",name:"p_uni_submit",value:B.p_uni_submit,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Y / N"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name Of ID"}),(0,t.jsx)("input",{type:"text",name:"p_uni_id_name",value:B.p_uni_id_name,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ID Name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload ID"}),(0,t.jsx)("input",{type:"file",name:"p_uni_id_scan",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,t.jsx)("input",{type:"text",name:"address",value:B.address,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Please enter your Address"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,t.jsx)("input",{type:"text",name:"city",value:B.city,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Please enter your city"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Number ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"contact_number",value:B.contact_number,onChange:z,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ".concat(M.contact_number?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"Please enter your contact Number"}),M.contact_number&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.contact_number})]})]})]}),2===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Scan Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search scans...",value:_,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-60 overflow-y-auto border border-gray-200 rounded-md p-4",children:g.filter(e=>e.s_name.toLowerCase().includes(_.toLowerCase())).map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:B.type_of_scan.includes(e.s_id.toString()),onChange:t=>((e,t)=>{let s=[...B.type_of_scan];t?s.push(e):s=s.filter(t=>t!==e),F(e=>({...e,type_of_scan:s}));let r=g.filter(e=>s.includes(e.s_id.toString()));f(r);let a=r.reduce((e,t)=>e+t.charges,0),n=r.reduce((e,t)=>e+parseInt(t.estimate_time||"0"),0);F(e=>({...e,amount:a.toString(),est_time:n.toString(),total_amount:a.toString(),due_amount:a.toString()}))})(e.s_id.toString(),t.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.s_name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["₹",e.charges," • ",e.estimate_time," min"]})]})]},e.s_id))}),M.type_of_scan&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.type_of_scan})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,t.jsx)("input",{type:"text",name:"amount",value:B.amount,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Time"}),(0,t.jsx)("input",{type:"text",name:"est_time",value:B.est_time,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",readOnly:!0})]})]}),y.length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Selected Scans"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"S.No"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Name Of Scan"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Charges"})]})}),(0,t.jsx)("tbody",{children:y.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:s+1}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.s_name}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:["₹",e.charges]})]},e.s_id))})]})})]})]}),3===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-blue-900 mb-6 flex items-center",children:[(0,t.jsx)(r.User,{className:"h-5 w-5 mr-2"}),"Patient Summary"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Full Name"})]}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900 ml-5",children:[B.pre," ",B.firstname]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Age & Gender"})]}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900 ml-5",children:[B.age," ",B.age_type,", ",B.gender]})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Category"})]}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900 ml-5",children:B.petient_type})]})]}),B.address&&(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Address"})]}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900 ml-5",children:B.address})]}),B.contact_number&&(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Contact Number"})]}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900 ml-5",children:B.contact_number})]})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Description"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"Amount"})]})}),(0,t.jsxs)("tbody",{children:[y.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.s_name}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["₹",e.charges]})]},e.s_id)),(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-medium text-right",children:"Total Amount"}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,t.jsx)("input",{type:"text",name:"total_amount",value:B.total_amount,className:"w-full px-2 py-1 border border-gray-300 rounded text-right bg-gray-50",readOnly:!0})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-medium text-right",children:"Received Amount"}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,t.jsx)("input",{type:"text",name:"rec_amount",value:B.rec_amount,onChange:e=>{z(e),setTimeout(U,0)},className:"w-full px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-medium text-right",children:"Discount"}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,t.jsx)("input",{type:"text",name:"dis_amount",value:B.dis_amount,onChange:e=>{z(e),setTimeout(U,0)},className:"w-full px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,t.jsxs)("tr",{className:"bg-yellow-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-medium text-right",children:"Due Amount"}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,t.jsx)("input",{type:"text",name:"due_amount",value:B.due_amount,className:"w-full px-2 py-1 border border-gray-300 rounded text-right bg-yellow-50 font-medium",readOnly:!0})})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{c>1&&m(c-1)},disabled:1===c,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(n.ArrowLeft,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Previous"})]}),(0,t.jsx)("div",{className:"flex space-x-2",children:c<3?(0,t.jsxs)("button",{type:"button",onClick:()=>{(e=>{let t={};return 1===e&&(B.hospital_name||(t.hospital_name="Hospital Name is required"),B.doctor_name||(t.doctor_name="Doctor Name is required"),B.firstname.trim()||(t.firstname="Patient Name is required"),B.age.trim()||(t.age="Age is required"),B.contact_number.trim()||(t.contact_number="Contact Number is required"),B.contact_number&&!/^[0-9]{10}$/.test(B.contact_number)&&(t.contact_number="Contact Number must be 10 digits")),2===e&&0===B.type_of_scan.length&&(t.type_of_scan="At least one scan type is required"),A(t),0===Object.keys(t).length})(c)&&c<3&&m(c+1)},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-md hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)(l.ArrowRight,{className:"h-4 w-4"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{type:"button",onClick:()=>H("Save"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-md hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(o.Check,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Save"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>H("Save_Print"),disabled:parseFloat(B.due_amount)>0,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-md hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(a.FileText,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Save & Print"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>window.location.href="/reception/patient-registration",className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-md hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md font-medium",children:(0,t.jsx)("span",{children:"Exit"})})]})})]})]})]})]})}}]);