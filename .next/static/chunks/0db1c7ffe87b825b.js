(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44112,e=>{"use strict";e.s(["default",()=>d]);var t=e.i(43476),r=e.i(71645),a=e.i(84614),s=e.i(63059);function d(){let[e,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/patients/last-enrolled");if(e.ok){let t=await e.json();d(t.data)}}catch(e){console.error("Error fetching last patient:",e)}};return e?(0,t.jsx)("div",{className:"bg-blue-600 bg-opacity-20 rounded-lg p-4 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,t.jsx)(a.User,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:"Last Enrolled Patient"}),(0,t.jsx)(s.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-bold text-white",children:e.cro}),(0,t.jsx)(s.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:e.patient_name})]})}):null}},71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3281,e=>{"use strict";e.s(["Printer",()=>t],3281);let t=(0,e.i(75254).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},50627,e=>{"use strict";e.s(["Receipt",()=>t],50627);let t=(0,e.i(75254).default)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},89700,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),r=e.i(71645),a=e.i(50627),s=e.i(87316),d=e.i(55436),n=e.i(3281),o=e.i(71689),l=e.i(44112);function i(){let[e,i]=(0,r.useState)([]),[c,x]=(0,r.useState)(!0),[h,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[b,u]=(0,r.useState)(1),[f]=(0,r.useState)(25);(0,r.useEffect)(()=>{y()},[h]);let y=async()=>{x(!0);try{let e=[{id:1,withdraw:500,r_amount:2e3,d_amount:300,added_on:"01-08-2025",remark:"Daily collection"},{id:2,withdraw:1e3,r_amount:5e3,d_amount:800,added_on:"31-07-2025",remark:"Weekly settlement"},{id:3,withdraw:200,r_amount:1500,d_amount:100,added_on:"30-07-2025",remark:"Patient payments"}],t=e;if(h){let[r,a,s]=h.split("-"),d="".concat(s,"-").concat(a,"-").concat(r);t=e.filter(e=>e.added_on===d)}i(t)}catch(e){console.error("Error fetching transactions:",e)}finally{x(!1)}},j=e.filter(e=>e.remark.toLowerCase().includes(p.toLowerCase())||e.added_on.includes(p)),v=Math.ceil(j.length/f),N=(b-1)*f,w=j.slice(N,N+f),S=j.reduce((e,t)=>({withdraw:e.withdraw+t.withdraw,received:e.received+t.r_amount,due:e.due+t.d_amount}),{withdraw:0,received:0,due:0}),L=S.received-S.due-S.withdraw;return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>window.location.href="/reception/voucher",className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:(0,t.jsx)(o.ArrowLeft,{className:"h-6 w-6"})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Voucher List"}),(0,t.jsx)("p",{className:"text-blue-100 text-lg",children:"View all voucher transactions and history"})]}),(0,t.jsx)("div",{className:"ml-6",children:(0,t.jsx)(l.default,{})})]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["₹",S.received.toLocaleString()]}),(0,t.jsx)("div",{className:"text-sm text-green-800",children:"Total Received"})]}),(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:["₹",S.due.toLocaleString()]}),(0,t.jsx)("div",{className:"text-sm text-red-800",children:"Total Due"})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:["₹",S.withdraw.toLocaleString()]}),(0,t.jsx)("div",{className:"text-sm text-orange-800",children:"Total Withdraw"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["₹",Math.max(0,L).toLocaleString()]}),(0,t.jsx)("div",{className:"text-sm text-blue-800",children:"Net Cash"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(d.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by remarks or date...",value:p,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.Calendar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)("input",{type:"date",value:h,onChange:e=>m(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("button",{onClick:y,disabled:c,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium",children:[(0,t.jsx)(d.Search,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:c?"Loading...":"Refresh"})]})]}),(0,t.jsxs)("button",{onClick:()=>{let e=window.open("","_blank");if(!e)return;let t='\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Voucher List Report</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }\n          .logo { font-size: 24px; font-weight: bold; color: #2563eb; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n          th, td { border: 1px solid #000; padding: 8px; text-align: left; font-size: 12px; }\n          th { background-color: #f0f0f0; font-weight: bold; }\n          .summary { margin: 20px 0; padding: 15px; background-color: #f9f9f9; border: 1px solid #ddd; }\n          .footer { margin-top: 30px; text-align: center; font-size: 12px; }\n          @media print { body { margin: 0; } }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <div class="logo">VARAHA DIAGNOSTIC CENTER</div>\n          <div>Voucher List Report</div>\n          '.concat(h?"<div>Date: ".concat(h,"</div>"):"<div>All Records</div>",'\n        </div>\n        \n        <div class="summary">\n          <h3>Summary</h3>\n          <p><strong>Total Received:</strong> ₹').concat(S.received.toLocaleString(),"</p>\n          <p><strong>Total Due:</strong> ₹").concat(S.due.toLocaleString(),"</p>\n          <p><strong>Total Withdraw:</strong> ₹").concat(S.withdraw.toLocaleString(),"</p>\n          <p><strong>Cash in Hand:</strong> ₹").concat(Math.max(0,L).toLocaleString(),"</p>\n        </div>\n        \n        <table>\n          <thead>\n            <tr>\n              <th>S.No</th>\n              <th>Date</th>\n              <th>Received (₹)</th>\n              <th>Due (₹)</th>\n              <th>Withdraw (₹)</th>\n              <th>Remarks</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(j.map((e,t)=>"\n              <tr>\n                <td>".concat(t+1,"</td>\n                <td>").concat(e.added_on,"</td>\n                <td>₹").concat(e.r_amount.toLocaleString(),"</td>\n                <td>₹").concat(e.d_amount.toLocaleString(),"</td>\n                <td>₹").concat(e.withdraw.toLocaleString(),"</td>\n                <td>").concat(e.remark||"-","</td>\n              </tr>\n            ")).join(""),'\n          </tbody>\n        </table>\n        \n        <div class="footer">\n          <p>Total Transactions: ').concat(j.length,"</p>\n          <p>Generated on: ").concat(new Date().toLocaleString(),"</p>\n        </div>\n        \n        <script>\n          window.onload = function() {\n            window.print();\n          }\n        </script>\n      </body>\n      </html>\n    ");e.document.write(t),e.document.close()},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(n.Printer,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Print Report"})]})]}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-blue-50",children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"S.No"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Date"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Received (₹)"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Due (₹)"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Withdraw (₹)"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Net Amount (₹)"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Remarks"})]})}),(0,t.jsx)("tbody",{children:w.map((e,r)=>{let a=e.r_amount-e.d_amount-e.withdraw;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:N+r+1}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:e.added_on}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-green-600 font-medium",children:["₹",e.r_amount.toLocaleString()]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-red-600 font-medium",children:["₹",e.d_amount.toLocaleString()]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-orange-600 font-medium",children:["₹",e.withdraw.toLocaleString()]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 font-medium ".concat(a>=0?"text-blue-600":"text-red-600"),children:["₹",a.toLocaleString()]}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.remark||"-"})]},e.id)})}),(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{className:"bg-gray-100 font-bold",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",colSpan:2,children:"Total"}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-green-600",children:["₹",S.received.toLocaleString()]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-red-600",children:["₹",S.due.toLocaleString()]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-orange-600",children:["₹",S.withdraw.toLocaleString()]}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2 ".concat(L>=0?"text-blue-600":"text-red-600"),children:["₹",L.toLocaleString()]}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"-"})]})})]}),0===w.length&&(0,t.jsx)("div",{className:"text-center py-12",children:c?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading transactions..."})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Receipt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Transactions Found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No voucher transactions found matching your criteria."})]})})]}),v>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",N+1,"-",Math.min(N+f,j.length)," of ",j.length]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===b,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,t.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded",children:[b," of ",v]}),(0,t.jsx)("button",{onClick:()=>u(e=>Math.min(e+1,v)),disabled:b===v,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})}}]);