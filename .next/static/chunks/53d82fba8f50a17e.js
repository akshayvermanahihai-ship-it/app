(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},33651,e=>{"use strict";e.s(["Download",()=>t],33651);let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},28802,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),a=e.i(71645),s=e.i(33651),r=e.i(55436);function l(){let[e,l]=(0,a.useState)([]),[c,n]=(0,a.useState)(!1),[x,i]=(0,a.useState)(""),[d,p]=(0,a.useState)("");(0,a.useEffect)(()=>{o()},[]);let o=async()=>{n(!0);try{let e="/api/reports/patient-report";x&&d&&(e+="?from_date=".concat(x,"&to_date=").concat(d));let t=await fetch(e),a=await t.json();a.success&&l(a.data)}catch(e){console.error("Error fetching patients:",e)}finally{n(!1)}};return(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Patient Report"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,t.jsx)("input",{type:"date",value:x,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,t.jsx)("input",{type:"date",value:d,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("button",{onClick:o,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center space-x-2",children:[(0,t.jsx)(r.Search,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Search"})]})}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("button",{onClick:()=>{let t=new Blob([["CRO,Patient Name,Age,Gender,Mobile,Date,Amount,Doctor,Hospital,Scan Type",...e.map(e=>[e.cro,e.patient_name,e.age,e.gender,e.mobile,e.date,e.amount,e.doctor_name,e.hospital_name,e.scan_name].join(","))].join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="patient-report-".concat(new Date().toISOString().split("T")[0],".csv"),s.click()},className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center space-x-2",children:[(0,t.jsx)(s.Download,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Export CSV"})]})})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CRO"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Age"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Gender"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Mobile"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Doctor"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hospital"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scan Type"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"px-6 py-4 text-center",children:"Loading..."})}):0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"px-6 py-4 text-center",children:"No patients found"})}):e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.cro}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.patient_name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.age}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.gender}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.mobile}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.date}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["â‚¹",e.amount]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.doctor_name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.hospital_name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.scan_name})]},e.patient_id))})]})}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Total Records: ",e.length]})]})})}}]);