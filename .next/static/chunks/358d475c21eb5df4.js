(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33651,e=>{"use strict";e.s(["Download",()=>t],33651);let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},80528,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),a=e.i(71645),s=e.i(7233),r=e.i(55436),n=e.i(33651);function i(){let[e,i]=(0,a.useState)([]),[l,d]=(0,a.useState)([]),[c,o]=(0,a.useState)(!0),[x,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[p,u]=(0,a.useState)(""),[y,b]=(0,a.useState)(1),[f]=(0,a.useState)(10);(0,a.useEffect)(()=>{w()},[]),(0,a.useEffect)(()=>{j()},[e,x,h,p]);let j=()=>{let t=e;x&&(t=t.filter(e=>e.item_name.toLowerCase().includes(x.toLowerCase()))),h&&(t=t.filter(e=>new Date(e.stock_date||e.date_added)>=new Date(h))),p&&(t=t.filter(e=>new Date(e.stock_date||e.date_added)<=new Date(p))),d(t),b(1)},w=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/inventory/items"),t=await e.json();t.success&&(i(t.data),d(t.data))}catch(e){console.error("Error fetching items:",e)}finally{o(!1)}},v=e=>new Date(e).toLocaleDateString("en-IN"),N=y*f,k=N-f,S=l.slice(k,N),_=Math.ceil(l.length/f);return c?(0,t.jsx)("div",{className:"p-6 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-amber-600 text-white p-6 rounded-xl shadow-lg mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Stock List"}),(0,t.jsx)("p",{className:"text-orange-100",children:"Manage inventory items with filtering and reports"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>{let e=l.map((e,t)=>({"Sr No":t+1,"Item Name":e.item_name,Quantity:"".concat(e.quantity," ").concat(e.unit||"qty"),"Opening Stock":"".concat(e.opening_stock," ").concat(e.unit||"qty"),"Value (₹)":e.value_rupees||0,Inward:e.inward_qty||0,Outward:e.outward_qty||0,Unit:e.unit||"qty","Stock Date":e.stock_date?v(e.stock_date):"-","Added Date":v(e.date_added)})),t=new Blob([[Object.keys(e[0]||{}).join(","),...e.map(e=>Object.values(e).join(","))].join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="inventory-report-".concat(new Date().toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(a)},className:"flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[(0,t.jsx)(n.Download,{className:"h-5 w-5 mr-2"}),"Export CSV"]}),(0,t.jsxs)("a",{href:"/inventory/add",className:"flex items-center px-4 py-2 bg-white text-orange-600 rounded-lg hover:bg-gray-100",children:[(0,t.jsx)(s.Plus,{className:"h-5 w-5 mr-2"}),"Add Item"]})]})]})}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-lg border border-gray-100 mb-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Items"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by item name...",value:x,onChange:e=>m(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,t.jsx)("input",{type:"date",value:h,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,t.jsx)("input",{type:"date",value:p,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{m(""),g(""),u("")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})})]}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",l.length," of ",e.length," items"]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sr No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Opening Stock"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Value (₹)"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock Date"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map((e,a)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k+a+1}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.item_name}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.quantity," ",e.unit||"qty"]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.opening_stock," ",e.unit||"qty"]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",e.value_rupees||0]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.unit||"qty"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.stock_date?v(e.stock_date):"-"})]},e.id))})]})}),_>1&&(0,t.jsx)("div",{className:"bg-white px-6 py-4 border-t border-gray-200 rounded-b-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",k+1," to ",Math.min(N,l.length)," of ",l.length," results"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>b(e=>Math.max(e-1,1)),disabled:1===y,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,_)},(e,a)=>{let s=Math.max(1,y-2)+a;return s>_?null:(0,t.jsx)("button",{onClick:()=>b(s),className:"px-3 py-2 text-sm font-medium rounded-lg ".concat(y===s?"bg-orange-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:s},s)})}),(0,t.jsx)("button",{onClick:()=>b(e=>Math.min(e+1,_)),disabled:y===_,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})})]})}}]);