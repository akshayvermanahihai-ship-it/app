(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33651,e=>{"use strict";e.s(["Download",()=>t],33651);let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},61269,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),a=e.i(71645);function s(e){let{onDateChange:s,className:r=""}=e,[l,c]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),i=new Date,x=i.toISOString().split("T")[0],o=new Date(i.getTime()-7776e6).toISOString().split("T")[0];return(0,a.useEffect)(()=>{c(x),d(x),s(x,x)},[x]),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end space-y-4 sm:space-y-0 sm:space-x-4 ".concat(r),children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,t.jsx)("input",{type:"date",value:l,min:o,max:x,onChange:e=>{var t;c(t=e.target.value),s(t,n)},className:"px-3 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"})]}),(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,t.jsx)("input",{type:"date",value:n,min:o,max:x,onChange:e=>{var t;d(t=e.target.value),s(l,t)},className:"px-3 py-2 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"})]})]})}},73375,e=>{"use strict";e.s(["ChevronLeft",()=>t],73375);let t=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},55318,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),a=e.i(71645),s=e.i(61911),r=e.i(55436),l=e.i(33651),c=e.i(86536),n=e.i(73375),d=e.i(63059),i=e.i(16715),x=e.i(61269);function o(){let[e,o]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[p,g]=(0,a.useState)(!0),[y,u]=(0,a.useState)(1),[b]=(0,a.useState)(10),[f,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(null),[v,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{C&&_()},[C]);let _=(0,a.useCallback)(async()=>{if(C){g(!0);try{let e=new URLSearchParams({from_date:C.from_date,to_date:C.to_date}),t=await fetch("https://varahasdc.co.in/api/admin/patient-list?".concat(e));if(t.ok){let e=await t.json();o(e.data||[]),h(e.data||[])}}catch(e){console.error("Error fetching patients:",e)}finally{g(!1)}}},[C]);(0,a.useEffect)(()=>{let t=e;f&&(t=t.filter(e=>e.patient_name.toLowerCase().includes(f.toLowerCase())||e.cro.toLowerCase().includes(f.toLowerCase())||e.contact_number.includes(f))),h(t),u(1)},[e,f]);let L=Math.ceil(m.length/b),R=(y-1)*b,A=m.slice(R,R+b),D=e=>{u(e)};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Patient List"}),(0,t.jsxs)("button",{onClick:()=>{let e=e=>{let[t,a,s]=e.split("-");return"".concat(s.padStart(2,"0"),"-").concat(a.padStart(2,"0"),"-").concat(t)},t=new Blob(['\n      <html>\n        <head>\n          <meta charset="utf-8">\n          <style>\n            table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }\n            th { background-color: #dc2626; color: white; font-weight: bold; padding: 8px; border: 1px solid #ccc; text-align: center; }\n            td { padding: 6px; border: 1px solid #ccc; text-align: left; }\n            .center { text-align: center; }\n            .header { text-align: center; font-weight: bold; font-size: 16px; }\n          </style>\n        </head>\n        <body>\n          <table>\n            <tr><th colspan="10" class="header">VARAHA SDC</th></tr>\n            <tr><th colspan="10" class="header">PATIENT LIST ('.concat(e((null==C?void 0:C.from_date)||"")," to ").concat(e((null==C?void 0:C.to_date)||""),")</th></tr>\n            <thead>\n              <tr>\n                ").concat(["S.No","CRO Number","Patient Name","Age","Gender","Mobile","Hospital","Doctor","Amount","Date"].map(e=>"<th>".concat(e,"</th>")).join(""),"\n              </tr>\n            </thead>\n            <tbody>\n              ").concat(m.map((e,t)=>'\n                <tr>\n                  <td class="center">'.concat(t+1,"</td>\n                  <td>").concat(e.cro,"</td>\n                  <td>").concat(e.patient_name,'</td>\n                  <td class="center">').concat(e.age,'</td>\n                  <td class="center">').concat(e.gender,"</td>\n                  <td>").concat(e.contact_number,"</td>\n                  <td>").concat(e.h_name||"-","</td>\n                  <td>").concat(e.dname||"-",'</td>\n                  <td class="center">₹').concat(e.amount,'</td>\n                  <td class="center">').concat(e.date,"</td>\n                </tr>\n              ")).join(""),"\n            </tbody>\n          </table>\n        </body>\n      </html>\n    ")],{type:"application/vnd.ms-excel"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="Patient-List-".concat(e((null==C?void 0:C.from_date)||""),"-to-").concat(e((null==C?void 0:C.to_date)||""),".xls"),s.click(),window.URL.revokeObjectURL(a)},disabled:0===m.length,className:"flex items-center space-x-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[(0,t.jsx)(l.Download,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Export Excel"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,t.jsx)(x.default,{onDateChange:(e,t)=>S({from_date:e,to_date:t})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,t.jsx)(r.Search,{className:"h-5 w-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by patient name or CRO...",value:f,onChange:e=>j(e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,t.jsxs)("button",{onClick:_,disabled:p||!C,className:"ml-4 flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[(0,t.jsx)(i.RefreshCw,{className:"h-4 w-4 ".concat(p?"animate-spin":"")}),(0,t.jsx)("span",{children:"Refresh"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(s.Users,{className:"h-6 w-6 text-red-600"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"All Patients"})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S. No."}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CRO"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age/Gender"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hospital"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doctor"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):0===m.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"px-6 py-4 text-center text-gray-500",children:"No patients found"})}):A.map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R+a+1}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.cro}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.patient_name}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.age,"/",e.gender]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.contact_number}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.h_name||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.dname||"-"}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",e.amount]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.date}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,t.jsx)("button",{onClick:()=>{w(e),k(!0)},className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:(0,t.jsx)(c.Eye,{className:"h-4 w-4"})})})]},e.patient_id))})]})}),L>1&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",R+1," to ",Math.min(R+b,m.length)," of ",m.length," results"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>D(y-1),disabled:1===y,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(n.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:L},(e,t)=>t+1).map(e=>(0,t.jsx)("button",{onClick:()=>D(e),className:"px-3 py-2 text-sm font-medium rounded-lg ".concat(y===e?"bg-red-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:e},e))}),(0,t.jsxs)("button",{onClick:()=>D(y+1),disabled:y===L,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,t.jsx)(d.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})})]}),v&&N&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Patient Details"}),(0,t.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"CRO Number"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.cro})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Patient Name"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.patient_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.age})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.gender})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.contact_number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Hospital"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.h_name||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Doctor"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.dname||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₹",N.amount]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.date})]}),N.remark&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Remark"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N.remark})]})]})}),(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:()=>k(!1),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Close"})})]})})]})}}]);