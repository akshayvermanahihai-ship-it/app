(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33651,t=>{"use strict";t.s(["Download",()=>e],33651);let e=(0,t.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},29562,t=>{"use strict";t.s(["Button",()=>d,"Card",()=>l,"Pagination",()=>h,"Table",()=>c,"TableBody",()=>o,"TableCell",()=>i,"TableHeader",()=>n,"TableHeaderCell",()=>r,"TableRow",()=>s,"default",()=>a]);var e=t.i(43476);function a(t){let{children:a,title:l,subtitle:c,actions:n}=t;return(0,e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,e.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,e.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:l}),c&&(0,e.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:c})]}),n&&(0,e.jsx)("div",{className:"flex space-x-3",children:n})]})})}),(0,e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a})]})}function l(t){let{children:a,className:l=""}=t;return(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(l),children:a})}function c(t){let{children:a}=t;return(0,e.jsx)("div",{className:"overflow-hidden",children:(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:a})})})}function n(t){let{children:a}=t;return(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsx)("tr",{children:a})})}function r(t){let{children:a,className:l=""}=t;return(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(l),children:a})}function o(t){let{children:a}=t;return(0,e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a})}function s(t){let{children:a,className:l=""}=t;return(0,e.jsx)("tr",{className:"hover:bg-gray-50 ".concat(l),children:a})}function i(t){let{children:a,className:l="",...c}=t;return(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ".concat(l),...c,children:a})}function d(t){let{children:a,variant:l="primary",size:c="md",className:n="",...r}=t;return(0,e.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[l]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c]," ").concat(n),...r,children:a})}function h(t){let{currentPage:a,totalPages:l,onPageChange:c,totalItems:n,itemsPerPage:r}=t,o=Math.min(a*r,n);return(0,e.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[(0,e.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,e.jsx)(d,{variant:"secondary",size:"sm",onClick:()=>c(a-1),disabled:1===a,children:"Previous"}),(0,e.jsx)(d,{variant:"secondary",size:"sm",onClick:()=>c(a+1),disabled:a===l,children:"Next"})]}),(0,e.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,e.jsx)("div",{children:(0,e.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,e.jsx)("span",{className:"font-medium",children:(a-1)*r+1})," to"," ",(0,e.jsx)("span",{className:"font-medium",children:o})," of"," ",(0,e.jsx)("span",{className:"font-medium",children:n})," results"]})}),(0,e.jsxs)("div",{className:"flex space-x-1",children:[(0,e.jsx)(d,{variant:"secondary",size:"sm",onClick:()=>c(a-1),disabled:1===a,children:"Previous"}),Array.from({length:Math.min(5,l)},(t,n)=>{let r=Math.max(1,a-2)+n;return r<=l?(0,e.jsx)(d,{variant:a===r?"primary":"secondary",size:"sm",onClick:()=>c(r),children:r},r):null}),(0,e.jsx)(d,{variant:"secondary",size:"sm",onClick:()=>c(a+1),disabled:a===l,children:"Next"})]})]})]})}},97548,t=>{"use strict";t.s(["Filter",()=>e],97548);let e=(0,t.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},61735,t=>{"use strict";t.s(["default",()=>o]);var e=t.i(43476),a=t.i(71645),l=t.i(33651),c=t.i(55436),n=t.i(97548),r=t.i(29562);function o(){let[t,o]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[d,h]=(0,a.useState)(!0),[m,x]=(0,a.useState)(1),[g]=(0,a.useState)(10),[u,b]=(0,a.useState)(""),[y,p]=(0,a.useState)((()=>{let t=new Date,e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return"".concat(e,"-").concat(a,"-").concat(l)})()),[f,N]=(0,a.useState)("D");(0,a.useEffect)(()=>{F()},[y,f]);let F=async()=>{h(!0);try{let t=new URLSearchParams({date:y,type:f}),e=await fetch("https://varahasdc.co.in/api/admin/daily-revenue-report?".concat(t));if(e.ok){let t=await e.json();o(t.data||[])}}catch(t){console.error("Error fetching revenue data:",t)}finally{h(!1)}};(0,a.useEffect)(()=>{let e=[];Array.isArray(t)&&t.forEach(t=>{"D"===f&&t.patients&&Array.isArray(t.patients)?t.patients.forEach(a=>{e.push({...a,hospitalName:t.hospitalName,hospital_name:t.hospitalName})}):"S"===f&&t.summaryRows&&Array.isArray(t.summaryRows)&&t.summaryRows.forEach((a,l)=>{e.push({sno:l+1,date:t.date,cro:a.scanCode,patient_name:"".concat(t.hospitalName," - ").concat(t.category),patientName:"".concat(t.hospitalName," - ").concat(t.category),age:a.patientCount.toString(),gender:"Summary",scan_names:a.scanNames.filter(t=>".."!==t).join(", "),scanNames:a.scanNames.filter(t=>".."!==t),total_scan:a.numberOfScans,totalScans:a.numberOfScans,amount:a.amount,category:t.category,hospitalName:t.hospitalName,hospital_name:t.hospitalName,mobile:"",doctor:""})})});let a=e;u&&(a=a.filter(t=>(t.patient_name||t.patientName||"").toLowerCase().includes(u.toLowerCase())||(t.cro||"").toLowerCase().includes(u.toLowerCase()))),i(a),x(1)},[t,u,f]);let j=Math.ceil(s.length/g),A=(m-1)*g,k=s.slice(A,A+g),T=async()=>{if(!Array.isArray(t)||0===t.length)return void alert("No data available for export");let e=new Date("2023-06-01"),a=y.split("-"),l=Math.ceil(Math.abs(new Date("".concat(a[2],"-").concat(a[1],"-").concat(a[0])).getTime()-e.getTime())/864e5)+85,c=85===l?"85 (A)":l,n=Math.max(...t.map(t=>t.summaryRows?Math.max(...t.summaryRows.map(t=>t.scanCode.split("+").length)):0)),r=n+5,o='<html><meta http-equiv="Content-Type" content="text/html; charset=Windows-1252"><body><table border="1"><tr><th colspan="'.concat(r,'">VARAHA SDC : 256 SLICE CT SCAN</th></tr><tr><th style="text-margin:center;" colspan="').concat(r,'">(IMAGING UNDER P.P.P MODE)</th></tr><tr><th style="text-margin:center;" colspan="').concat(r,'">RAJASTHAN MEDICARE RELIEF SOCIETY, MDM HOSPITAL , Jodhpur</th></tr><tr><th style="background-color:#FFEA00; color:black;text-align:left;" colspan="').concat(r,'">Bill No. :- 2023/VDC_MDM/CT').concat(c,'</th></tr><tr><th style="text-align:center;" colspan="').concat(r,'">&nbsp;</th></tr><tr><th style="text-align:right;" colspan="').concat(r,'">RMRS, MDM Hospital, Jodhpur</th></tr><tr><th style="text-align:right;" colspan="').concat(r,'">SUMMARY FOR THE PERIOD OF</th></tr><tr><th style="background-color:#FFEA00; color:black;text-align:right;" colspan="').concat(r,'">').concat(y,"</th></tr>"),s=0,i=0,d=0;t.forEach(t=>{if(!t.summaryRows||0===t.summaryRows.length)return;let e=Math.max(...t.summaryRows.map(t=>t.scanCode.split("+").length));o+='<tr><th style="background-color:#FFEA00; color:black">('.concat(t.hospitalName," ").concat(t.category,")</th></tr>"),o+="<tr>";for(let t=1;t<=e;t++)o+='<th style="background-color:#2F75B5; color:white">'.concat(t,". SCAN NAME</th>");o+='<th style="background-color:#2F75B5; color:white">SCAN NO. ( Scan Code)</th><th style="background-color:#2F75B5; color:white">NO. OF SCAN</th><th style="background-color:#2F75B5; color:white">PATIENT/ FORMS</th><th style="background-color:#2F75B5; color:white">RATE</th><th style="background-color:#2F75B5; color:white">AMOUNT</th></tr>';let a=0,l=0,c=0;t.summaryRows.forEach(t=>{o+="<tr>";for(let a=0;a<e;a++)o+="<td>".concat(t.scanNames[a]||"..","</td>");o+='<td style="text-align:center">'.concat(t.scanCode,'</td><td style="text-align:center">').concat(t.numberOfScans,'</td><td style="text-align:center">').concat(t.patientCount,'</td><td style="text-align:center">').concat(t.rate,'</td><td style="text-align:right">').concat(t.amount,"</td></tr>"),a+=t.numberOfScans,l+=t.patientCount,c+=t.amount}),o+='<tr><th style="background-color:#FFEA00; color:black; text-align:left" colspan="'.concat(e,'">Total </th><th style="background-color:#FFEA00; color:black;text-align:center"> </th><th style="background-color:#FFEA00; color:black;text-align:center">').concat(a,'</th><th style="background-color:#FFEA00; color:black;text-align:center">').concat(l,'</th><th style="background-color:#FFEA00; color:black;text-align:center"> </th><th style="background-color:#FFEA00; color:black;text-align:right">').concat(c.toFixed(2),'</th></tr><tr><th colspan="').concat(e+5,'">&nbsp;</th></tr>'),s+=a,i+=l,d+=c});let h=parseFloat((d-.25*d).toFixed(2)),m=0,x=0,g=0;try{let t=await fetch("https://varahasdc.co.in/api/admin/paid-patients?s_date=".concat(y));if(t.ok){let e=await t.json();e.success&&(m=e.tot_patient||0,x=e.tot_scan||0,g=parseFloat((e.tot_amt||0).toFixed(2)))}}catch(t){console.error("Error fetching paid patients data:",t)}o+='<tr><th style="background-color:#FFEA00; color:black; text-align:left" colspan="'.concat(n,'">NET AMOUNT</th><th style="background-color:#FFEA00; color:black;text-align:center">').concat(s,'</th><th style="background-color:#FFEA00; color:black;text-align:center">').concat(i,'</th><th style="background-color:#FFEA00; color:black;text-align:center"> </th><th style="background-color:#FFEA00; color:black;text-align:right">').concat(d.toFixed(2),'</th></tr><tr><th colspan="').concat(r,'">&nbsp;</th></tr><tr><th style="background-color:#2F75B5; color:white" colspan="').concat(r,'">SUMMARY FOR THE PERIOD</th></tr><tr><td><B>PARTICULAR</td>');for(let t=1;t<n;t++)o+="<td></td>";o+='<td style="text-align:center"><B>SCAN</td><td></td><td style="text-align:center"><B>AMOUNT</td></tr><tr><td>GROSS TOTAL</td>';for(let t=1;t<n;t++)o+="<td></td>";o+='<td style="text-align:center">'.concat(s,'</td><td></td><td style="text-align:right">').concat(d.toFixed(2),"</td></tr><tr><td>(-) 25% FREE SHARE OF MDM</td>");for(let t=1;t<n;t++)o+="<td></td>";let u=new Blob([o+='<td style="text-align:center">'.concat(parseFloat((.25*s).toFixed(2)),'</td><td></td><td style="text-align:right">').concat((.25*d).toFixed(2),'</td></tr><tr><th colspan="').concat(n,'" style="background-color:#FFEA00; color:black; text-align:left">NET RECEIVABLE</th><th style="background-color:#FFEA00; color:black; text-align:center">').concat(parseFloat((s-.25*s).toFixed(2)),'</th><th style="background-color:#FFEA00; color:black;"></th><th style="background-color:#FFEA00; color:black;text-align:right">').concat(h.toFixed(2),'</th></tr><tr><th colspan="').concat(r,'">&nbsp;</th></tr><tr><th colspan="').concat(r,'">&nbsp;</th></tr><tr><th colspan="').concat(n,'" style="text-align:left"><u>RUPEES ').concat((t=>{let e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],a=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],l=t=>{let l="";return t>=100&&(l+=e[Math.floor(t/100)]+" Hundred ",t%=100),t>=20&&(l+=a[Math.floor(t/10)]+" ",t%=10),t>0&&(l+=e[t]+" "),l};if(0===t)return"Zero Rupees Only";let c=Math.floor(t),n=Math.round((t-c)*100),r="",o=c,s=Math.floor(o/1e7),i=Math.floor((o%=1e7)/1e5),d=Math.floor((o%=1e5)/1e3),h=o%=1e3;return s>0&&(r+=l(s)+"Crore "),i>0&&(r+=l(i)+"Lakh "),d>0&&(r+=l(d)+"Thousand "),h>0&&(r+=l(h)),(r=r.trim())?r+=" Rupees":r="Zero Rupees",n>0&&(r+=" And "+l(n).trim()+" Paisa"),r+" Only"})(h).toUpperCase(),'</u></th><th colspan="4"></th></tr><tr><th colspan="').concat(n,'" style="text-align:left">*TOTAL PAID PATIENT = ').concat(m,", TOTAL SCAN = ").concat(x,", TOTAL AMOUNT = ").concat(g.toFixed(2),'</th><th colspan="4" style="text-align:right">For : VARAHA SDC</th></tr></table></body></html>')],{type:"application/vnd.ms-excel"}),b=window.URL.createObjectURL(u),p=document.createElement("a");p.href=b,p.download="DAILY SUMMARY REPORT-".concat(y,".xls"),p.click(),window.URL.revokeObjectURL(b)};return(0,e.jsx)(r.default,{title:"Daily Revenue Report",subtitle:"Daily Revenue Analysis",actions:(0,e.jsxs)(r.Button,{onClick:()=>{"S"===f?T():(()=>{if(!Array.isArray(t)||0===t.length)return alert("No data available for export");let e='<html><meta http-equiv="Content-Type" content="text/html; charset=Windows-1252"><body>';t.forEach(t=>{if(!t.patients||0===t.patients.length)return;let a=Math.max(...t.patients.map(t=>t.total_scan||t.totalScans||0)),l=10+a;console.log("Testing",a,l),e+='\n        <table border="1">\n          <tr><th colspan="'.concat(l,'" style="background-color:#2F75B5; color:white">VARAHA SDC : IMAGING UNDER P.P.P. MODE</th></tr>\n          <tr><th colspan="').concat(l,'" style="background-color:#2F75B5; color:white">RAJASTHAN MEDICARE RELIEF SOCIETY, MDM HOSPITAL</th></tr>\n          <tr><th style="text-margin:center; background-color:#FFEA00; color:black" colspan="').concat(l,'">').concat(t.hospitalName," (").concat(t.category,") ").concat(y,'</th></tr>\n          <tr>\n            <th style="background-color:#2F75B5; color:white">S.No</th>\n            <th style="background-color:#2F75B5; color:white">DATE</th>\n            <th style="background-color:#2F75B5; color:white">CRO NO. / REG. NO.</th>\n            <th style="background-color:#2F75B5; color:white">PATIENT ID</th>\n            <th style="background-color:#2F75B5; color:white">NAME OF PATIENT</th>\n            <th style="background-color:#2F75B5; color:white">AGE</th>\n            <th style="background-color:#2F75B5; color:white">GENDER</th>\n      ');for(let t=1;t<=a;t++)e+='<th style="background-color:#2F75B5; color:white">Scan Type '.concat(t,"</th>");e+='\n            <th style="background-color:#2F75B5; color:white">TOTAL SCAN</th>\n            <th style="background-color:#2F75B5; color:white">AMOUNT</th>\n            <th style="background-color:#2F75B5; color:white">CATEGORY</th>\n          </tr>\n      ';let c=0,n=0;t.patients.forEach((t,l)=>{let r=t.scanNames||(t.scan_names||t.scan_type||"").split(",").map(t=>t.trim()).filter(t=>t),o=(t.age||"").toString().replace("ear",""),s=(t.gender||"").substring(0,1),i=t.patientId||t.examination_id||t.patient_id||"";e+="\n          <tr>\n            <td>".concat(t.sno||l+1,"</td>\n            <td>").concat(y,"</td>\n            <td>").concat(t.cro||"","</td>\n            <td>").concat(i,"</td>\n            <td>").concat(t.patientName||t.patient_name||"","</td>\n            <td>").concat(o,"</td>\n            <td>").concat(s,"</td>\n        ");for(let t=0;t<a;t++){let a=r[t]||"";e+="<td>".concat(a,"</td>")}let d=parseInt(String(t.totalScans||t.total_scan||0)),h=parseFloat(String(t.amount||0));e+="\n            <td style='text-align:right'>".concat(d,"</td>\n            <td style='text-align:right'>").concat(h.toFixed(2),"</td>\n            <td>").concat(t.category,"</td>\n          </tr>\n        "),c+=d,n+=h}),e+='\n        <tr>\n          <th style="background-color:#FFEA00; color:black"> </th>\n          <th style="background-color:#FFEA00; color:black"> </th>\n          <th style="background-color:#FFEA00; color:black"> </th>\n          <th style="background-color:#FFEA00; color:black"> </th>\n          <th style="background-color:#FFEA00; color:black"></th>\n          <th style="background-color:#FFEA00; color:black"></th>\n          <th style="background-color:#FFEA00; color:black"></th>\n      ';for(let t=1;t<a;t++)e+='<th style="background-color:#FFEA00; color:black"></th>';e+='\n          <th style="background-color:#FFEA00; color:black">Total </th>\n          <th style="background-color:#FFEA00; color:black;text-align:right">'.concat(c,' </th>\n          <th style="background-color:#FFEA00; color:black;text-align:right">').concat(n.toFixed(2),'  </th>\n          <th style="background-color:#FFEA00; color:black"> </th>\n        </tr>\n        </table><br><br>\n      ')});let a=new Blob([e+="</body></html>"],{type:"application/vnd.ms-excel"}),l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download="DAILY REVENUE REPORT-".concat(y,".xls"),c.click(),window.URL.revokeObjectURL(l)})()},variant:"success",disabled:0===t.length,children:[(0,e.jsx)(l.Download,{className:"h-4 w-4 mr-2"}),"Download Excel"]}),children:(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)(r.Card,{className:"p-4",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,e.jsx)(n.Filter,{className:"h-5 w-5 text-gray-600"}),(0,e.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters & Search"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Date"}),(0,e.jsx)("input",{type:"date",value:y.split("-").reverse().join("-"),onChange:t=>{let e=t.target.value.split("-");p("".concat(e[2],"-").concat(e[1],"-").concat(e[0]))},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),(0,e.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,e.jsxs)("label",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"radio",name:"reportType",value:"D",checked:"D"===f,onChange:t=>N(t.target.value),className:"mr-2"}),(0,e.jsx)("span",{className:"text-sm",children:"Detail"})]}),(0,e.jsxs)("label",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"radio",name:"reportType",value:"S",checked:"S"===f,onChange:t=>N(t.target.value),className:"mr-2"}),(0,e.jsx)("span",{className:"text-sm",children:"Summary"})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(c.Search,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,e.jsx)("input",{type:"text",placeholder:"Search CRO or Patient...",value:u,onChange:t=>b(t.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),(0,e.jsx)("div",{className:"flex items-end",children:(0,e.jsxs)(r.Button,{onClick:F,disabled:d,className:"w-full",children:[(0,e.jsx)(c.Search,{className:"h-4 w-4 mr-2"}),d?"Loading...":"Search"]})})]})]}),(0,e.jsxs)(r.Card,{children:[(0,e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Revenue Data"}),(0,e.jsxs)("span",{className:"text-sm text-gray-500",children:[s.length," records"]})]})}),(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)(r.Table,{children:[(0,e.jsxs)(r.TableHeader,{children:[(0,e.jsx)(r.TableHeaderCell,{children:"S.No"}),(0,e.jsx)(r.TableHeaderCell,{children:"Date"}),(0,e.jsx)(r.TableHeaderCell,{children:"S"===f?"Scan Code":"CRO"}),(0,e.jsx)(r.TableHeaderCell,{children:"S"===f?"Hospital - Category":"Patient Name"}),(0,e.jsx)(r.TableHeaderCell,{children:"S"===f?"Patient Count":"Age"}),(0,e.jsx)(r.TableHeaderCell,{children:"Gender"}),(0,e.jsx)(r.TableHeaderCell,{children:"Mobile"}),(0,e.jsx)(r.TableHeaderCell,{children:"Category"}),(0,e.jsx)(r.TableHeaderCell,{children:"Hospital"}),(0,e.jsx)(r.TableHeaderCell,{children:"Doctor"}),Array.from({length:Math.max(...s.map(t=>"S"===f&&"scanNames"in t&&t.scanNames?t.scanNames.length:t.total_scan||t.totalScans||0),0)},(t,a)=>(0,e.jsxs)(r.TableHeaderCell,{children:["Scan Type ",a+1]},a)),(0,e.jsx)(r.TableHeaderCell,{children:"Total Scan"}),(0,e.jsx)(r.TableHeaderCell,{children:"Amount"})]}),(0,e.jsx)(r.TableBody,{children:d?(0,e.jsx)(r.TableRow,{children:(0,e.jsx)(r.TableCell,{className:"text-center",colSpan:13+Math.max(...s.map(t=>"S"===f&&"scanNames"in t&&t.scanNames?t.scanNames.length:t.total_scan||t.totalScans||0),0),children:"Loading..."})}):s&&0!==s.length?k.map((t,a)=>{let l=t.scanNames||(t.scan_names?t.scan_names.split(", "):[])||[];return(0,e.jsxs)(r.TableRow,{children:[(0,e.jsx)(r.TableCell,{children:A+a+1}),(0,e.jsx)(r.TableCell,{children:t.date}),(0,e.jsx)(r.TableCell,{className:"font-medium text-red-600",children:t.cro||""}),(0,e.jsx)(r.TableCell,{children:t.patient_name||t.patientName||""}),(0,e.jsx)(r.TableCell,{children:t.age||""}),(0,e.jsx)(r.TableCell,{children:t.gender||""}),(0,e.jsx)(r.TableCell,{children:t.mobile||""}),(0,e.jsx)(r.TableCell,{children:(0,e.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 font-medium",children:t.category||""})}),(0,e.jsx)(r.TableCell,{children:t.hospitalName||t.hospital_name||""}),(0,e.jsx)(r.TableCell,{children:t.doctor||t.doctor_name||""}),Array.from({length:Math.max(...s.map(t=>"S"===f&&"scanNames"in t&&t.scanNames?t.scanNames.length:t.total_scan||t.totalScans||0),0)},(t,a)=>(0,e.jsx)(r.TableCell,{children:l[a]||""},a)),(0,e.jsx)(r.TableCell,{className:"text-center",children:t.total_scan||t.totalScans||0}),(0,e.jsxs)(r.TableCell,{className:"font-medium text-green-600",children:["â‚¹",parseFloat(String(t.amount||0)).toFixed(2)]})]},t.cro||a)}):(0,e.jsx)(r.TableRow,{children:(0,e.jsx)(r.TableCell,{className:"text-center",colSpan:13+Math.max(...(s.length>0?s:[{total_scan:0}]).map(t=>"S"===f&&"scanNames"in t&&t.scanNames?t.scanNames.length:t.total_scan||0),0),children:"No revenue data found"})})})]})}),j>1&&(0,e.jsx)(r.Pagination,{currentPage:m,totalPages:j,onPageChange:x,totalItems:s.length,itemsPerPage:g})]})]})})}}]);