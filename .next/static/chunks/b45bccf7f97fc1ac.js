(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44112,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),a=e.i(71645),s=e.i(84614),r=e.i(63059);function l(){let[e,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/patients/last-enrolled");if(e.ok){let t=await e.json();l(t.data)}}catch(e){console.error("Error fetching last patient:",e)}};return e?(0,t.jsx)("div",{className:"bg-blue-600 bg-opacity-20 rounded-lg p-4 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,t.jsx)(s.User,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:"Last Enrolled Patient"}),(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-bold text-white",children:e.cro}),(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:e.patient_name})]})}):null}},56909,e=>{"use strict";e.s(["Save",()=>t],56909);let t=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},12426,e=>{"use strict";e.s(["DollarSign",()=>t],12426);let t=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},50627,e=>{"use strict";e.s(["Receipt",()=>t],50627);let t=(0,e.i(75254).default)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},71628,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),a=e.i(71645),s=e.i(50627),r=e.i(7233),l=e.i(12426),n=e.i(56909),d=e.i(71689),i=e.i(8776),c=e.i(44112);function o(){let e=(0,i.useToastContext)(),[o,x]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)({withdraw:"",r_amount:"",d_amount:"",remark:""}),f=new Date().toLocaleDateString("en-GB");(0,a.useEffect)(()=>{y()},[]);let y=async()=>{h(!0);try{let e=[{id:1,withdraw:500,r_amount:2e3,d_amount:300,added_on:f,remark:"Daily collection"}];x(e)}catch(e){console.error("Error fetching transactions:",e)}finally{h(!1)}},j=async t=>{if(t.preventDefault(),(()=>{let t=parseFloat(g.withdraw)||0,a=parseFloat(g.r_amount)||0,s=parseFloat(g.d_amount)||0;return t<0||a<0||s<0?(e.error("Amounts cannot be negative"),!1):0!==t||0!==a||0!==s||(e.error("At least one amount must be greater than 0"),!1)})()){h(!0);try{let t={id:Date.now(),withdraw:parseFloat(g.withdraw)||0,r_amount:parseFloat(g.r_amount)||0,d_amount:parseFloat(g.d_amount)||0,added_on:f,remark:g.remark};x(e=>[...e,t]),b({withdraw:"",r_amount:"",d_amount:"",remark:""}),p(!1),e.error("Transaction added successfully!")}catch(t){console.error("Error adding transaction:",t),e.error("Error adding transaction")}finally{h(!1)}}},w=e=>{let{name:t,value:a}=e.target;b(e=>({...e,[t]:a}))},N=o.reduce((e,t)=>({withdraw:e.withdraw+t.withdraw,received:e.received+t.r_amount,due:e.due+t.d_amount}),{withdraw:0,received:0,due:0}),v=N.received-N.due-N.withdraw;return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Daily Voucher"}),(0,t.jsx)("p",{className:"text-blue-100 text-lg",children:"Manage daily cash transactions and vouchers"})]}),(0,t.jsx)("div",{className:"ml-6",children:(0,t.jsx)(c.default,{})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.DollarSign,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Received Amount"})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600 mt-2",children:["₹",N.received.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.DollarSign,{className:"h-5 w-5 text-red-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-red-800",children:"Due Amount"})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-red-600 mt-2",children:["₹",N.due.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.DollarSign,{className:"h-5 w-5 text-orange-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-orange-800",children:"Withdraw"})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-orange-600 mt-2",children:["₹",N.withdraw.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.DollarSign,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Cash in Hand"})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600 mt-2",children:["₹",Math.max(0,v).toLocaleString()]})]})]}),u?(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Add New Transaction"}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(d.ArrowLeft,{className:"h-5 w-5"})})]}),(0,t.jsxs)("form",{onSubmit:j,children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Received Amount (₹)"}),(0,t.jsx)("input",{type:"number",name:"r_amount",value:g.r_amount,onChange:w,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Due Amount (₹)"}),(0,t.jsx)("input",{type:"number",name:"d_amount",value:g.d_amount,onChange:w,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Withdraw Amount (₹)"}),(0,t.jsx)("input",{type:"number",name:"withdraw",value:g.withdraw,onChange:w,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,t.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Remarks"}),(0,t.jsx)("textarea",{name:"remark",value:g.remark,onChange:w,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter transaction details..."})]}),(0,t.jsxs)("div",{className:"mt-8 flex space-x-4",children:[(0,t.jsxs)("button",{type:"submit",disabled:m,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium",children:[(0,t.jsx)(n.Save,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:m?"Saving...":"Save Transaction"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md font-medium",children:"Cancel"})]})]})]}):(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold",children:["Today's Transactions (",f,")"]}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(r.Plus,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Add Transaction"})]})]}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Received (₹)"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due (₹)"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Withdraw (₹)"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black font-medium",children:a+1}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:["₹",e.r_amount.toLocaleString()]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium",children:["₹",e.d_amount.toLocaleString()]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 font-medium",children:["₹",e.withdraw.toLocaleString()]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:e.added_on}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:e.remark||"-"})]},e.id))}),(0,t.jsx)("tfoot",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{className:"font-bold",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-black",children:"Total"}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-green-600",children:["₹",N.received.toLocaleString()]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-red-600",children:["₹",N.due.toLocaleString()]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-orange-600",children:["₹",N.withdraw.toLocaleString()]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-black",children:"-"}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-black",children:"-"})]})})]}),0===o.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(s.Receipt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Transactions Today"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Add your first transaction to get started."})]})]})]})]})}}]);