(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33651,e=>{"use strict";e.s(["Download",()=>t],33651);let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},44112,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),a=e.i(71645),s=e.i(84614),r=e.i(63059);function n(){let[e,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{l()},[]);let l=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/patients/last-enrolled");if(e.ok){let t=await e.json();n(t.data)}}catch(e){console.error("Error fetching last patient:",e)}};return e?(0,t.jsx)("div",{className:"bg-blue-600 bg-opacity-20 rounded-lg p-4 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,t.jsx)(s.User,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:"Last Enrolled Patient"}),(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-bold text-white",children:e.cro}),(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:e.patient_name})]})}):null}},89040,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),a=e.i(71645),s=e.i(87316),r=e.i(78583),n=e.i(33651),l=e.i(55436),c=e.i(8776),o=e.i(44112);function i(){let e=(0,c.useToastContext)(),i=()=>{let e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return"".concat(t,"-").concat(a,"-").concat(s)},[d,x]=(0,a.useState)(i()),[m,h]=(0,a.useState)(i()),[p,u]=(0,a.useState)([]),[g,b]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),w=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;if(!t||!a)return void e.error("Please select both start and end dates");b(!0);try{let s=await fetch("https://varahasdc.co.in/api/reception/reports/doctor?startDate=".concat(t,"&endDate=").concat(a));if(s.ok){let e=await s.json();u(e.data||[]),f(!0)}else e.error("Failed to generate report"),u([]),f(!1)}catch(t){console.error("Error generating report:",t),e.error("Error generating report"),u([]),f(!1)}finally{b(!1)}},N=async e=>{e.preventDefault(),w()};return(0,a.useEffect)(()=>{w()},[]),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Doctor Daily Report"}),(0,t.jsx)("p",{className:"text-blue-100 text-lg",children:"Generate comprehensive doctor performance reports"})]}),(0,t.jsx)("div",{className:"ml-6",children:(0,t.jsx)(o.default,{})})]})}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-blue-100 mb-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,t.jsx)(s.Calendar,{className:"h-5 w-5 mr-2"}),"Report By Date Range"]})}),(0,t.jsx)("form",{onSubmit:N,className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["From Date ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"date",value:d.split("-").reverse().join("-"),onChange:e=>{let t=e.target.value.split("-");x("".concat(t[2],"-").concat(t[1],"-").concat(t[0]))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["To Date ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"date",value:m.split("-").reverse().join("-"),onChange:e=>{let t=e.target.value.split("-");h("".concat(t[2],"-").concat(t[1],"-").concat(t[0]))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium",children:[(0,t.jsx)(l.Search,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:g?"Generating...":"Generate Report"})]})})]})})]}),j&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"VARAHA SDC"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mt-1",children:"DOCTOR REPORT"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["From ",(0,t.jsx)("span",{className:"font-medium",children:d})," To ",(0,t.jsx)("span",{className:"font-medium",children:m})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>{if(!d||!m)return void e.error("Please generate report first");let t="https://varahasdc.co.in/api/reception/reports/doctor/excel?startDate=".concat(d,"&endDate=").concat(m);window.open(t,"_blank")},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(n.Download,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Export to Excel"})]}),(0,t.jsxs)("button",{onClick:()=>{if(0===p.length)return void e.error("No data to export");let t="<html>";t+='<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252"><body>',t+='<table border="1">',t+='<tr><th colspan="6">VARAHA SDC</th></tr>',t+='<tr><th style="text-align:center;" colspan="6">DOCTOR REPORT</th></tr>',t+='<tr><th style="text-align:center;" colspan="6">From '.concat(d," To ").concat(m,"</th></tr>"),t+="<tr><th>S.No</th><th>DOCTOR NAME</th><th>Total Scan</th><th>Paid Patient</th><th>Free Patient</th><th>Total Revenue</th></tr>",p.forEach(e=>{t+="<tr><td>".concat(e.sno,"</td><td>").concat(e.doctorName,"</td><td>").concat(e.totalScans,"</td><td>").concat(e.paidPatients,"</td><td>").concat(e.freePatients,"</td><td>").concat(e.totalRevenue,"</td></tr>")}),t+="<tr><td></td><td></td><td></td><td></td><td></td><td></td></tr>";let a=new Blob([t+="</table></body></html>"],{type:"application/vnd.ms-excel"}),s=window.URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="DOCTOR_REPORT-".concat(d," -To-").concat(m,".xls"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(r.FileText,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Download Report"})]})]})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-blue-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"S.No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Doctor Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total Scan"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Paid Patient"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Free Patient"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total Revenue"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[p.map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.sno}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:e.doctorName}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:e.totalScans}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:e.paidPatients}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:e.freePatients}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:["â‚¹",e.totalRevenue.toLocaleString()]})]},a)),(0,t.jsxs)("tr",{className:"bg-blue-100 font-bold",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900",colSpan:2,children:"TOTAL"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-center",children:p.reduce((e,t)=>e+t.totalScans,0)}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-center",children:p.reduce((e,t)=>e+t.paidPatients,0)}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-center",children:p.reduce((e,t)=>e+t.freePatients,0)}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-right",children:["â‚¹",p.reduce((e,t)=>e+t.totalRevenue,0).toLocaleString()]})]})]})]})}),0===p.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(r.FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No doctor reports found for the selected date range."})]})]}),!j&&!g&&(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(r.FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Generate Doctor Report"}),(0,t.jsx)("p",{className:"text-gray-500",children:'Select a date range above and click "Generate Report" to view doctor performance data.'})]})})]})})}}]);