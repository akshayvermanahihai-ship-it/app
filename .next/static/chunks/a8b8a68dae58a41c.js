(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33651,t=>{"use strict";t.s(["Download",()=>e],33651);let e=(0,t.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},29562,t=>{"use strict";t.s(["Button",()=>i,"Card",()=>r,"Pagination",()=>x,"Table",()=>s,"TableBody",()=>l,"TableCell",()=>c,"TableHeader",()=>n,"TableHeaderCell",()=>d,"TableRow",()=>o,"default",()=>a]);var e=t.i(43476);function a(t){let{children:a,title:r,subtitle:s,actions:n}=t;return(0,e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,e.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,e.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:r}),s&&(0,e.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),n&&(0,e.jsx)("div",{className:"flex space-x-3",children:n})]})})}),(0,e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a})]})}function r(t){let{children:a,className:r=""}=t;return(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(r),children:a})}function s(t){let{children:a}=t;return(0,e.jsx)("div",{className:"overflow-hidden",children:(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:a})})})}function n(t){let{children:a}=t;return(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsx)("tr",{children:a})})}function d(t){let{children:a,className:r=""}=t;return(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(r),children:a})}function l(t){let{children:a}=t;return(0,e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a})}function o(t){let{children:a,className:r=""}=t;return(0,e.jsx)("tr",{className:"hover:bg-gray-50 ".concat(r),children:a})}function c(t){let{children:a,className:r="",...s}=t;return(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ".concat(r),...s,children:a})}function i(t){let{children:a,variant:r="primary",size:s="md",className:n="",...d}=t;return(0,e.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[s]," ").concat(n),...d,children:a})}function x(t){let{currentPage:a,totalPages:r,onPageChange:s,totalItems:n,itemsPerPage:d}=t,l=Math.min(a*d,n);return(0,e.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[(0,e.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,e.jsx)(i,{variant:"secondary",size:"sm",onClick:()=>s(a-1),disabled:1===a,children:"Previous"}),(0,e.jsx)(i,{variant:"secondary",size:"sm",onClick:()=>s(a+1),disabled:a===r,children:"Next"})]}),(0,e.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,e.jsx)("div",{children:(0,e.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,e.jsx)("span",{className:"font-medium",children:(a-1)*d+1})," to"," ",(0,e.jsx)("span",{className:"font-medium",children:l})," of"," ",(0,e.jsx)("span",{className:"font-medium",children:n})," results"]})}),(0,e.jsxs)("div",{className:"flex space-x-1",children:[(0,e.jsx)(i,{variant:"secondary",size:"sm",onClick:()=>s(a-1),disabled:1===a,children:"Previous"}),Array.from({length:Math.min(5,r)},(t,n)=>{let d=Math.max(1,a-2)+n;return d<=r?(0,e.jsx)(i,{variant:a===d?"primary":"secondary",size:"sm",onClick:()=>s(d),children:d},d):null}),(0,e.jsx)(i,{variant:"secondary",size:"sm",onClick:()=>s(a+1),disabled:a===r,children:"Next"})]})]})]})}},97548,t=>{"use strict";t.s(["Filter",()=>e],97548);let e=(0,t.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},68197,t=>{"use strict";t.s(["default",()=>i]);var e=t.i(43476),a=t.i(71645),r=t.i(33651),s=t.i(97548),n=t.i(87316),d=t.i(84614),l=t.i(78583),o=t.i(29562),c=t.i(8776);function i(){let t=(0,c.useToastContext)(),[i,x]=(0,a.useState)([]),[p,h]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[y,u]=(0,a.useState)(1),[b]=(0,a.useState)(10),[j,N]=(0,a.useState)({doctor_id:"",scan_head_id:"",from_date:"",to_date:""}),[f,v]=(0,a.useState)([]),[w,_]=(0,a.useState)([]);(0,a.useEffect)(()=>{D(),F(),k()},[]);let D=async()=>{try{let t=await fetch("https://varahasdc.co.in/api/doctor/ct-scan-doctors");if(t.ok){let e=await t.json();v(e.data||[])}}catch(t){console.error("Error fetching doctors:",t)}},F=async()=>{try{let t=await fetch("https://varahasdc.co.in/api/admin/scan-heads");if(t.ok){let e=await t.json();_(e.data||[])}}catch(t){console.error("Error fetching scan heads:",t)}},k=async()=>{g(!0),u(1);try{let t=new URLSearchParams;Object.entries(j).forEach(e=>{let[a,r]=e;r&&"All"!==r&&t.append(a,r)});let e=await fetch("https://varahasdc.co.in/api/superadmin/doctor-scan-report?".concat(t));if(e.ok){let t=await e.json();x(t.data||[]),h(t.summary||null)}}catch(e){console.error("Error fetching reports:",e),t.error("Error fetching reports")}finally{g(!1)}},S=Math.ceil(i.length/b),R=(y-1)*b,C=i.slice(R,R+b),A=(t,e)=>{N(a=>({...a,[t]:e}))},T=async()=>{try{var e;if(0===i.length)return void t.error("No data to export");let a=j.from_date&&j.to_date?"".concat(j.from_date," to ").concat(j.to_date):"All Dates",r=j.doctor_id?(null==(e=f.find(t=>t.d_id===parseInt(j.doctor_id)))?void 0:e.doctor_name)||"Unknown":"All Doctors",s='\n        <html>\n        <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">\n        <body>\n        <table border="1" style="border-collapse: collapse; width: 100%;">\n          <tr>\n            <th colspan="8" style="background-color:#2F75B5; color:white; text-align:center; padding:8px;">VARAHA SDC</th>\n          </tr>\n          <tr>\n            <th colspan="8" style="background-color:#2F75B5; color:white; text-align:center; padding:8px;">DOCTOR SCAN REPORT</th>\n          </tr>\n          <tr>\n            <th colspan="8" style="background-color:#FFEA00; color:black; text-align:center; padding:8px;">Date Range: '.concat(a,'</th>\n          </tr>\n          <tr>\n            <th colspan="8" style="background-color:#FFEA00; color:black; text-align:center; padding:8px;">Doctor Filter: ').concat(r,'</th>\n          </tr>\n          <tr><td colspan="8" style="height:10px;"></td></tr>\n          <tr>\n            <th colspan="8" style="background-color:#2F75B5; color:white; text-align:center; padding:8px;">REPORTS BY DOCTOR</th>\n          </tr>\n          <tr>\n            <th style="background-color:#D3D3D3; padding:5px;">Sr.No</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Doctor</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Reports</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Amount</th>\n            <th colspan="4"></th>\n          </tr>\n      ');((null==p?void 0:p.by_doctor)||[]).forEach((t,e)=>{s+='\n          <tr>\n            <td style="text-align:center; padding:3px;">'.concat(e+1,'</td>\n            <td style="padding:3px;">').concat(t.doctor_name||"Unknown",'</td>\n            <td style="text-align:right; padding:3px;">').concat(t.report_count||0,'</td>\n            <td style="text-align:right; padding:3px;">').concat(parseFloat(String(t.total_amount||0)).toFixed(2),'</td>\n            <td colspan="4"></td>\n          </tr>\n        ')});let n=((null==p?void 0:p.by_doctor)||[]).reduce((t,e)=>t+(e.report_count||0),0),d=((null==p?void 0:p.by_doctor)||[]).reduce((t,e)=>t+parseFloat(String(e.total_amount||0)),0);s+='\n          <tr>\n            <td></td>\n            <td style="background-color:#FFFF99; font-weight:bold; padding:5px;">Total</td>\n            <td style="background-color:#FFFF99; font-weight:bold; text-align:right; padding:5px;">'.concat(n,'</td>\n            <td style="background-color:#FFFF99; font-weight:bold; text-align:right; padding:5px;">').concat(d.toFixed(2),'</td>\n            <td colspan="4"></td>\n          </tr>\n          <tr><td colspan="8" style="height:15px;"></td></tr>\n          <tr>\n            <th colspan="8" style="background-color:#2F75B5; color:white; text-align:center; padding:8px;">REPORTS BY SCAN HEAD</th>\n          </tr>\n          <tr>\n            <th style="background-color:#D3D3D3; padding:5px;">Sr.No</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Scan Head</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Doctors</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Reports</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Rate/Report</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Amount</th>\n            <th colspan="2"></th>\n          </tr>\n      '),((null==p?void 0:p.by_head)||[]).forEach((t,e)=>{let a=(t.report_count||0)>0?(t.total_amount||0)/(t.report_count||0):0;s+='\n          <tr>\n            <td style="text-align:center; padding:3px;">'.concat(e+1,'</td>\n            <td style="padding:3px;">').concat(t.head_name||"Unknown",'</td>\n            <td style="text-align:right; padding:3px;">').concat(t.doctor_count||0,'</td>\n            <td style="text-align:right; padding:3px;">').concat(t.report_count||0,'</td>\n            <td style="text-align:right; padding:3px;">').concat(a.toFixed(2),'</td>\n            <td style="text-align:right; padding:3px;">').concat(parseFloat(String(t.total_amount||0)).toFixed(2),'</td>\n            <td colspan="2"></td>\n          </tr>\n        ')}),((null==p?void 0:p.by_head)||[]).reduce((t,e)=>t+(e.doctor_count||0),0);let l=((null==p?void 0:p.by_head)||[]).reduce((t,e)=>t+(e.report_count||0),0),o=((null==p?void 0:p.by_head)||[]).reduce((t,e)=>t+(parseFloat(String(e.total_amount))||0),0);s+='\n          <tr>\n            <td></td>\n            <td style="background-color:#FFFF99; font-weight:bold; padding:5px;">Total</td>\n            <td style="background-color:#FFFF99; font-weight:bold; text-align:right; padding:5px;"></td>\n            <td style="background-color:#FFFF99; font-weight:bold; text-align:right; padding:5px;">'.concat(l,'</td>\n            <td style="background-color:#FFFF99; padding:5px;"></td>\n            <td style="background-color:#FFFF99; font-weight:bold; text-align:right; padding:5px;">').concat(o.toFixed(2),'</td>\n            <td colspan="2"></td>\n          </tr>\n          <tr><td colspan="8" style="height:15px;"></td></tr>\n          <tr>\n            <th colspan="8" style="background-color:#2F75B5; color:white; text-align:center; padding:8px;">DETAILED REPORTS</th>\n          </tr>\n          <tr>\n            <th style="background-color:#D3D3D3; padding:5px;">S.No</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Doctor Name</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Patient Name</th>\n            <th style="background-color:#D3D3D3; padding:5px;">CRO</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Scan Types</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Scan Heads</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Amount</th>\n            <th style="background-color:#D3D3D3; padding:5px;">Report Date</th>\n          </tr>\n      '),i.forEach((t,e)=>{s+='\n          <tr>\n            <td style="text-align:center; padding:3px;">'.concat(e+1,'</td>\n            <td style="padding:3px;">').concat(t.doctor_name||"",'</td>\n            <td style="padding:3px;">').concat(t.patient_name||"",'</td>\n            <td style="padding:3px;">').concat(t.patient_cro||"",'</td>\n            <td style="padding:3px;">').concat(t.scan_names||"",'</td>\n            <td style="padding:3px;">').concat(t.scan_head_names||"",'</td>\n            <td style="text-align:right; padding:3px;">').concat(parseFloat(String(t.total_amount||0)).toFixed(2),'</td>\n            <td style="padding:3px;">').concat(t.report_date||"","</td>\n          </tr>\n        ")}),s+="\n        </table>\n        </body>\n        </html>\n      ";let c=new Blob([s],{type:"application/vnd.ms-excel"}),x=window.URL.createObjectURL(c),h=document.createElement("a");h.href=x,h.download="doctor-scan-report.xls",document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(x),t.success("Report downloaded successfully")}catch(e){console.error("Download error:",e),t.error("Error downloading report")}};return(0,e.jsx)(o.default,{title:"Doctor Scan Report",subtitle:"Comprehensive doctor scan reporting with amount calculations",children:(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,e.jsxs)("div",{className:"flex items-center mb-4",children:[(0,e.jsx)(s.Filter,{className:"h-5 w-5 text-gray-600 mr-2"}),(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Filters"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Doctor"}),(0,e.jsxs)("select",{value:j.doctor_id,onChange:t=>A("doctor_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500",children:[(0,e.jsx)("option",{value:"",children:"All Doctors"}),f.map(t=>(0,e.jsx)("option",{value:t.d_id,children:t.doctor_name},t.d_id))]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scan Head"}),(0,e.jsxs)("select",{value:j.scan_head_id,onChange:t=>A("scan_head_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500",children:[(0,e.jsx)("option",{value:"",children:"All Heads"}),w.map(t=>(0,e.jsx)("option",{value:t.id,children:t.head_name},t.id))]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,e.jsx)("input",{type:"date",value:j.from_date?j.from_date.split("-").reverse().join("-"):"",onChange:t=>{let e=t.target.value;if(e){let[t,a,r]=e.split("-");A("from_date","".concat(r,"-").concat(a,"-").concat(t))}else A("from_date","")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,e.jsx)("input",{type:"date",value:j.to_date?j.to_date.split("-").reverse().join("-"):"",onChange:t=>{let e=t.target.value;if(e){let[t,a,r]=e.split("-");A("to_date","".concat(r,"-").concat(a,"-").concat(t))}else A("to_date","")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500"})]})]}),(0,e.jsxs)("div",{className:"flex space-x-3 mt-4",children:[(0,e.jsx)("button",{onClick:k,disabled:m,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:m?"Loading...":"Apply Filters"}),(0,e.jsxs)("button",{onClick:T,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[(0,e.jsx)(r.Download,{className:"h-4 w-4 mr-2 inline"}),"Excel"]})]})]}),p&&(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,e.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(d.User,{className:"h-8 w-8 text-blue-600"}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Doctors"}),(0,e.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.total_doctors||0})]})]})}),(0,e.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(l.FileText,{className:"h-8 w-8 text-green-600"}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Reports"}),(0,e.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.total_reports||0})]})]})}),(0,e.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(n.Calendar,{className:"h-8 w-8 text-purple-600"}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),(0,e.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₹",(p.total_amount||0).toLocaleString()]})]})]})})]}),p&&(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,e.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Reports by Doctor"}),(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"w-full text-sm",children:[(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Sr.No"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Doctor"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Patient"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Amount"})]})}),(0,e.jsx)("tbody",{children:p.by_doctor&&p.by_doctor.length>0?(0,e.jsxs)(e.Fragment,{children:[p.by_doctor.map((t,a)=>(0,e.jsxs)("tr",{className:"border-t",children:[(0,e.jsx)("td",{className:"px-4 py-2",children:a+1}),(0,e.jsx)("td",{className:"px-4 py-2",children:t.doctor_name||"Unknown"}),(0,e.jsx)("td",{className:"px-4 py-2",children:t.report_count||0}),(0,e.jsxs)("td",{className:"px-4 py-2",children:["₹",(t.total_amount||0).toLocaleString()]})]},a)),(0,e.jsxs)("tr",{className:"border-t-2 border-gray-400 bg-gray-100 font-bold",children:[(0,e.jsx)("td",{className:"px-4 py-2"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"Total"}),(0,e.jsx)("td",{className:"px-4 py-2",children:p.by_doctor.reduce((t,e)=>t+parseInt(String(e.report_count||0)),0)}),(0,e.jsxs)("td",{className:"px-4 py-2",children:["₹",p.by_doctor.reduce((t,e)=>t+parseFloat(String(e.total_amount||0)),0).toFixed(2)]})]})]}):(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No data available"})})})]})})]}),(0,e.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Reports by Scan Head"}),(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"w-full text-sm",children:[(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Sr.No"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Scan Head"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Doctors"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Reports"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Rate/Report"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Amount"})]})}),(0,e.jsx)("tbody",{children:p.by_head&&p.by_head.length>0?(0,e.jsxs)(e.Fragment,{children:[p.by_head.map((t,a)=>{let r=(t.report_count||0)>0?(t.total_amount||0)/(t.report_count||0):0;return(0,e.jsxs)("tr",{className:"border-t",children:[(0,e.jsx)("td",{className:"px-4 py-2",children:a+1}),(0,e.jsx)("td",{className:"px-4 py-2",children:t.head_name||"Unknown"}),(0,e.jsx)("td",{className:"px-4 py-2",children:t.doctor_count||0}),(0,e.jsx)("td",{className:"px-4 py-2",children:t.report_count||0}),(0,e.jsxs)("td",{className:"px-4 py-2",children:["₹",r.toFixed(2)]}),(0,e.jsxs)("td",{className:"px-4 py-2",children:["₹",(t.total_amount||0).toLocaleString()]})]},a)}),(0,e.jsxs)("tr",{className:"border-t-2 border-gray-400 bg-gray-100 font-bold",children:[(0,e.jsx)("td",{className:"px-4 py-2"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"Total"}),(0,e.jsx)("td",{className:"px-4 py-2"}),(0,e.jsx)("td",{className:"px-4 py-2",children:p.by_head.reduce((t,e)=>t+(e.report_count||0),0)}),(0,e.jsx)("td",{className:"px-4 py-2"}),(0,e.jsxs)("td",{className:"px-4 py-2",children:["₹",p.by_head.reduce((t,e)=>t+(parseFloat(String(e.total_amount))||0),0).toFixed(2)]})]})]}):(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:6,className:"px-4 py-4 text-center text-gray-500",children:"No data available"})})})]})})]})]}),(0,e.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Detailed Reports"}),(0,e.jsxs)("div",{className:"overflow-x-auto",children:[(0,e.jsxs)("table",{className:"w-full",children:[(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"S.No"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Doctor"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CRO"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scan Types"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scan Heads"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"})]})}),(0,e.jsx)("tbody",{className:"divide-y divide-gray-200",children:m?(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:9,className:"px-6 py-8 text-center",children:(0,e.jsxs)("div",{className:"flex items-center justify-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),(0,e.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading reports..."})]})})}):C&&C.length>0?C.map((t,a)=>(0,e.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:R+a+1}),(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.doctor_name||"Unknown"}),(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.patient_name||"Unknown"}),(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.patient_cro||"N/A"}),(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.scan_names||"N/A"}),(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.scan_head_names||"N/A"}),(0,e.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900",children:["₹",(parseFloat(String(t.total_amount))||0).toLocaleString()]}),(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.report_date||"N/A"}),(0,e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.category||"N/A"})]},a)):(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"No reports found for the selected criteria"})})})]}),i.length>b&&(0,e.jsxs)("div",{className:"flex items-center justify-between mt-6 px-6",children:[(0,e.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",R+1," to ",Math.min(R+b,i.length)," of ",i.length," results"]}),(0,e.jsxs)("div",{className:"flex space-x-2",children:[(0,e.jsx)("button",{onClick:()=>u(t=>Math.max(t-1,1)),disabled:1===y,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:Math.min(5,S)},(t,a)=>{let r=y<=3?a+1:y-2+a;return r>S?null:(0,e.jsx)("button",{onClick:()=>u(r),className:"px-3 py-1 border rounded text-sm ".concat(y===r?"bg-red-600 text-white border-red-600":"border-gray-300 hover:bg-gray-50"),children:r},r)}),(0,e.jsx)("button",{onClick:()=>u(t=>Math.min(t+1,S)),disabled:y===S,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})]})})}}]);