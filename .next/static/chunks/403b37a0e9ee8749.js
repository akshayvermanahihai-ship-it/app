(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44112,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),s=e.i(71645),a=e.i(84614),r=e.i(63059);function n(){let[e,n]=(0,s.useState)(null);(0,s.useEffect)(()=>{l()},[]);let l=async()=>{try{let e=await fetch("https://varahasdc.co.in/api/reception/patients/last-enrolled");if(e.ok){let t=await e.json();n(t.data)}}catch(e){console.error("Error fetching last patient:",e)}};return e?(0,t.jsx)("div",{className:"bg-blue-600 bg-opacity-20 rounded-lg p-4 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,t.jsx)(a.User,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:"Last Enrolled Patient"}),(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-bold text-white",children:e.cro}),(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:e.patient_name})]})}):null}},97548,e=>{"use strict";e.s(["Filter",()=>t],97548);let t=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3281,e=>{"use strict";e.s(["Printer",()=>t],3281);let t=(0,e.i(75254).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},49304,e=>{"use strict";e.s(["default",()=>x]);var t=e.i(43476),s=e.i(71645),a=e.i(87316),r=e.i(3116),n=e.i(61911),l=e.i(97548),c=e.i(3281),i=e.i(69638);e.i(73884);var d=e.i(63209),o=e.i(44112);function x(){let[e,x]=(0,s.useState)([]),[h,m]=(0,s.useState)(!1),[p,g]=(0,s.useState)(""),[u,y]=(0,s.useState)("all"),[b,f]=(0,s.useState)(1),[j]=(0,s.useState)(10),N=e=>{if(!e||"-"===e)return"-";if(e.includes("T")){let t=new Date(e),s=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return"".concat(s,"-").concat(a,"-").concat(r)}return e},w=()=>{let e=new Date,t=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return"".concat(t,"-").concat(s,"-").concat(a)},v=async e=>{m(!0);try{let t=e||p,s=t?"https://varahasdc.co.in/api/reports/appointment?date=".concat(t):"https://varahasdc.co.in/api/reports/appointment?date=".concat(w()),a=await fetch(s);if(a.ok){let e=await a.json();e.success?(x(e.data||[]),e.data.length):x([])}else x([])}catch(e){console.error("Error fetching appointments:",e),x([])}finally{m(!1)}};(0,s.useEffect)(()=>{let e=w();g(e),v(e)},[]);let k=e.filter(e=>"all"===u||e.status===u),C={total:e.length,scheduled:e.filter(e=>"scheduled"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,pending:e.filter(e=>"pending"===e.status).length,cancelled:e.filter(e=>"cancelled"===e.status).length};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-sky-500 to-sky-600 text-white p-6 rounded-xl shadow-lg",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Appointment Report"}),(0,t.jsx)("p",{className:"text-sky-100 text-lg",children:"Track and manage patient appointments and schedules"})]}),(0,t.jsx)("div",{className:"ml-6",children:(0,t.jsx)(o.default,{})})]})}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(a.Calendar,{className:"h-5 w-5 text-gray-500"}),(0,t.jsx)("input",{type:"date",value:p.split("-").reverse().join("-"),onChange:e=>{let t=e.target.value.split("-");g("".concat(t[2],"-").concat(t[1],"-").concat(t[0]))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.Filter,{className:"h-5 w-5 text-gray-500"}),(0,t.jsxs)("select",{value:u,onChange:e=>y(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,t.jsx)("button",{onClick:()=>v(),disabled:h,className:"px-6 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium",children:h?"Loading...":"Generate Report"})]}),e.length>0&&(0,t.jsxs)("button",{onClick:()=>{if(0===k.length)return void alert("No data to export");let e='\n      <html>\n        <head>\n          <meta charset="UTF-8">\n          <style>\n            table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }\n            th, td { border: 1px solid black; padding: 8px; text-align: left; }\n            th { background-color: #f0f0f0; font-weight: bold; text-align: center; }\n            .header { text-align: center; font-weight: bold; font-size: 16px; }\n            .center { text-align: center; }\n          </style>\n        </head>\n        <body>\n          <table>\n            <tr><th colspan="12" class="header">VARAHA SDC</th></tr>\n            <tr><th colspan="12" class="header">APPOINTMENT REPORT Date: '.concat(p,"</th></tr>\n            <tr>\n              <th>S.No</th>\n              <th>CRO</th>\n              <th>NAME</th>\n              <th>AGE</th>\n              <th>GENDER</th>\n              <th>CATEGORY</th>\n              <th>SCAN TYPE</th>\n              <th>TOTAL SCAN</th>\n              <th>Time In</th>\n              <th>Time Out</th>\n              <th>Status</th>\n              <th>Console Date</th>\n            </tr>\n    ");k.forEach((t,s)=>{e+='\n        <tr>\n          <td class="center">'.concat(s+1,"</td>\n          <td>").concat(t.cro,"</td>\n          <td>").concat(t.patient_name,"</td>\n          <td>").concat(t.age,"</td>\n          <td>").concat(t.gender,"</td>\n          <td>").concat(t.category,"</td>\n          <td>").concat(t.scan_names||t.scan_type,'</td>\n          <td class="center">').concat(t.total_scan,'</td>\n          <td class="center">').concat(t.time_in||"-",'</td>\n          <td class="center">').concat(t.time_out||"-",'</td>\n          <td class="center">').concat(t.status.toUpperCase(),'</td>\n          <td class="center">').concat(N(t.completed_date),"</td>\n        </tr>\n      ")});let t=new Blob([e+="\n          </table>\n        </body>\n      </html>\n    "],{type:"application/vnd.ms-excel;charset=utf-8"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="APPOINTMENT REPORT-".concat(p,".xls"),a.click(),window.URL.revokeObjectURL(s)},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 shadow-md font-medium",children:[(0,t.jsx)(c.Printer,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Export to Excel"})]})]}),h&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading appointments..."})]}),e.length>0&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:C.total})]}),(0,t.jsx)(n.Users,{className:"h-6 w-6 text-gray-600"})]})}),(0,t.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-600 text-sm font-medium",children:"Scheduled"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:C.scheduled})]}),(0,t.jsx)(r.Clock,{className:"h-6 w-6 text-blue-600"})]})}),(0,t.jsx)("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-green-600 text-sm font-medium",children:"Completed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-700",children:C.completed})]}),(0,t.jsx)(i.CheckCircle,{className:"h-6 w-6 text-green-600"})]})}),(0,t.jsx)("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-yellow-600 text-sm font-medium",children:"Pending"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-700",children:C.pending})]}),(0,t.jsx)(d.AlertCircle,{className:"h-6 w-6 text-yellow-600"})]})})]}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Appointment Details"}),(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CRO"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scan Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Scan"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time In"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Out"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Console Date"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{let e=(b-1)*j;return k.slice(e,e+j).map((s,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:e+a+1}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-blue-600",children:s.cro})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-black",children:s.patient_name})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:s.age}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:s.gender}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:s.category}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:s.scan_names||s.scan_type}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:s.total_scan}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:s.time_in||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:s.time_out||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-bold rounded-full border ".concat("Completed"===s.status?"bg-green-100 text-green-900 border-green-300":"Shared to Console"===s.status?"bg-blue-100 text-blue-900 border-blue-300":"bg-yellow-100 text-yellow-900 border-yellow-300"),children:s.status})})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:N(s.completed_date)})]},a))})()})]})]}),k.length>j&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",b," of ",Math.ceil(k.length/j)," | Total: ",k.length," records"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[b>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>f(1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"First"}),(0,t.jsx)("button",{onClick:()=>f(b-1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Previous"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(k.length/j))},(e,s)=>{let a=Math.max(1,b-2)+s;return a>Math.ceil(k.length/j)?null:(0,t.jsx)("button",{onClick:()=>f(a),className:"px-3 py-2 text-sm font-medium rounded-lg ".concat(b===a?"bg-sky-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:a},a)})}),b<Math.ceil(k.length/j)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>f(b+1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Next"}),(0,t.jsx)("button",{onClick:()=>f(Math.ceil(k.length/j)),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Last"})]})]})]})})]}),!e.length&&!h&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(a.Calendar,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Appointments Found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No appointments scheduled for the selected date."})]})]})]})}}]);