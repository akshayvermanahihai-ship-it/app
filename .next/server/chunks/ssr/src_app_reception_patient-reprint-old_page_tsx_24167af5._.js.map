{"version":3,"sources":["turbopack:///[project]/src/app/reception/patient-reprint-old/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { Search, Printer, FileText } from 'lucide-react';\nimport { useToastContext } from '@/context/ToastContext';\nimport LastEnrolledPatient from '@/components/LastEnrolledPatient';\n\ninterface Patient {\n  patient_id: number;\n  p_id?: number;\n  cro?: string;\n  cro_number?: string;\n  patient_name?: string;\n  firstname?: string;\n  pre?: string;\n  age?: number;\n  gender?: string;\n  mobile?: string;\n  contact_number?: string;\n  hospital_name?: string;\n  h_name?: string;\n  doctor_name?: string;\n  dname?: string;\n  category?: string;\n  date?: string;\n  amount?: number;\n  amount_reci?: number;\n  allot_date?: string;\n  time_slot?: string;\n  scan_names?: string;\n  total_scan_amount?: number;\n  address?: string;\n}\n\nexport default function PatientReprintOld() {\n  const toast = useToastContext();\n  const [patients, setPatients] = useState<Patient[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(10);\n  const [printing, setPrinting] = useState<number | null>(null);\n\n  const searchPatients = async () => {\n    if (!searchTerm.trim()) {\n      toast.error('Please enter search term');\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const response = await fetch(`/api/patients/search?q=${encodeURIComponent(searchTerm)}`);\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Search API response:', data); // Debug log\n        if (data.success && data.patient) {\n          console.log('Patient data:', data.patient); // Debug patient data\n          setPatients([data.patient]); // Wrap single patient in array\n          toast.success('Patient found successfully!');\n        } else {\n          setPatients([]);\n          toast.error('No patient found with this search term');\n        }\n      } else {\n        console.error('API response not ok:', response.status);\n        setPatients([]);\n        toast.error('Error searching patient');\n      }\n    } catch (error) {\n      console.error('Error searching patients:', error);\n      setPatients([]);\n      toast.error('Error searching patient');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const numberToWords = (num: number): string => {\n    const ones = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];\n    const teens = ['ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];\n    const tens = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];\n    \n    if (num === 0) return 'zero';\n    if (num < 10) return ones[num];\n    if (num < 20) return teens[num - 10];\n    if (num < 100) return tens[Math.floor(num / 10)] + (num % 10 ? ' ' + ones[num % 10] : '');\n    if (num < 1000) return ones[Math.floor(num / 100)] + ' hundred' + (num % 100 ? ' ' + numberToWords(num % 100) : '');\n    if (num < 100000) return numberToWords(Math.floor(num / 1000)) + ' thousand' + (num % 1000 ? ' ' + numberToWords(num % 1000) : '');\n    \n    return num.toString();\n  };\n\n  const handleReprint = async (patient: Patient) => {\n    setPrinting(patient.patient_id);\n    try {\n      console.log('Patient data:', patient); // Debug log\n      \n      // Use patient data directly from search result\n      const receiptData = {\n        cro: patient.cro,\n        patient_id: patient.patient_id,\n        patient_name: `${patient.pre} ${patient.patient_name}`,\n        age: patient.age,\n        gender: patient.gender,\n        address: patient.address || '',\n        contact_number: patient.contact_number || '',\n        category: patient.category || '',\n        doctor_name: patient.doctor_name || patient.dname,\n        date: patient.date,\n        allot_date: patient.allot_date,\n        time_slot: patient.time_slot || '',\n        scan_names: patient.scan_names || '',\n        amount: patient.amount || 0,\n        amount_reci: patient.amount_reci || 0,\n        total_scan_amount: patient.total_scan_amount || 0\n      };\n      \n      // Generate receipt HTML using PHP format\n      const receiptHTML = `\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>Receipt - ${receiptData.cro}</title>\n          <style>\n            .admission_form { text-align: center; color: #000000; font-size: 10px; width: 100%; }\n            .admission_form table { width: 98%; font-size: 10px; margin: -5px 8px; }\n            .admission_form .form_input { padding: 2px 1%; font-size: 10px; border: none; font-weight: bold; font-style: italic; width: 99%; border-bottom: 1px dotted #000000; }\n            .admission_form .form_input_box { border-bottom: 0px dotted #000000; padding: 0px 0px 2px 0px; width: 100%; display: inline-block; }\n            @media print { .no_print, .no_print * { display: none !important; } .admission_div_desc { border: 0px !important; } .page_break { page-break-after: always; } }\n          </style>\n        </head>\n        <body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\" onload=\"window.print(); setTimeout(() => window.close(), 1000);\">\n          <div class=\"admission_form\" align=\"center\" style=\"border:solid thin; margin-top:18px;width:93.0%;margin-left:30px;\">\n            <table align=\"center\" style=\"margin-top:2px;\">\n              <tr><td colspan=\"6\"><b>Dr. S.N. MEDICAL COLLEGE AND ATTACHED GROUP OF HOSPITAL, JODHPUR</b></td></tr>\n              <tr><td colspan=\"6\"><b>Rajasthan Medical Relief Society, M.D.M. Hospital, Jodhpur</b></td></tr>\n              <tr><td colspan=\"6\"><b>IMAGING CENTRE UNDER P.P.P.MODE : VARAHA SDC</b></td></tr>\n              <tr><td colspan=\"6\"><b>256 SLICE DUAL ENERGY CT SCAN, M.D.M HOSPITAL Jodhpur(Raj.) - 342003</b></td></tr>\n              <tr><td colspan=\"6\"><b>Tel. : +91-291-2648120 , 0291-2648121 , 0291-2648122</b></td></tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"55\">Reg.No :</td>\n                <td width=\"200\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.cro}(${receiptData.patient_id})\"></span></td>\n                <td colspan=\"6\"><span style=\"margin-left:30%; border: 1px solid #02C; border-radius: 11px;padding: 3px 15px;\">Cash Receipt</span></td>\n                <td width=\"36\">Date</td>\n                <td width=\"144\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.date}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"56\">Ref. By :</td>\n                <td width=\"482\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.doctor_name}\"></span></td>\n                <td width=\"174\">Date and Time of Appointment :</td>\n                <td width=\"316\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.allot_date}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"78\">Patient Name:</td>\n                <td width=\"650\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.patient_name}\"></span></td>\n                <td width=\"33\">Age :</td>\n                <td width=\"144\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.age}\"></span></td>\n                <td width=\"36\">Gender</td>\n                <td width=\"144\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.gender}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"40\">Address</td>\n                <td width=\"687\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.address}\"></span></td>\n                <td width=\"120\"><span class=\"form_input_box\"><label>Category</label><input type=\"text\" class=\"form_input\" value=\"${receiptData.category}\"></span></td>\n                <td width=\"33\">Phone:</td>\n                <td width=\"333\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.contact_number}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"59\">Investigations:</td>\n                <td width=\"1042\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.scan_names}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"100\">For Sum Of Rupees:</td>\n                <td width=\"733\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${numberToWords(receiptData.amount_reci).toUpperCase()} RUPEES ONLY\"></span></td>\n                <td width=\"30\"><label>Scan Amount</label><input type=\"text\" value=\"₹ ${receiptData.total_scan_amount}\" style=\"border:1px solid #5E60AE;\"></td>\n                <td width=\"30\"><label>Received Amount</label><input type=\"text\" value=\"₹ ${receiptData.amount_reci}\" style=\"border:1px solid #5E60AE;\"></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td colspan=\"6\" align=\"right\">For Varaha SDC, Jodhpur</span></td>\n              </tr>\n                      <tr>\n                <td></td>\n              </tr>\n            </table>\n          </div>\n          \n          <hr>\n          \n          <div div class=\"admission_form\" align=\"center\" style=\"border:solid thin; margin-top:18px;width:93.0%;margin-left:30px;\">\n            <table align=\"center\" style=\"margin-top:2px;\">\n              <tr><td colspan=\"6\"><b>Dr. S.N. MEDICAL COLLEGE AND ATTACHED GROUP OF HOSPITAL, JODHPUR</b></td></tr>\n              <tr><td colspan=\"6\"><b>Rajasthan Medical Relief Society, M.D.M. Hospital, Jodhpur</b></td></tr>\n              <tr><td colspan=\"6\"><b>IMAGING CENTRE UNDER P.P.P.MODE : VARAHA SDC</b></td></tr>\n              <tr><td colspan=\"6\"><b>256 SLICE DUAL ENERGY CT SCAN, M.D.M HOSPITAL Jodhpur(Raj.) - 342003</b></td></tr>\n              <tr><td colspan=\"6\"><b>Tel. : +91-291-2648120 , 0291-2648121 , 0291-2648122</b></td></tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"55\">Reg.No :</td>\n                <td width=\"200\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.cro}(${receiptData.patient_id})\"></span></td>\n                <td colspan=\"6\"><span style=\"margin-left:30%; border: 1px solid #02C; border-radius: 11px;padding: 3px 15px;\">Cash Receipt</span></td>\n                <td width=\"36\">Date</td>\n                <td width=\"144\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.date}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"56\">Ref. By :</td>\n                <td width=\"482\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.doctor_name}\"></span></td>\n                <td width=\"174\">Date and Time of Appointment :</td>\n                <td width=\"316\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.allot_date}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"78\">Patient Name:</td>\n                <td width=\"650\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.patient_name}\"></span></td>\n                <td width=\"33\">Age :</td>\n                <td width=\"144\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.age}\"></span></td>\n                <td width=\"36\">Gender</td>\n                <td width=\"144\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.gender}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"40\">Address</td>\n                <td width=\"687\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.address}\"></span></td>\n                <td width=\"120\"><span class=\"form_input_box\"><label>Category</label><input type=\"text\" class=\"form_input\" value=\"${receiptData.category}\"></span></td>\n                <td width=\"33\">Phone:</td>\n                <td width=\"333\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.contact_number}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"59\">Investigations:</td>\n                <td width=\"1042\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${receiptData.scan_names}\"></span></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td width=\"20\">For Sum Of Rupees:</td>\n                <td width=\"550\"><span class=\"form_input_box\"><input type=\"text\" class=\"form_input\" value=\"${numberToWords(receiptData.amount_reci).toUpperCase()} RUPEES ONLY\"></span></td>\n                <td width=\"30\"><label>Scan Amount</label><input type=\"text\" value=\"₹ ${receiptData.total_scan_amount}\" style=\"border:1px solid #5E60AE;\"></td>\n                <td width=\"30\"><label>Received Amount</label><input type=\"text\" value=\"₹ ${receiptData.amount_reci}\" style=\"border:1px solid #5E60AE;\"></td>\n              </tr>\n            </table>\n            \n            <table>\n              <tr>\n                <td colspan=\"6\" align=\"right\">For Varaha SDC, Jodhpur</span></td>\n              </tr>\n                 <tr>\n                <td></td>\n              </tr>\n            </table>\n          </div>\n        </body>\n        </html>\n      `;\n      \n      // Open receipt in new window and print\n      const printWindow = window.open('', '_blank', 'width=800,height=600,scrollbars=yes,resizable=yes');\n      if (printWindow) {\n        printWindow.document.write(receiptHTML);\n        printWindow.document.close();\n      }\n      \n      const patientName = patient.patient_name || patient.firstname || 'Unknown Patient';\n      toast.success(`Receipt generated for ${patientName} (${receiptData.cro})`);\n      \n    } catch (error) {\n      console.error('Error generating receipt:', error);\n      toast.error('Error generating receipt');\n    } finally {\n      setPrinting(null);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      searchPatients();\n    }\n  };\n\n  const totalPages = Math.ceil(patients.length / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const paginatedPatients = patients.slice(startIndex, startIndex + itemsPerPage);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6 space-y-6\">\n      <div className=\"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg\">\n        <div className=\"flex justify-between items-start\"><div><h1 className=\"text-3xl font-bold mb-2\">Patient Reprint (Old Records)</h1>\n        <p className=\"text-blue-100 text-lg\">Search and reprint receipts for old patient records</p></div><div className=\"ml-6\"><LastEnrolledPatient /></div></div>\n      </div>\n\n      <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n        <div className=\"flex items-center space-x-4 mb-6\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search by CRO, patient name, or mobile...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              onKeyPress={handleKeyPress}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n          <button\n            onClick={searchPatients}\n            disabled={loading || !searchTerm.trim()}\n            className=\"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium\"\n          >\n            <Search className=\"h-5 w-5\" />\n            <span>{loading ? 'Searching...' : 'Search'}</span>\n          </button>\n        </div>\n\n        {patients.length > 0 ? (\n          <div className=\"overflow-x-auto\">\n            <div className=\"mb-4 text-sm text-gray-600\">\n              Found {patients.length} patient(s)\n            </div>\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">S.No</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">CRO</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Patient Name</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Age/Gender</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Mobile</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Hospital</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Doctor</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Amount</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {paginatedPatients.map((patient, index) => {\n                  console.log('Rendering patient:', patient);\n                  return (\n                    <tr key={`${patient.patient_id}-${index}`} className=\"hover:bg-gray-50 transition-colors\">\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black font-medium\">{startIndex + index + 1}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-blue-600\">{patient.cro || patient.cro_number || patient.patient_id || '-'}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-black\">{patient.patient_name || patient.firstname || '-'}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{patient.age || '-'}y, {patient.gender || '-'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{patient.contact_number || patient.mobile || '-'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{patient.h_name || patient.hospital_name || '-'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{patient.doctor_name || patient.dname || '-'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">₹{patient.amount || 0}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{patient.date || '-'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <button\n                          onClick={() => handleReprint(patient)}\n                          disabled={printing === patient.patient_id}\n                          className=\"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all duration-200 text-xs font-medium disabled:opacity-50 shadow-md\"\n                        >\n                          {printing === patient.patient_id ? (\n                            <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1\"></div>\n                          ) : (\n                            <Printer className=\"h-3 w-3 mr-1\" />\n                          )}\n                          <span>Reprint</span>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n            <div className=\"mt-2 text-xs text-gray-500\">\n              Debug: {patients.length} patients found, showing {paginatedPatients.length}\n            </div>\n\n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"px-6 py-4 border-t border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm text-gray-700\">\n                    Page {currentPage} of {totalPages} | Total: {patients.length} records\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    {currentPage > 1 && (\n                      <>\n                        <button\n                          onClick={() => setCurrentPage(1)}\n                          className=\"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md\"\n                        >\n                          First\n                        </button>\n                        <button\n                          onClick={() => setCurrentPage(currentPage - 1)}\n                          className=\"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md\"\n                        >\n                          Previous\n                        </button>\n                      </>\n                    )}\n                    \n                    <div className=\"flex items-center space-x-1\">\n                      {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n                        const startPage = Math.max(1, currentPage - 2);\n                        const page = startPage + i;\n                        if (page > totalPages) return null;\n                        \n                        return (\n                          <button\n                            key={page}\n                            onClick={() => setCurrentPage(page)}\n                            className={`px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 shadow-md ${\n                              currentPage === page\n                                ? 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white'\n                                : 'bg-gradient-to-r from-gray-400 to-gray-500 text-white hover:from-gray-500 hover:to-gray-600'\n                            }`}\n                          >\n                            {page}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    \n                    {currentPage < totalPages && (\n                      <>\n                        <button\n                          onClick={() => setCurrentPage(currentPage + 1)}\n                          className=\"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md\"\n                        >\n                          Next\n                        </button>\n                        <button\n                          onClick={() => setCurrentPage(totalPages)}\n                          className=\"px-3 py-2 text-sm font-medium bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md\"\n                        >\n                          Last\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : null}\n\n        {patients.length === 0 && searchTerm && !loading && (\n          <div className=\"text-center py-12\">\n            <FileText className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Records Found</h3>\n            <p className=\"text-gray-500\">No patient records found matching your search criteria.</p>\n          </div>\n        )}\n\n        {!searchTerm && (\n          <div className=\"text-center py-12\">\n            <Search className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Search Patient Records</h3>\n            <p className=\"text-gray-500\">Enter CRO number, patient name, or mobile number to search for old records.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}