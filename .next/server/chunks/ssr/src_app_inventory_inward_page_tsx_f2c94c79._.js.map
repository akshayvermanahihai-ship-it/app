{"version":3,"sources":["turbopack:///[project]/src/app/inventory/inward/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { ArrowDown, Plus } from 'lucide-react';\n\ninterface InventoryItem {\n  id: number;\n  item_name: string;\n  quantity: number;\n  opening_stock: number;\n  inward_qty: number;\n  outward_qty: number;\n  date_added: string;\n}\n\nexport default function InwardPage() {\n  const [items, setItems] = useState<InventoryItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedItem, setSelectedItem] = useState<number | null>(null);\n  const [inwardQty, setInwardQty] = useState(0);\n\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  const fetchItems = async () => {\n    try {\n      const response = await fetch('https://varahasdc.co.in/api/inventory/items');\n      const data = await response.json();\n      if (data.success) {\n        setItems(data.data);\n      }\n    } catch (error) {\n      console.error('Error fetching items:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInward = async () => {\n    if (!selectedItem || inwardQty <= 0) return;\n\n    try {\n      const item = items.find(i => i.id === selectedItem);\n      if (!item) return;\n\n      const response = await fetch(`https://varahasdc.co.in/api/inventory/items/${selectedItem}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          item_name: item.item_name,\n          quantity: item.quantity + inwardQty,\n          opening_stock: item.opening_stock,\n          inward_qty: (item.inward_qty || 0) + inwardQty,\n          outward_qty: item.outward_qty || 0\n        })\n      });\n\n      if (response.ok) {\n        setSelectedItem(null);\n        setInwardQty(0);\n        fetchItems();\n        alert('Inward stock updated successfully');\n      }\n    } catch (error) {\n      console.error('Error updating inward stock:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-xl shadow-lg mb-6\">\n        <div className=\"flex items-center\">\n          <ArrowDown className=\"h-8 w-8 mr-3\" />\n          <div>\n            <h1 className=\"text-2xl font-bold\">Inward Stock</h1>\n            <p className=\"text-green-100\">Add stock to inventory</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Stock List */}\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <div className=\"p-4 bg-gray-50 border-b\">\n            <h2 className=\"text-lg font-semibold\">Select Item</h2>\n          </div>\n          <div className=\"max-h-96 overflow-y-auto\">\n            {items.map((item) => (\n              <div\n                key={item.id}\n                onClick={() => setSelectedItem(item.id)}\n                className={`p-4 border-b cursor-pointer hover:bg-gray-50 ${\n                  selectedItem === item.id ? 'bg-green-50 border-green-200' : ''\n                }`}\n              >\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <h3 className=\"font-medium\">{item.item_name}</h3>\n                    <p className=\"text-sm text-gray-600\">Current Stock: {item.quantity}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-gray-600\">Inward: {item.inward_qty || 0}</p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Inward Form */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h2 className=\"text-lg font-semibold mb-4\">Add Inward Stock</h2>\n          \n          {selectedItem ? (\n            <div>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Selected Item\n                </label>\n                <input\n                  type=\"text\"\n                  value={items.find(i => i.id === selectedItem)?.item_name || ''}\n                  readOnly\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                />\n              </div>\n\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Current Stock\n                </label>\n                <input\n                  type=\"number\"\n                  value={items.find(i => i.id === selectedItem)?.quantity || 0}\n                  readOnly\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                />\n              </div>\n\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Inward Quantity\n                </label>\n                <input\n                  type=\"number\"\n                  value={inwardQty}\n                  onChange={(e) => setInwardQty(parseInt(e.target.value) || 0)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500\"\n                  min=\"1\"\n                />\n              </div>\n\n              <button\n                onClick={handleInward}\n                disabled={inwardQty <= 0}\n                className=\"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50\"\n              >\n                <Plus className=\"h-5 w-5 mr-2\" />\n                Add Inward Stock\n              </button>\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center py-8\">Select an item to add inward stock</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}