{"version":3,"sources":["turbopack:///[project]/src/app/inventory/outward/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/minus.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { ArrowUp, Minus } from 'lucide-react';\n\ninterface InventoryItem {\n  id: number;\n  item_name: string;\n  quantity: number;\n  opening_stock: number;\n  inward_qty: number;\n  outward_qty: number;\n  date_added: string;\n}\n\nexport default function OutwardPage() {\n  const [items, setItems] = useState<InventoryItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedItem, setSelectedItem] = useState<number | null>(null);\n  const [outwardQty, setOutwardQty] = useState(0);\n\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  const fetchItems = async () => {\n    try {\n      const response = await fetch('https://varahasdc.co.in/api/inventory/items');\n      const data = await response.json();\n      if (data.success) {\n        setItems(data.data.filter((item: InventoryItem) => item.quantity > 0));\n      }\n    } catch (error) {\n      console.error('Error fetching items:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleOutward = async () => {\n    if (!selectedItem || outwardQty <= 0) return;\n\n    const item = items.find(i => i.id === selectedItem);\n    if (!item || outwardQty > item.quantity) {\n      alert('Insufficient stock available');\n      return;\n    }\n\n    try {\n      const response = await fetch(`https://varahasdc.co.in/api/inventory/items/${selectedItem}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          item_name: item.item_name,\n          quantity: item.quantity - outwardQty,\n          opening_stock: item.opening_stock,\n          inward_qty: item.inward_qty || 0,\n          outward_qty: (item.outward_qty || 0) + outwardQty\n        })\n      });\n\n      if (response.ok) {\n        setSelectedItem(null);\n        setOutwardQty(0);\n        fetchItems();\n        alert('Outward stock updated successfully');\n      }\n    } catch (error) {\n      console.error('Error updating outward stock:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"bg-gradient-to-r from-red-500 to-pink-600 text-white p-6 rounded-xl shadow-lg mb-6\">\n        <div className=\"flex items-center\">\n          <ArrowUp className=\"h-8 w-8 mr-3\" />\n          <div>\n            <h1 className=\"text-2xl font-bold\">Outward Stock</h1>\n            <p className=\"text-red-100\">Issue stock from inventory</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Stock List */}\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <div className=\"p-4 bg-gray-50 border-b\">\n            <h2 className=\"text-lg font-semibold\">Select Item (Available Stock Only)</h2>\n          </div>\n          <div className=\"max-h-96 overflow-y-auto\">\n            {items.map((item) => (\n              <div\n                key={item.id}\n                onClick={() => setSelectedItem(item.id)}\n                className={`p-4 border-b cursor-pointer hover:bg-gray-50 ${\n                  selectedItem === item.id ? 'bg-red-50 border-red-200' : ''\n                }`}\n              >\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <h3 className=\"font-medium\">{item.item_name}</h3>\n                    <p className=\"text-sm text-gray-600\">Available: {item.quantity}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-gray-600\">Outward: {item.outward_qty || 0}</p>\n                  </div>\n                </div>\n              </div>\n            ))}\n            {items.length === 0 && (\n              <div className=\"p-8 text-center text-gray-500\">\n                No items with available stock\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Outward Form */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h2 className=\"text-lg font-semibold mb-4\">Issue Outward Stock</h2>\n          \n          {selectedItem ? (\n            <div>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Selected Item\n                </label>\n                <input\n                  type=\"text\"\n                  value={items.find(i => i.id === selectedItem)?.item_name || ''}\n                  readOnly\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                />\n              </div>\n\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Available Stock\n                </label>\n                <input\n                  type=\"number\"\n                  value={items.find(i => i.id === selectedItem)?.quantity || 0}\n                  readOnly\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                />\n              </div>\n\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Outward Quantity\n                </label>\n                <input\n                  type=\"number\"\n                  value={outwardQty}\n                  onChange={(e) => setOutwardQty(parseInt(e.target.value) || 0)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500\"\n                  min=\"1\"\n                  max={items.find(i => i.id === selectedItem)?.quantity || 0}\n                />\n              </div>\n\n              <button\n                onClick={handleOutward}\n                disabled={outwardQty <= 0 || outwardQty > (items.find(i => i.id === selectedItem)?.quantity || 0)}\n                className=\"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50\"\n              >\n                <Minus className=\"h-5 w-5 mr-2\" />\n                Issue Outward Stock\n              </button>\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center py-8\">Select an item to issue outward stock</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Minus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Minus = createLucideIcon('Minus', [['path', { d: 'M5 12h14', key: '1ays0h' }]]);\n\nexport default Minus;\n"],"names":[],"mappings":"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","ignoreList":[1]}