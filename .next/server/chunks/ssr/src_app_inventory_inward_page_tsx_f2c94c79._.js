module.exports=[39589,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(85668),e=a.i(15618);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(0);(0,c.useEffect)(()=>{m()},[]);let m=async()=>{try{let a=await fetch("https://varahasdc.co.in/api/inventory/items"),b=await a.json();b.success&&f(b.data)}catch(a){console.error("Error fetching items:",a)}finally{h(!1)}},n=async()=>{if(i&&!(k<=0))try{let b=a.find(a=>a.id===i);if(!b)return;(await fetch(`https://varahasdc.co.in/api/inventory/items/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_name:b.item_name,quantity:b.quantity+k,opening_stock:b.opening_stock,inward_qty:(b.inward_qty||0)+k,outward_qty:b.outward_qty||0})})).ok&&(j(null),l(0),m(),alert("Inward stock updated successfully"))}catch(a){console.error("Error updating inward stock:",a)}};return g?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-xl shadow-lg mb-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(d.ArrowDown,{className:"h-8 w-8 mr-3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Inward Stock"}),(0,b.jsx)("p",{className:"text-green-100",children:"Add stock to inventory"})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 bg-gray-50 border-b",children:(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Select Item"})}),(0,b.jsx)("div",{className:"max-h-96 overflow-y-auto",children:a.map(a=>(0,b.jsx)("div",{onClick:()=>j(a.id),className:`p-4 border-b cursor-pointer hover:bg-gray-50 ${i===a.id?"bg-green-50 border-green-200":""}`,children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium",children:a.item_name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Current Stock: ",a.quantity]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Inward: ",a.inward_qty||0]})})]})},a.id))})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Add Inward Stock"}),i?(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selected Item"}),(0,b.jsx)("input",{type:"text",value:a.find(a=>a.id===i)?.item_name||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock"}),(0,b.jsx)("input",{type:"number",value:a.find(a=>a.id===i)?.quantity||0,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inward Quantity"}),(0,b.jsx)("input",{type:"number",value:k,onChange:a=>l(parseInt(a.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",min:"1"})]}),(0,b.jsxs)("button",{onClick:n,disabled:k<=0,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,b.jsx)(e.Plus,{className:"h-5 w-5 mr-2"}),"Add Inward Stock"]})]}):(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Select an item to add inward stock"})]})]})]})}}];

//# sourceMappingURL=src_app_inventory_inward_page_tsx_f2c94c79._.js.map