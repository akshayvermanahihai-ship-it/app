{"version":3,"sources":["turbopack:///[project]/src/app/inventory/analysis/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Download, TrendingUp, TrendingDown, Package, AlertTriangle, BarChart3 } from 'lucide-react';\nimport SuperAdminLayout from '@/components/SuperAdminLayout';\nimport { useToastContext } from '@/context/ToastContext';\n\ninterface StockSummary {\n  id: number;\n  item_name: string;\n  unit: string;\n  opening_stock: number;\n  current_stock: number;\n  total_inward: number;\n  total_outward: number;\n  inward_value: number;\n  current_value: number;\n}\n\ninterface LowStockItem {\n  item_name: string;\n  quantity: number;\n  unit: string;\n}\n\ninterface MonthlyTrend {\n  month: string;\n  transaction_type: string;\n  total_quantity: number;\n  total_value: number;\n}\n\nexport default function InventoryAnalysis() {\n  const toast = useToastContext();\n  const [stockSummary, setStockSummary] = useState<StockSummary[]>([]);\n  const [lowStockItems, setLowStockItems] = useState<LowStockItem[]>([]);\n  const [monthlyTrend, setMonthlyTrend] = useState<MonthlyTrend[]>([]);\n  const [loading, setLoading] = useState(false);\n  \n  const [filters, setFilters] = useState({\n    from_date: '',\n    to_date: ''\n  });\n\n  useEffect(() => {\n    fetchAnalysis();\n  }, []);\n\n  const fetchAnalysis = async () => {\n    setLoading(true);\n    try {\n      const params = new URLSearchParams();\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value) params.append(key, value);\n      });\n      \n      const response = await fetch(`https://varahasdc.co.in/api/inventory/analysis?${params}`);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          setStockSummary(data.data.stock_summary || []);\n          setLowStockItems(data.data.low_stock_alerts || []);\n          setMonthlyTrend(data.data.monthly_trend || []);\n          \n          if (data.data.low_stock_alerts && data.data.low_stock_alerts.length > 0) {\n            toast.error(`${data.data.low_stock_alerts.length} items have low stock!`);\n          } else {\n            toast.success('Analysis data loaded successfully');\n          }\n        } else {\n          toast.error('Failed to fetch analysis data');\n        }\n      } else {\n        toast.error('Failed to fetch analysis data');\n      }\n    } catch (error) {\n      console.error('Error fetching analysis:', error);\n      toast.error('Network error while fetching analysis data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const exportAnalysis = () => {\n    try {\n      if (stockSummary.length === 0) {\n        toast.error('No data to export');\n        return;\n      }\n\n      const dateRange = filters.from_date && filters.to_date ? `${filters.from_date} to ${filters.to_date}` : 'All Time';\n      const currentDate = new Date().toLocaleDateString('en-GB');\n      \n      let htmlContent = `<html><meta http-equiv=\"Content-Type\" content=\"text/html; charset=Windows-1252\"><body>`;\n      htmlContent += `<table border=\"1\" style=\"border-collapse: collapse; width: 100%;\">`;\n      htmlContent += `<tr><th colspan=\"10\" style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px;\">VARAHA SDC : 256 SLICE CT SCAN</th></tr>`;\n      htmlContent += `<tr><th colspan=\"10\" style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px;\">INVENTORY ANALYSIS REPORT</th></tr>`;\n      htmlContent += `<tr><th colspan=\"10\" style=\"background-color:#FFEA00; color:black; text-align:center; font-weight:bold; padding:8px;\">Period: ${dateRange}</th></tr>`;\n      htmlContent += `<tr><th colspan=\"10\" style=\"background-color:#FFEA00; color:black; text-align:center; font-weight:bold; padding:8px;\">Generated on: ${currentDate}</th></tr>`;\n      htmlContent += `<tr><th colspan=\"10\" style=\"text-align:center; padding:4px;\">&nbsp;</th></tr>`;\n      \n      // Stock Summary\n      htmlContent += `<tr><th colspan=\"10\" style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px;\">STOCK SUMMARY</th></tr>`;\n      htmlContent += `<tr>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Item Name</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Unit</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Opening Stock</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Current Stock</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Total Inward</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Total Outward</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Inward Value</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Current Value</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Stock Status</th>`;\n      htmlContent += `<th style=\"background-color:#2F75B5; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Turnover %</th>`;\n      htmlContent += `</tr>`;\n      \n      let totalCurrentValue = 0;\n      let totalInwardValue = 0;\n      let totalCurrentStock = 0;\n      let totalInward = 0;\n      let totalOutward = 0;\n      \n      stockSummary.forEach((item) => {\n        const turnover = item.opening_stock > 0 ? ((item.total_outward / item.opening_stock) * 100).toFixed(1) : '0';\n        const status = item.current_stock < 10 ? 'LOW STOCK' : item.current_stock > 100 ? 'OVERSTOCK' : 'NORMAL';\n        \n        totalCurrentValue += item.current_value;\n        totalInwardValue += item.inward_value;\n        totalCurrentStock += item.current_stock;\n        totalInward += item.total_inward;\n        totalOutward += item.total_outward;\n        \n        htmlContent += '<tr>';\n        htmlContent += `<td style=\"text-align:left; padding:4px; border:1px solid black;\">${item.item_name}</td>`;\n        htmlContent += `<td style=\"text-align:center; padding:4px; border:1px solid black;\">${item.unit}</td>`;\n        htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black;\">${item.opening_stock}</td>`;\n        htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black;\">${item.current_stock}</td>`;\n        htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black;\">${item.total_inward}</td>`;\n        htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black;\">${item.total_outward}</td>`;\n        htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black;\">₹${item.inward_value.toFixed(2)}</td>`;\n        htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black;\">₹${item.current_value.toFixed(2)}</td>`;\n        htmlContent += `<td style=\"text-align:center; padding:4px; border:1px solid black;\">${status}</td>`;\n        htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black;\">${turnover}%</td>`;\n        htmlContent += '</tr>';\n      });\n      \n      // Summary totals\n      htmlContent += `<tr>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; text-align:right; font-weight:bold; padding:8px; border:1px solid black;\">TOTAL</th>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; padding:8px; border:1px solid black;\">&nbsp;</th>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; padding:8px; border:1px solid black;\">&nbsp;</th>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; text-align:right; font-weight:bold; padding:8px; border:1px solid black;\">${totalCurrentStock}</th>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; text-align:right; font-weight:bold; padding:8px; border:1px solid black;\">${totalInward}</th>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; text-align:right; font-weight:bold; padding:8px; border:1px solid black;\">${totalOutward}</th>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; text-align:right; font-weight:bold; padding:8px; border:1px solid black;\">₹${totalInwardValue.toFixed(2)}</th>`;\n      htmlContent += `<th style=\"background-color:#FFEA00; color:black; text-align:right; font-weight:bold; padding:8px; border:1px solid black;\">₹${totalCurrentValue.toFixed(2)}</th>`;\n      htmlContent += `<th colspan=\"2\" style=\"background-color:#FFEA00; color:black; padding:8px; border:1px solid black;\">&nbsp;</th>`;\n      htmlContent += `</tr>`;\n      \n      // Low Stock Alerts\n      if (lowStockItems.length > 0) {\n        htmlContent += `<tr><th colspan=\"10\" style=\"text-align:center; padding:8px;\">&nbsp;</th></tr>`;\n        htmlContent += `<tr><th colspan=\"10\" style=\"background-color:#FF6B6B; color:white; text-align:center; font-weight:bold; padding:8px;\">LOW STOCK ALERTS - IMMEDIATE ACTION REQUIRED</th></tr>`;\n        htmlContent += `<tr>`;\n        htmlContent += `<th style=\"background-color:#FF6B6B; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Item Name</th>`;\n        htmlContent += `<th style=\"background-color:#FF6B6B; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Current Stock</th>`;\n        htmlContent += `<th style=\"background-color:#FF6B6B; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Unit</th>`;\n        htmlContent += `<th colspan=\"7\" style=\"background-color:#FF6B6B; color:white; text-align:center; font-weight:bold; padding:8px; border:1px solid black;\">Action Required</th>`;\n        htmlContent += `</tr>`;\n        \n        lowStockItems.forEach((item) => {\n          htmlContent += '<tr>';\n          htmlContent += `<td style=\"text-align:left; padding:4px; border:1px solid black; background-color:#FFE6E6;\">${item.item_name}</td>`;\n          htmlContent += `<td style=\"text-align:right; padding:4px; border:1px solid black; background-color:#FFE6E6; font-weight:bold; color:red;\">${item.quantity}</td>`;\n          htmlContent += `<td style=\"text-align:center; padding:4px; border:1px solid black; background-color:#FFE6E6;\">${item.unit}</td>`;\n          htmlContent += `<td colspan=\"7\" style=\"text-align:center; padding:4px; border:1px solid black; background-color:#FFE6E6; font-weight:bold; color:red;\">REORDER IMMEDIATELY</td>`;\n          htmlContent += '</tr>';\n        });\n      }\n      \n      htmlContent += '</table></body></html>';\n\n      const blob = new Blob([htmlContent], { type: 'application/vnd.ms-excel' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `INVENTORY-ANALYSIS-${dateRange.replace(/\\s+/g, '-')}.xls`;\n      link.click();\n      window.URL.revokeObjectURL(url);\n      \n      toast.success('Analysis report exported successfully');\n    } catch (error) {\n      console.error('Export error:', error);\n      toast.error('Error exporting analysis report');\n    }\n  };\n\n  // Calculate summary statistics\n  const totalItems = stockSummary.length;\n  const totalValue = stockSummary.reduce((sum, item) => sum + parseFloat(String(item.current_value || 0)), 0);\n  const lowStockCount = lowStockItems.length;\n  const totalInward = stockSummary.reduce((sum, item) => sum + parseInt(String(item.total_inward || 0)), 0);\n  const totalOutward = stockSummary.reduce((sum, item) => sum + parseInt(String(item.total_outward || 0)), 0);\n\n  return (\n    <SuperAdminLayout title=\"Inventory Analysis\" subtitle=\"Comprehensive stock analysis and reporting\">\n      <div className=\"space-y-6\">\n        {/* Filters */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">From Date</label>\n              <input\n                type=\"text\"\n                placeholder=\"DD-MM-YYYY\"\n                value={filters.from_date}\n                onChange={(e) => {\n                  let value = e.target.value.replace(/\\D/g, '');\n                  if (value.length >= 2) value = value.slice(0,2) + '-' + value.slice(2);\n                  if (value.length >= 5) value = value.slice(0,5) + '-' + value.slice(5,9);\n                  setFilters(prev => ({ ...prev, from_date: value }));\n                }}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500\"\n                maxLength={10}\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">To Date</label>\n              <input\n                type=\"text\"\n                placeholder=\"DD-MM-YYYY\"\n                value={filters.to_date}\n                onChange={(e) => {\n                  let value = e.target.value.replace(/\\D/g, '');\n                  if (value.length >= 2) value = value.slice(0,2) + '-' + value.slice(2);\n                  if (value.length >= 5) value = value.slice(0,5) + '-' + value.slice(5,9);\n                  setFilters(prev => ({ ...prev, to_date: value }));\n                }}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500\"\n                maxLength={10}\n              />\n            </div>\n            <div className=\"flex items-end space-x-2\">\n              <button\n                onClick={fetchAnalysis}\n                disabled={loading}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50\"\n              >\n                {loading ? 'Loading...' : 'Analyze'}\n              </button>\n              <button\n                onClick={exportAnalysis}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center\"\n              >\n                <Download className=\"h-4 w-4 mr-2\" />\n                Export\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Summary Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n            <div className=\"flex items-center\">\n              <Package className=\"h-8 w-8 text-blue-600\" />\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Total Items</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{totalItems}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n            <div className=\"flex items-center\">\n              <BarChart3 className=\"h-8 w-8 text-green-600\" />\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Total Value</p>\n                <p className=\"text-2xl font-bold text-gray-900\">₹{totalValue.toLocaleString()}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n            <div className=\"flex items-center\">\n              <TrendingUp className=\"h-8 w-8 text-purple-600\" />\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Total Inward</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{totalInward}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n            <div className=\"flex items-center\">\n              <TrendingDown className=\"h-8 w-8 text-orange-600\" />\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Total Outward</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{totalOutward}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n            <div className=\"flex items-center\">\n              <AlertTriangle className=\"h-8 w-8 text-red-600\" />\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Low Stock</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{lowStockCount}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Low Stock Alerts */}\n        {lowStockItems.length > 0 && (\n          <div className=\"bg-red-50 border border-red-200 rounded-xl p-6\">\n            <div className=\"flex items-center mb-4\">\n              <AlertTriangle className=\"h-5 w-5 text-red-600 mr-2\" />\n              <h3 className=\"text-lg font-semibold text-red-800\">Low Stock Alerts</h3>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {lowStockItems.map((item, index) => (\n                <div key={index} className=\"bg-white p-4 rounded-lg border border-red-200\">\n                  <p className=\"font-medium text-gray-900\">{item.item_name}</p>\n                  <p className=\"text-sm text-red-600\">Only {item.quantity} {item.unit} remaining</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Stock Summary Table */}\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Stock Summary</h2>\n          </div>\n          \n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Item</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Unit</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Opening</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Current</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Inward</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Outward</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Value</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {loading ? (\n                  <tr>\n                    <td colSpan={8} className=\"px-6 py-8 text-center\">Loading...</td>\n                  </tr>\n                ) : stockSummary.length === 0 ? (\n                  <tr>\n                    <td colSpan={8} className=\"px-6 py-8 text-center text-gray-500\">No data available</td>\n                  </tr>\n                ) : (\n                  stockSummary.map((item, index) => {\n                    const status = item.current_stock < 10 ? 'LOW' : item.current_stock > 100 ? 'HIGH' : 'NORMAL';\n                    const statusColor = status === 'LOW' ? 'text-red-600' : status === 'HIGH' ? 'text-blue-600' : 'text-green-600';\n                    \n                    return (\n                      <tr key={item.id} className=\"hover:bg-gray-50\">\n                        <td className=\"px-6 py-4 text-sm font-medium text-gray-900\">{item.item_name}</td>\n                        <td className=\"px-6 py-4 text-sm text-gray-900\">{item.unit}</td>\n                        <td className=\"px-6 py-4 text-sm text-gray-900\">{item.opening_stock}</td>\n                        <td className=\"px-6 py-4 text-sm text-gray-900\">{item.current_stock}</td>\n                        <td className=\"px-6 py-4 text-sm text-gray-900\">{item.total_inward}</td>\n                        <td className=\"px-6 py-4 text-sm text-gray-900\">{item.total_outward}</td>\n                        <td className=\"px-6 py-4 text-sm text-gray-900\">₹{item.current_value.toLocaleString()}</td>\n                        <td className={`px-6 py-4 text-sm font-medium ${statusColor}`}>{status}</td>\n                      </tr>\n                    );\n                  })\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </SuperAdminLayout>\n  );\n}"],"names":[],"mappings":"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"}