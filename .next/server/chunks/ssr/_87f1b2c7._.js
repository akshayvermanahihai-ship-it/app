module.exports=[77156,a=>{"use strict";a.s(["Eye",()=>b],77156);let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},69520,a=>{"use strict";a.s(["RefreshCw",()=>b],69520);let b=(0,a.i(70106).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},61549,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(87924),c=a.i(72131),d=a.i(87532),e=a.i(69520),f=a.i(77156),g=a.i(66632),h=a.i(50944);function i(){let a=(0,g.useToastContext)(),i=(0,h.useRouter)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(1),[r,s]=(0,c.useState)(1),[t,u]=(0,c.useState)(0);(0,c.useEffect)(()=>{v()},[p]);let v=async()=>{m(!0);try{let b=new URLSearchParams({page:p.toString(),limit:"10"});n&&b.append("search",n);let c=await fetch(`/api/console/queue-after?${b}`);if(c.ok){let a=await c.json();k(a.data||[]),u(a.total||0),s(Math.ceil((a.total||0)/10))}else{let b=await c.json().catch(()=>({}));console.error("Console queue-after API error:",b),a.error(`API Error: ${b.error||"Failed to fetch patients"}. Details: ${b.details||"Unknown error"}`)}}catch(b){console.error("Error fetching patients:",b),a.error("Error loading data")}finally{m(!1)}},w=(p-1)*10;return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-sky-500 to-sky-600 text-white p-6 rounded-xl shadow-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Patient Queue - After"}),(0,b.jsx)("p",{className:"text-sky-100",children:"Console management for post-examination patients"})]}),(0,b.jsxs)("button",{onClick:v,disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-sky-500 hover:bg-sky-400 rounded-lg transition-colors disabled:opacity-50",children:[(0,b.jsx)(e.RefreshCw,{className:`h-5 w-5 ${l?"animate-spin":""}`}),(0,b.jsx)("span",{children:"Refresh"})]})]})}),(0,b.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),q(1),v()},className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by CRO or Patient Name...",value:n,onChange:a=>o(a.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,b.jsx)("button",{type:"submit",className:"px-6 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"Search"})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Patient Queue After"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Total: ",t," records | Page ",p," of ",r]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sr. No."}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CRO"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)(e.RefreshCw,{className:"h-5 w-5 animate-spin text-sky-500"}),(0,b.jsx)("span",{className:"text-gray-500",children:"Loading patients..."})]})})}):0===j.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500",children:"No patients found"})}):j.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black font-medium",children:w+c+1}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm font-medium text-sky-600",children:a.cro_number||a.cro})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"text-sm font-medium text-black",children:[a.pre," ",a.patient_name]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.cro_number||a.cro,void i.push(`/console/patient/${encodeURIComponent(b)}`)},className:"inline-flex items-center space-x-1 px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors text-sm font-medium",children:[(0,b.jsx)(f.Eye,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.cro_number||a.cro})]})})]},a.p_id))})]})}),(0,b.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",p," of ",r," | Total: ",t," records"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[p>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>q(1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"First"}),(0,b.jsx)("button",{onClick:()=>q(p-1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Previous"})]}),(0,b.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,r)},(a,c)=>{let d=Math.max(1,p-2)+c;return d>r?null:(0,b.jsx)("button",{onClick:()=>q(d),className:`px-3 py-2 text-sm font-medium rounded-lg ${p===d?"bg-sky-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:d},d)})}),p<r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>q(p+1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Next"}),(0,b.jsx)("button",{onClick:()=>q(r),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Last"})]})]})]})})]})]})}}];

//# sourceMappingURL=_87f1b2c7._.js.map