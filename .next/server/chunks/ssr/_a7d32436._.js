module.exports=[14548,a=>{"use strict";a.s(["Save",()=>b],14548);let b=(0,a.i(70106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},210,a=>{"use strict";a.s(["ArrowLeft",()=>b],210);let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},71931,a=>{"use strict";a.s(["Printer",()=>b],71931);let b=(0,a.i(70106).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},77209,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(210),e=a.i(71931),f=a.i(14548),g=a.i(50944);function h(){let a=(0,g.useParams)(),h=(0,g.useRouter)(),i=a.pid,[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1);(0,c.useEffect)(()=>{v()},[i]);let v=async()=>{try{let a=await fetch(`https://varahasdc.co.in/api/reception/patients/${i}/payment`);if(a.ok){let b=await a.json();k(b.data.patient),m(b.data.scans),s(b.data.patient.amount_due.toString())}}catch(a){console.error("Error fetching payment data:",a)}finally{o(!1)}},w=()=>{if(j&&p){let a=parseFloat(j.amount_due.toString());s((a-parseFloat(p)).toString())}},x=async()=>{if(p&&j){u(!0);try{(await fetch(`https://varahasdc.co.in/api/reception/patients/${i}/payment`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({r_amount:p,d_amount:r})})).ok?(alert("Payment updated successfully!"),h.push("/reception/patient-registration/edit")):alert("Failed to update payment")}catch(a){console.error("Error updating payment:",a),alert("Error updating payment")}finally{u(!1)}}};return n?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):j?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg mb-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("button",{onClick:()=>h.push("/reception/patient-registration/edit"),className:"p-2 hover:bg-blue-600 rounded-lg transition-colors",children:(0,b.jsx)(d.ArrowLeft,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Payment Details"}),(0,b.jsxs)("p",{className:"text-blue-100",children:["Invoice #",j.cro]})]})]}),(0,b.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[(0,b.jsx)(e.Printer,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Print Invoice"})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8 print:mb-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"INVOICE"}),(0,b.jsx)("div",{className:"w-24 h-1 bg-blue-600 mx-auto"})]}),(0,b.jsxs)("div",{className:"flex justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Bill To:"}),(0,b.jsxs)("div",{className:"text-gray-600",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:j.patient_name}),(0,b.jsxs)("p",{children:["CRO: ",j.cro]}),(0,b.jsxs)("p",{children:["Age: ",j.age]}),(0,b.jsxs)("p",{children:["Gender: ",j.gender]}),(0,b.jsxs)("p",{children:["Address: ",j.address]}),(0,b.jsxs)("p",{children:["Phone: ",j.contact_number]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Invoice Details:"}),(0,b.jsxs)("div",{className:"text-gray-600",children:[(0,b.jsxs)("p",{children:["Invoice #: ",j.cro]}),(0,b.jsxs)("p",{children:["Date: ",new Date().toLocaleDateString()]}),(0,b.jsxs)("p",{children:["Hospital: ",j.h_name]}),(0,b.jsxs)("p",{children:["Doctor: ",j.dname]})]})]})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50",children:[(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"S.No"}),(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Name Of Scan"}),(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-3 text-right text-sm font-semibold text-gray-900",children:"Charges"})]})}),(0,b.jsxs)("tbody",{children:[l.map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-3 text-sm",children:c+1}),(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-3 text-sm font-medium",children:a.s_name}),(0,b.jsxs)("td",{className:"border border-gray-300 px-4 py-3 text-sm text-right",children:["₹",a.charges]})]},a.s_id)),(0,b.jsxs)("tr",{className:"bg-gray-50",children:[(0,b.jsx)("td",{colSpan:2,className:"border border-gray-300 px-4 py-3 text-sm font-semibold text-right",children:"Total Amount"}),(0,b.jsxs)("td",{className:"border border-gray-300 px-4 py-3 text-sm font-semibold text-right",children:["₹",j.amount]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:2,className:"border border-gray-300 px-4 py-3 text-sm font-semibold text-right",children:"Previous Deposit"}),(0,b.jsxs)("td",{className:"border border-gray-300 px-4 py-3 text-sm text-right",children:["₹",j.amount_reci]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:2,className:"border border-gray-300 px-4 py-3 text-sm font-semibold text-right",children:"Previous Due"}),(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-3 text-sm text-right",children:(0,b.jsx)("input",{type:"text",value:j.amount_due,className:"w-full text-right bg-transparent border-none outline-none",readOnly:!0})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:2,className:"border border-gray-300 px-4 py-3 text-sm font-semibold text-right",children:"Received Amount"}),(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-3 text-sm text-right",children:(0,b.jsx)("input",{type:"number",value:p,onChange:a=>{q(a.target.value),setTimeout(w,0)},className:"w-full text-right border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]}),(0,b.jsxs)("tr",{className:"bg-yellow-50",children:[(0,b.jsx)("td",{colSpan:2,className:"border border-gray-300 px-4 py-3 text-sm font-bold text-right",children:"Total Due"}),(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-3 text-sm text-right",children:(0,b.jsx)("input",{type:"text",value:r,className:"w-full text-right bg-yellow-50 border border-gray-300 rounded px-2 py-1 font-bold",readOnly:!0})})]})]})]})}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 print:hidden",children:[(0,b.jsxs)("button",{onClick:x,disabled:!p||t,className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,b.jsx)(f.Save,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:t?"Saving...":"Save"})]}),(0,b.jsxs)("button",{onClick:x,disabled:parseFloat(r)>0||!p||t,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,b.jsx)(e.Printer,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Save & Print"})]})]}),(0,b.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center text-gray-500",children:(0,b.jsx)("p",{className:"text-sm",children:"Thank you very much for doing business with us. We look forward to working with you again!"})})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Patient Not Found"}),(0,b.jsx)("button",{onClick:()=>h.push("/reception/patient-registration/edit"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Patient List"})]})})}}];

//# sourceMappingURL=_a7d32436._.js.map