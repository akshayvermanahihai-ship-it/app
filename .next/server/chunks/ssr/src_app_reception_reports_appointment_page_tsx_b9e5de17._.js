module.exports=[33127,a=>{"use strict";a.s(["default",()=>l]);var b=a.i(87924),c=a.i(72131),d=a.i(41675),e=a.i(41710),f=a.i(60246),g=a.i(81464),h=a.i(71931),i=a.i(16201);a.i(62722);var j=a.i(92e3),k=a.i(27747);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("all"),[s,t]=(0,c.useState)(1),[u]=(0,c.useState)(10),v=a=>{if(!a||"-"===a)return"-";if(a.includes("T")){let b=new Date(a),c=String(b.getDate()).padStart(2,"0"),d=String(b.getMonth()+1).padStart(2,"0"),e=b.getFullYear();return`${c}-${d}-${e}`}return a},w=()=>{let a=new Date,b=String(a.getDate()).padStart(2,"0"),c=String(a.getMonth()+1).padStart(2,"0"),d=a.getFullYear();return`${b}-${c}-${d}`},x=async a=>{n(!0);try{let b=a||o,c=b?`https://varahasdc.co.in/api/reports/appointment?date=${b}`:`https://varahasdc.co.in/api/reports/appointment?date=${w()}`,d=await fetch(c);if(d.ok){let a=await d.json();a.success?(l(a.data||[]),a.data.length):l([])}else l([])}catch(a){console.error("Error fetching appointments:",a),l([])}finally{n(!1)}};(0,c.useEffect)(()=>{let a=w();p(a),x(a)},[]);let y=a.filter(a=>"all"===q||a.status===q),z={total:a.length,scheduled:a.filter(a=>"scheduled"===a.status).length,completed:a.filter(a=>"completed"===a.status).length,pending:a.filter(a=>"pending"===a.status).length,cancelled:a.filter(a=>"cancelled"===a.status).length};return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6 space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-sky-500 to-sky-600 text-white p-6 rounded-xl shadow-lg",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Appointment Report"}),(0,b.jsx)("p",{className:"text-sky-100 text-lg",children:"Track and manage patient appointments and schedules"})]}),(0,b.jsx)("div",{className:"ml-6",children:(0,b.jsx)(k.default,{})})]})}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(d.Calendar,{className:"h-5 w-5 text-gray-500"}),(0,b.jsx)("input",{type:"date",value:o.split("-").reverse().join("-"),onChange:a=>{let b=a.target.value.split("-");p(`${b[2]}-${b[1]}-${b[0]}`)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(g.Filter,{className:"h-5 w-5 text-gray-500"}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,b.jsx)("button",{onClick:()=>x(),disabled:m,className:"px-6 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium",children:m?"Loading...":"Generate Report"})]}),a.length>0&&(0,b.jsxs)("button",{onClick:()=>{if(0===y.length)return void alert("No data to export");let a=`
      <html>
        <head>
          <meta charset="UTF-8">
          <style>
            table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }
            th, td { border: 1px solid black; padding: 8px; text-align: left; }
            th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
            .header { text-align: center; font-weight: bold; font-size: 16px; }
            .center { text-align: center; }
          </style>
        </head>
        <body>
          <table>
            <tr><th colspan="12" class="header">VARAHA SDC</th></tr>
            <tr><th colspan="12" class="header">APPOINTMENT REPORT Date: ${o}</th></tr>
            <tr>
              <th>S.No</th>
              <th>CRO</th>
              <th>NAME</th>
              <th>AGE</th>
              <th>GENDER</th>
              <th>CATEGORY</th>
              <th>SCAN TYPE</th>
              <th>TOTAL SCAN</th>
              <th>Time In</th>
              <th>Time Out</th>
              <th>Status</th>
              <th>Console Date</th>
            </tr>
    `;y.forEach((b,c)=>{a+=`
        <tr>
          <td class="center">${c+1}</td>
          <td>${b.cro}</td>
          <td>${b.patient_name}</td>
          <td>${b.age}</td>
          <td>${b.gender}</td>
          <td>${b.category}</td>
          <td>${b.scan_names||b.scan_type}</td>
          <td class="center">${b.total_scan}</td>
          <td class="center">${b.time_in||"-"}</td>
          <td class="center">${b.time_out||"-"}</td>
          <td class="center">${b.status.toUpperCase()}</td>
          <td class="center">${v(b.completed_date)}</td>
        </tr>
      `});let b=new Blob([a+=`
          </table>
        </body>
      </html>
    `],{type:"application/vnd.ms-excel;charset=utf-8"}),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`APPOINTMENT REPORT-${o}.xls`,d.click(),window.URL.revokeObjectURL(c)},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 shadow-md font-medium",children:[(0,b.jsx)(h.Printer,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Export to Excel"})]})]}),m&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading appointments..."})]}),a.length>0&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:z.total})]}),(0,b.jsx)(f.Users,{className:"h-6 w-6 text-gray-600"})]})}),(0,b.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-600 text-sm font-medium",children:"Scheduled"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:z.scheduled})]}),(0,b.jsx)(e.Clock,{className:"h-6 w-6 text-blue-600"})]})}),(0,b.jsx)("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-green-600 text-sm font-medium",children:"Completed"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-700",children:z.completed})]}),(0,b.jsx)(i.CheckCircle,{className:"h-6 w-6 text-green-600"})]})}),(0,b.jsx)("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-yellow-600 text-sm font-medium",children:"Pending"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-yellow-700",children:z.pending})]}),(0,b.jsx)(j.AlertCircle,{className:"h-6 w-6 text-yellow-600"})]})})]}),(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Appointment Details"}),(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.No"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CRO"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scan Type"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Scan"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time In"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Out"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Console Date"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{let a=(s-1)*u;return y.slice(a,a+u).map((c,d)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:a+d+1}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm font-medium text-blue-600",children:c.cro})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm font-medium text-black",children:c.patient_name})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:c.age}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:c.gender}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:c.category}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:c.scan_names||c.scan_type}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:c.total_scan}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:c.time_in||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:c.time_out||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-bold rounded-full border ${"Completed"===c.status?"bg-green-100 text-green-900 border-green-300":"Shared to Console"===c.status?"bg-blue-100 text-blue-900 border-blue-300":"bg-yellow-100 text-yellow-900 border-yellow-300"}`,children:c.status})})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:v(c.completed_date)})]},d))})()})]})]}),y.length>u&&(0,b.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",s," of ",Math.ceil(y.length/u)," | Total: ",y.length," records"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[s>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>t(1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"First"}),(0,b.jsx)("button",{onClick:()=>t(s-1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Previous"})]}),(0,b.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(y.length/u))},(a,c)=>{let d=Math.max(1,s-2)+c;return d>Math.ceil(y.length/u)?null:(0,b.jsx)("button",{onClick:()=>t(d),className:`px-3 py-2 text-sm font-medium rounded-lg ${s===d?"bg-sky-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:d},d)})}),s<Math.ceil(y.length/u)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>t(s+1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Next"}),(0,b.jsx)("button",{onClick:()=>t(Math.ceil(y.length/u)),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Last"})]})]})]})})]}),!a.length&&!m&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(d.Calendar,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Appointments Found"}),(0,b.jsx)("p",{className:"text-gray-500",children:"No appointments scheduled for the selected date."})]})]})]})}}];

//# sourceMappingURL=src_app_reception_reports_appointment_page_tsx_b9e5de17._.js.map