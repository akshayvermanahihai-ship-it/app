{"version":3,"sources":["turbopack:///[project]/src/app/reception/reports/appointment/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Calendar, Clock, Users, Filter, Printer, CheckCircle, XCircle, AlertCircle } from 'lucide-react';\nimport LastEnrolledPatient from '@/components/LastEnrolledPatient';\n\ninterface Appointment {\n  sno: number;\n  cro: string;\n  patient_name: string;\n  age: string;\n  gender: string;\n  category: string;\n  scan_type: string;\n  total_scan: number;\n  time_in: string;\n  time_out: string;\n  status: string;\n  completed_date?: string;\n  scan_names?: string;\n}\n\nexport default function AppointmentReport() {\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedDate, setSelectedDate] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(10);\n\n  const formatConsoleDate = (dateString?: string) => {\n    if (!dateString || dateString === '-') return '-';\n    \n    // Handle ISO format like 2025-10-01T04:00:00.000Z\n    if (dateString.includes('T')) {\n      const date = new Date(dateString);\n      const dd = String(date.getDate()).padStart(2, '0');\n      const mm = String(date.getMonth() + 1).padStart(2, '0');\n      const yyyy = date.getFullYear();\n      return `${dd}-${mm}-${yyyy}`;\n    }\n    \n    // Return as is if already in DD-MM-YYYY format\n    return dateString;\n  };\n\n  const getTodayDate = () => {\n    const today = new Date();\n    const dd = String(today.getDate()).padStart(2, '0');\n    const mm = String(today.getMonth() + 1).padStart(2, '0');\n    const yyyy = today.getFullYear();\n    return `${dd}-${mm}-${yyyy}`;\n  };\n\n  const fetchAppointments = async (date?: string) => {\n    setLoading(true);\n    try {\n      const queryDate = date || selectedDate;\n      const url = queryDate \n        ? `https://varahasdc.co.in/api/reports/appointment?date=${queryDate}`\n        : `https://varahasdc.co.in/api/reports/appointment?date=${getTodayDate()}`;\n      \n      const response = await fetch(url);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          setAppointments(data.data || []);\n          if (data.data.length === 0) {\n            // Show toast message instead of alert\n          }\n        } else {\n          setAppointments([]);\n        }\n      } else {\n        setAppointments([]);\n      }\n    } catch (error) {\n      console.error('Error fetching appointments:', error);\n      setAppointments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    const todayDate = getTodayDate();\n    setSelectedDate(todayDate);\n    fetchAppointments(todayDate);\n  }, []);\n\n  const filteredAppointments = appointments.filter(appointment => \n    statusFilter === 'all' || appointment.status === statusFilter\n  );\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'completed':\n        return <CheckCircle className=\"h-4 w-4 text-green-600\" />;\n      case 'cancelled':\n        return <XCircle className=\"h-4 w-4 text-red-600\" />;\n      case 'pending':\n        return <AlertCircle className=\"h-4 w-4 text-yellow-600\" />;\n      default:\n        return <Clock className=\"h-4 w-4 text-blue-600\" />;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      default:\n        return 'bg-blue-100 text-blue-800';\n    }\n  };\n\n  const statusCounts = {\n    total: appointments.length,\n    scheduled: appointments.filter(a => a.status === 'scheduled').length,\n    completed: appointments.filter(a => a.status === 'completed').length,\n    pending: appointments.filter(a => a.status === 'pending').length,\n    cancelled: appointments.filter(a => a.status === 'cancelled').length\n  };\n\n  const exportToExcel = () => {\n    if (filteredAppointments.length === 0) {\n      alert('No data to export');\n      return;\n    }\n\n    // Create HTML table with styling similar to PHP version\n    let htmlContent = `\n      <html>\n        <head>\n          <meta charset=\"UTF-8\">\n          <style>\n            table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }\n            th, td { border: 1px solid black; padding: 8px; text-align: left; }\n            th { background-color: #f0f0f0; font-weight: bold; text-align: center; }\n            .header { text-align: center; font-weight: bold; font-size: 16px; }\n            .center { text-align: center; }\n          </style>\n        </head>\n        <body>\n          <table>\n            <tr><th colspan=\"12\" class=\"header\">VARAHA SDC</th></tr>\n            <tr><th colspan=\"12\" class=\"header\">APPOINTMENT REPORT Date: ${selectedDate}</th></tr>\n            <tr>\n              <th>S.No</th>\n              <th>CRO</th>\n              <th>NAME</th>\n              <th>AGE</th>\n              <th>GENDER</th>\n              <th>CATEGORY</th>\n              <th>SCAN TYPE</th>\n              <th>TOTAL SCAN</th>\n              <th>Time In</th>\n              <th>Time Out</th>\n              <th>Status</th>\n              <th>Console Date</th>\n            </tr>\n    `;\n\n    // Add appointment data rows\n    filteredAppointments.forEach((appointment, index) => {\n      htmlContent += `\n        <tr>\n          <td class=\"center\">${index + 1}</td>\n          <td>${appointment.cro}</td>\n          <td>${appointment.patient_name}</td>\n          <td>${appointment.age}</td>\n          <td>${appointment.gender}</td>\n          <td>${appointment.category}</td>\n          <td>${appointment.scan_names || appointment.scan_type}</td>\n          <td class=\"center\">${appointment.total_scan}</td>\n          <td class=\"center\">${appointment.time_in || '-'}</td>\n          <td class=\"center\">${appointment.time_out || '-'}</td>\n          <td class=\"center\">${appointment.status.toUpperCase()}</td>\n          <td class=\"center\">${formatConsoleDate(appointment.completed_date)}</td>\n        </tr>\n      `;\n    });\n\n    htmlContent += `\n          </table>\n        </body>\n      </html>\n    `;\n\n    // Create blob and download as Excel file\n    const blob = new Blob([htmlContent], { \n      type: 'application/vnd.ms-excel;charset=utf-8' \n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `APPOINTMENT REPORT-${selectedDate}.xls`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6 space-y-6\">\n      <div className=\"bg-gradient-to-r from-sky-500 to-sky-600 text-white p-6 rounded-xl shadow-lg\">\n        <div className=\"flex justify-between items-start\"><div><h1 className=\"text-3xl font-bold mb-2\">Appointment Report</h1>\n        <p className=\"text-sky-100 text-lg\">Track and manage patient appointments and schedules</p></div><div className=\"ml-6\"><LastEnrolledPatient /></div></div>\n      </div>\n\n      <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n        <div className=\"flex flex-col lg:flex-row gap-4 items-center justify-between mb-6\">\n          <div className=\"flex flex-col sm:flex-row gap-4 items-center\">\n            <div className=\"flex items-center space-x-2\">\n              <Calendar className=\"h-5 w-5 text-gray-500\" />\n              <input\n                type=\"date\"\n                value={selectedDate.split('-').reverse().join('-')}\n                onChange={(e) => {\n                  const parts = e.target.value.split('-');\n                  const formattedDate = `${parts[2]}-${parts[1]}-${parts[0]}`;\n                  setSelectedDate(formattedDate);\n                }}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <Filter className=\"h-5 w-5 text-gray-500\" />\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"all\">All Status</option>\n                <option value=\"scheduled\">Scheduled</option>\n                <option value=\"completed\">Completed</option>\n                <option value=\"pending\">Pending</option>\n                <option value=\"cancelled\">Cancelled</option>\n              </select>\n            </div>\n            \n            <button\n              onClick={() => fetchAppointments()}\n              disabled={loading}\n              className=\"px-6 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium\"\n            >\n              {loading ? 'Loading...' : 'Generate Report'}\n            </button>\n          </div>\n          \n          {appointments.length > 0 && (\n            <button\n              onClick={exportToExcel}\n              className=\"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-sky-500 to-sky-600 text-white rounded-lg hover:from-sky-600 hover:to-sky-700 transition-all duration-200 shadow-md font-medium\"\n            >\n              <Printer className=\"h-4 w-4\" />\n              <span>Export to Excel</span>\n            </button>\n          )}\n        </div>\n\n        {loading && (\n          <div className=\"text-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Loading appointments...</p>\n          </div>\n        )}\n\n        {appointments.length > 0 && (\n          <div className=\"space-y-6\">\n            {/* Status Summary Cards */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm font-medium\">Total</p>\n                    <p className=\"text-2xl font-bold text-gray-700\">{statusCounts.total}</p>\n                  </div>\n                  <Users className=\"h-6 w-6 text-gray-600\" />\n                </div>\n              </div>\n\n              <div className=\"bg-blue-50 p-4 rounded-xl border border-blue-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-blue-600 text-sm font-medium\">Scheduled</p>\n                    <p className=\"text-2xl font-bold text-blue-700\">{statusCounts.scheduled}</p>\n                  </div>\n                  <Clock className=\"h-6 w-6 text-blue-600\" />\n                </div>\n              </div>\n\n              <div className=\"bg-green-50 p-4 rounded-xl border border-green-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-green-600 text-sm font-medium\">Completed</p>\n                    <p className=\"text-2xl font-bold text-green-700\">{statusCounts.completed}</p>\n                  </div>\n                  <CheckCircle className=\"h-6 w-6 text-green-600\" />\n                </div>\n              </div>\n\n              <div className=\"bg-yellow-50 p-4 rounded-xl border border-yellow-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-yellow-600 text-sm font-medium\">Pending</p>\n                    <p className=\"text-2xl font-bold text-yellow-700\">{statusCounts.pending}</p>\n                  </div>\n                  <AlertCircle className=\"h-6 w-6 text-yellow-600\" />\n                </div>\n              </div>\n            </div>\n\n            {/* Appointments Table */}\n            <div className=\"overflow-x-auto\">\n              <h3 className=\"text-lg font-semibold mb-4\">Appointment Details</h3>\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">S.No</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">CRO</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Age</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Gender</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Category</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Scan Type</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Total Scan</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Time In</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Time Out</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Console Date</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {(() => {\n                    const startIndex = (currentPage - 1) * itemsPerPage;\n                    const paginatedAppointments = filteredAppointments.slice(startIndex, startIndex + itemsPerPage);\n                    \n                    return paginatedAppointments.map((appointment, index) => (\n                    <tr key={index} className=\"hover:bg-gray-50 transition-colors\">\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-center\">{startIndex + index + 1}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-blue-600\">{appointment.cro}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-black\">{appointment.patient_name}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{appointment.age}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{appointment.gender}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{appointment.category}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black\">{appointment.scan_names || appointment.scan_type}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black text-center\">{appointment.total_scan}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black text-center\">{appointment.time_in || '-'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black text-center\">{appointment.time_out || '-'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center justify-center\">\n                          <span className={`px-2 py-1 text-xs font-bold rounded-full border ${\n                            appointment.status === 'Completed' ? 'bg-green-100 text-green-900 border-green-300' :\n                            appointment.status === 'Shared to Console' ? 'bg-blue-100 text-blue-900 border-blue-300' :\n                            'bg-yellow-100 text-yellow-900 border-yellow-300'\n                          }`}>\n                            {appointment.status}\n                          </span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-black text-center\">{formatConsoleDate(appointment.completed_date)}</td>\n                    </tr>\n                    ));\n                  })()}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Pagination */}\n            {filteredAppointments.length > itemsPerPage && (\n              <div className=\"px-6 py-4 border-t border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm text-gray-700\">\n                    Page {currentPage} of {Math.ceil(filteredAppointments.length / itemsPerPage)} | Total: {filteredAppointments.length} records\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    {currentPage > 1 && (\n                      <>\n                        <button\n                          onClick={() => setCurrentPage(1)}\n                          className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n                        >\n                          First\n                        </button>\n                        <button\n                          onClick={() => setCurrentPage(currentPage - 1)}\n                          className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n                        >\n                          Previous\n                        </button>\n                      </>\n                    )}\n                    \n                    <div className=\"flex items-center space-x-1\">\n                      {Array.from({ length: Math.min(5, Math.ceil(filteredAppointments.length / itemsPerPage)) }, (_, i) => {\n                        const startPage = Math.max(1, currentPage - 2);\n                        const page = startPage + i;\n                        const totalPages = Math.ceil(filteredAppointments.length / itemsPerPage);\n                        if (page > totalPages) return null;\n                        \n                        return (\n                          <button\n                            key={page}\n                            onClick={() => setCurrentPage(page)}\n                            className={`px-3 py-2 text-sm font-medium rounded-lg ${\n                              currentPage === page\n                                ? 'bg-sky-600 text-white'\n                                : 'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'\n                            }`}\n                          >\n                            {page}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    \n                    {currentPage < Math.ceil(filteredAppointments.length / itemsPerPage) && (\n                      <>\n                        <button\n                          onClick={() => setCurrentPage(currentPage + 1)}\n                          className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n                        >\n                          Next\n                        </button>\n                        <button\n                          onClick={() => setCurrentPage(Math.ceil(filteredAppointments.length / itemsPerPage))}\n                          className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n                        >\n                          Last\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {!appointments.length && !loading && (\n          <div className=\"text-center py-12\">\n            <Calendar className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Appointments Found</h3>\n            <p className=\"text-gray-500\">No appointments scheduled for the selected date.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}