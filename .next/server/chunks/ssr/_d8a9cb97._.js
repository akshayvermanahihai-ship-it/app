module.exports=[84505,a=>{"use strict";a.s(["Download",()=>b],84505);let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},27747,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(46842),e=a.i(50522);function f(){let[a,f]=(0,c.useState)(null);(0,c.useEffect)(()=>{g()},[]);let g=async()=>{try{let a=await fetch("https://varahasdc.co.in/api/reception/patients/last-enrolled");if(a.ok){let b=await a.json();f(b.data)}}catch(a){console.error("Error fetching last patient:",a)}};return a?(0,b.jsx)("div",{className:"bg-blue-600 bg-opacity-20 rounded-lg p-4 border border-blue-200",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-white",children:[(0,b.jsx)(d.User,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-medium text-white",children:"Last Enrolled Patient"}),(0,b.jsx)(e.ChevronRight,{className:"h-3 w-3 text-white"}),(0,b.jsx)("span",{className:"text-sm font-bold text-white",children:a.cro}),(0,b.jsx)(e.ChevronRight,{className:"h-3 w-3 text-white"}),(0,b.jsx)("span",{className:"text-sm font-medium text-white",children:a.patient_name})]})}):null}},4971,a=>{"use strict";a.s(["default",()=>j]);var b=a.i(87924),c=a.i(72131),d=a.i(41675),e=a.i(4720),f=a.i(84505),g=a.i(87532),h=a.i(66632),i=a.i(27747);function j(){let a=(0,h.useToastContext)(),j=()=>{let a=new Date,b=String(a.getDate()).padStart(2,"0"),c=String(a.getMonth()+1).padStart(2,"0"),d=a.getFullYear();return`${b}-${c}-${d}`},[k,l]=(0,c.useState)(j()),[m,n]=(0,c.useState)(j()),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),u=async(b=k,c=m)=>{if(!b||!c)return void a.error("Please select both start and end dates");r(!0);try{let d=await fetch(`https://varahasdc.co.in/api/reception/reports/doctor?startDate=${b}&endDate=${c}`);if(d.ok){let a=await d.json();p(a.data||[]),t(!0)}else a.error("Failed to generate report"),p([]),t(!1)}catch(b){console.error("Error generating report:",b),a.error("Error generating report"),p([]),t(!1)}finally{r(!1)}},v=async a=>{a.preventDefault(),u()};return(0,c.useEffect)(()=>{u()},[]),(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-xl shadow-lg mb-6",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Doctor Daily Report"}),(0,b.jsx)("p",{className:"text-blue-100 text-lg",children:"Generate comprehensive doctor performance reports"})]}),(0,b.jsx)("div",{className:"ml-6",children:(0,b.jsx)(i.default,{})})]})}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-blue-100 mb-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 rounded-lg mb-6",children:(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,b.jsx)(d.Calendar,{className:"h-5 w-5 mr-2"}),"Report By Date Range"]})}),(0,b.jsx)("form",{onSubmit:v,className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["From Date ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"date",value:k.split("-").reverse().join("-"),onChange:a=>{let b=a.target.value.split("-");l(`${b[2]}-${b[1]}-${b[0]}`)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["To Date ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"date",value:m.split("-").reverse().join("-"),onChange:a=>{let b=a.target.value.split("-");n(`${b[2]}-${b[1]}-${b[0]}`)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("button",{type:"submit",disabled:q,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 shadow-md font-medium",children:[(0,b.jsx)(g.Search,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:q?"Generating...":"Generate Report"})]})})]})})]}),s&&(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100",children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"VARAHA SDC"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mt-1",children:"DOCTOR REPORT"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["From ",(0,b.jsx)("span",{className:"font-medium",children:k})," To ",(0,b.jsx)("span",{className:"font-medium",children:m})]})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsxs)("button",{onClick:()=>{if(!k||!m)return void a.error("Please generate report first");let b=`https://varahasdc.co.in/api/reception/reports/doctor/excel?startDate=${k}&endDate=${m}`;window.open(b,"_blank")},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-md font-medium",children:[(0,b.jsx)(f.Download,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Export to Excel"})]}),(0,b.jsxs)("button",{onClick:()=>{if(0===o.length)return void a.error("No data to export");let b="<html>";b+=`<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252"><body><table border="1"><tr><th colspan="6">VARAHA SDC</th></tr><tr><th style="text-align:center;" colspan="6">DOCTOR REPORT</th></tr><tr><th style="text-align:center;" colspan="6">From ${k} To ${m}</th></tr><tr><th>S.No</th><th>DOCTOR NAME</th><th>Total Scan</th><th>Paid Patient</th><th>Free Patient</th><th>Total Revenue</th></tr>`,o.forEach(a=>{b+=`<tr><td>${a.sno}</td><td>${a.doctorName}</td><td>${a.totalScans}</td><td>${a.paidPatients}</td><td>${a.freePatients}</td><td>${a.totalRevenue}</td></tr>`});let c=new Blob([b+="<tr><td></td><td></td><td></td><td></td><td></td><td></td></tr></table></body></html>"],{type:"application/vnd.ms-excel"}),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`DOCTOR_REPORT-${k} -To-${m}.xls`,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(d)},className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md font-medium",children:[(0,b.jsx)(e.FileText,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Download Report"})]})]})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-blue-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"S.No"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Doctor Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total Scan"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Paid Patient"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Free Patient"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total Revenue"})]})}),(0,b.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.sno}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:a.doctorName}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:a.totalScans}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:a.paidPatients}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:a.freePatients}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:["₹",a.totalRevenue.toLocaleString()]})]},c)),(0,b.jsxs)("tr",{className:"bg-blue-100 font-bold",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900",colSpan:2,children:"TOTAL"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-center",children:o.reduce((a,b)=>a+b.totalScans,0)}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-center",children:o.reduce((a,b)=>a+b.paidPatients,0)}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-center",children:o.reduce((a,b)=>a+b.freePatients,0)}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-900 text-right",children:["₹",o.reduce((a,b)=>a+b.totalRevenue,0).toLocaleString()]})]})]})]})}),0===o.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(e.FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Found"}),(0,b.jsx)("p",{className:"text-gray-500",children:"No doctor reports found for the selected date range."})]})]}),!s&&!q&&(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(e.FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Generate Doctor Report"}),(0,b.jsx)("p",{className:"text-gray-500",children:'Select a date range above and click "Generate Report" to view doctor performance data.'})]})})]})})}}];

//# sourceMappingURL=_d8a9cb97._.js.map